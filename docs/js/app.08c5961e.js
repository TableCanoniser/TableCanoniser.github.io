(function(){var __webpack_modules__={35358:function(e,t,n){var i={"./af":22190,"./af.js":22190,"./ar":7218,"./ar-dz":85785,"./ar-dz.js":85785,"./ar-kw":29417,"./ar-kw.js":29417,"./ar-ly":56904,"./ar-ly.js":56904,"./ar-ma":98617,"./ar-ma.js":98617,"./ar-ps":91318,"./ar-ps.js":91318,"./ar-sa":82699,"./ar-sa.js":82699,"./ar-tn":36789,"./ar-tn.js":36789,"./ar.js":7218,"./az":23050,"./az.js":23050,"./be":8316,"./be.js":8316,"./bg":70310,"./bg.js":70310,"./bm":58884,"./bm.js":58884,"./bn":83469,"./bn-bd":46672,"./bn-bd.js":46672,"./bn.js":83469,"./bo":39118,"./bo.js":39118,"./br":13113,"./br.js":13113,"./bs":23626,"./bs.js":23626,"./ca":40921,"./ca.js":40921,"./cs":17799,"./cs.js":17799,"./cv":12828,"./cv.js":12828,"./cy":93521,"./cy.js":93521,"./da":56962,"./da.js":56962,"./de":93294,"./de-at":16158,"./de-at.js":16158,"./de-ch":95960,"./de-ch.js":95960,"./de.js":93294,"./dv":47963,"./dv.js":47963,"./el":3432,"./el.js":3432,"./en-au":20998,"./en-au.js":20998,"./en-ca":38312,"./en-ca.js":38312,"./en-gb":45930,"./en-gb.js":45930,"./en-ie":58081,"./en-ie.js":58081,"./en-il":71594,"./en-il.js":71594,"./en-in":23904,"./en-in.js":23904,"./en-nz":1507,"./en-nz.js":1507,"./en-sg":19409,"./en-sg.js":19409,"./eo":22177,"./eo.js":22177,"./es":84805,"./es-do":39155,"./es-do.js":39155,"./es-mx":69791,"./es-mx.js":69791,"./es-us":76098,"./es-us.js":76098,"./es.js":84805,"./et":96240,"./et.js":96240,"./eu":20391,"./eu.js":20391,"./fa":20612,"./fa.js":20612,"./fi":4220,"./fi.js":4220,"./fil":65570,"./fil.js":65570,"./fo":5466,"./fo.js":5466,"./fr":14461,"./fr-ca":66306,"./fr-ca.js":66306,"./fr-ch":27081,"./fr-ch.js":27081,"./fr.js":14461,"./fy":73484,"./fy.js":73484,"./ga":76957,"./ga.js":76957,"./gd":72978,"./gd.js":72978,"./gl":89866,"./gl.js":89866,"./gom-deva":65011,"./gom-deva.js":65011,"./gom-latn":84724,"./gom-latn.js":84724,"./gu":71601,"./gu.js":71601,"./he":79802,"./he.js":79802,"./hi":9358,"./hi.js":9358,"./hr":13907,"./hr.js":13907,"./hu":10218,"./hu.js":10218,"./hy-am":20533,"./hy-am.js":20533,"./id":52844,"./id.js":52844,"./is":97353,"./is.js":97353,"./it":6364,"./it-ch":20774,"./it-ch.js":20774,"./it.js":6364,"./ja":6008,"./ja.js":6008,"./jv":68221,"./jv.js":68221,"./ka":92417,"./ka.js":92417,"./kk":42071,"./kk.js":42071,"./km":76149,"./km.js":76149,"./kn":94572,"./kn.js":94572,"./ko":60659,"./ko.js":60659,"./ku":66285,"./ku-kmr":59398,"./ku-kmr.js":59398,"./ku.js":66285,"./ky":81609,"./ky.js":81609,"./lb":119,"./lb.js":119,"./lo":81748,"./lo.js":81748,"./lt":71973,"./lt.js":71973,"./lv":81347,"./lv.js":81347,"./me":53023,"./me.js":53023,"./mi":65747,"./mi.js":65747,"./mk":64341,"./mk.js":64341,"./ml":63840,"./ml.js":63840,"./mn":62058,"./mn.js":62058,"./mr":19182,"./mr.js":19182,"./ms":45197,"./ms-my":89136,"./ms-my.js":89136,"./ms.js":45197,"./mt":36408,"./mt.js":36408,"./my":51683,"./my.js":51683,"./nb":53141,"./nb.js":53141,"./ne":29344,"./ne.js":29344,"./nl":44703,"./nl-be":84641,"./nl-be.js":84641,"./nl.js":44703,"./nn":79873,"./nn.js":79873,"./oc-lnc":61217,"./oc-lnc.js":61217,"./pa-in":24612,"./pa-in.js":24612,"./pl":24457,"./pl.js":24457,"./pt":1089,"./pt-br":79146,"./pt-br.js":79146,"./pt.js":1089,"./ro":45950,"./ro.js":45950,"./ru":27292,"./ru.js":27292,"./sd":56774,"./sd.js":56774,"./se":87493,"./se.js":87493,"./si":3761,"./si.js":3761,"./sk":49711,"./sk.js":49711,"./sl":88558,"./sl.js":88558,"./sq":8633,"./sq.js":8633,"./sr":90688,"./sr-cyrl":47903,"./sr-cyrl.js":47903,"./sr.js":90688,"./ss":31991,"./ss.js":31991,"./sv":4639,"./sv.js":4639,"./sw":15891,"./sw.js":15891,"./ta":45714,"./ta.js":45714,"./te":30206,"./te.js":30206,"./tet":24768,"./tet.js":24768,"./tg":28276,"./tg.js":28276,"./th":57977,"./th.js":57977,"./tk":56928,"./tk.js":56928,"./tl-ph":8046,"./tl-ph.js":8046,"./tlh":41361,"./tlh.js":41361,"./tr":64367,"./tr.js":64367,"./tzl":10627,"./tzl.js":10627,"./tzm":12636,"./tzm-latn":98148,"./tzm-latn.js":98148,"./tzm.js":12636,"./ug-cn":68823,"./ug-cn.js":68823,"./uk":40461,"./uk.js":40461,"./ur":41366,"./ur.js":41366,"./uz":83454,"./uz-latn":18374,"./uz-latn.js":18374,"./uz.js":83454,"./vi":78572,"./vi.js":78572,"./x-pseudo":80464,"./x-pseudo.js":80464,"./yo":93709,"./yo.js":93709,"./zh-cn":65873,"./zh-cn.js":65873,"./zh-hk":17549,"./zh-hk.js":17549,"./zh-mo":52240,"./zh-mo.js":52240,"./zh-tw":90405,"./zh-tw.js":90405};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=o,e.exports=s,s.id=35358},27098:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_url_search_params_delete_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14603),core_js_modules_web_url_search_params_delete_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_url_search_params_delete_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_url_search_params_has_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(47566),core_js_modules_web_url_search_params_has_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_url_search_params_has_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_url_search_params_size_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(98721),core_js_modules_web_url_search_params_size_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_url_search_params_size_js__WEBPACK_IMPORTED_MODULE_3__),vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(56768),vue__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(90144),_components_ColType_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4582),_handsontable_vue3__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(30328),handsontable_dist_handsontable_full_css__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19830),handsontable_registry__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(48355),handsontable__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8153),_store_table__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25719),xlsx__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(93230),ant_design_vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(17844),_utils_dragLayout__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(17727),_utils_minimap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(48228);const _hoisted_1={class:"view"},_hoisted_2={class:"view-title"},_hoisted_3=(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("span",{class:"head-text"},"Input Table",-1),_hoisted_4={style:{float:"right","margin-right":"10px"}},_hoisted_5=(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("span",null,"Upload",-1),_hoisted_6=(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("span",null,"Reset Data",-1),_hoisted_7={class:"view-content"},_hoisted_8={id:"output-tbl",style:{height:"calc(100% - 28px)",overflow:"hidden"}},_hoisted_9={class:"view"},_hoisted_10={class:"view-title"},_hoisted_11=(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("span",null,"Output Table",-1),_hoisted_12={style:{float:"right","margin-right":"10px"}},_hoisted_13=(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("span",null,"Download",-1),_hoisted_14={class:"view-content"},_hoisted_15={id:"output-tbl",style:{height:"calc(100% - 28px)",overflow:"hidden"}};__webpack_exports__.A=(0,vue__WEBPACK_IMPORTED_MODULE_4__.pM)({__name:"InOutTable",setup(__props){(0,handsontable_registry__WEBPACK_IMPORTED_MODULE_11__.um)();const tableStore=(0,_store_table__WEBPACK_IMPORTED_MODULE_8__.v)(),output_col=(0,vue__WEBPACK_IMPORTED_MODULE_12__.KR)(tableStore.output_tbl.cols),output_tbl=(0,vue__WEBPACK_IMPORTED_MODULE_12__.KR)(tableStore.output_tbl.tbl),input_tbl=(0,vue__WEBPACK_IMPORTED_MODULE_12__.KR)(tableStore.input_tbl.tbl);let inHotInst,outHotInst;function renderTblCell(e,t,n,i,s,o,r){handsontable__WEBPACK_IMPORTED_MODULE_13__.Ay.renderers.TextRenderer.apply(this,arguments),t.innerHTML=`<div class="truncated">${o}</div>`}function updateColInfoFn(e){if("input_tbl"===e){const e=tableStore.input_tbl.tbl;(0,_utils_minimap__WEBPACK_IMPORTED_MODULE_10__.W)(e.length,e[0].length,document.querySelector("svg.tbl-container"),tableStore),tableStore.optimizeMiniTempDistance(),tableStore.clearStatus("miniHighlight"),tableStore.initTblInfo(!1),tableStore.output_tbl.colInfo=[],tableStore.spec.matchedInstNum=0}tableStore.computeColInfo(e)}function resetData(){tableStore.input_tbl.tbl=JSON.parse(JSON.stringify(tableStore.currentInitData)),tableStore.input_tbl.instance.updateData(tableStore.input_tbl.tbl),tableStore.input_tbl.instance.render(),updateColInfoFn("input_tbl")}const fileList=(0,vue__WEBPACK_IMPORTED_MODULE_12__.KR)([]);let fileTblData=[];const handleUpload=e=>{try{const t=new FileReader;t.onload=t=>{const n=t.target?.result,i=xlsx__WEBPACK_IMPORTED_MODULE_14__.LF(n,{type:"array"}),s=i.SheetNames[0],o=i.Sheets[s],r=xlsx__WEBPACK_IMPORTED_MODULE_14__.Wp.sheet_to_json(o,{header:1}),a=Math.max(...r.map((e=>e.length)));fileTblData=r.map((e=>{while(e.length<a)e.push(void 0);return e})),handlePreview(),e.onSuccess("ok")},t.readAsArrayBuffer(e.file)}catch(t){ant_design_vue__WEBPACK_IMPORTED_MODULE_15__.Ay.error(`${e.file.name} file uploaded failed.\n${t}`)}};let saveLastCase="";const handleRemove=()=>{tableStore.initTblInfo(),tableStore.transformTblUpdateRootArea(),tableStore.currentCase=saveLastCase||tableStore.caseList[0],saveLastCase="",tableStore.caseList.pop()},handlePreview=()=>{tableStore.initTblInfo(),tableStore.input_tbl.tbl=fileTblData,tableStore.input_tbl.instance.updateData(fileTblData),tableStore.input_tbl.instance.render(),tableStore.currentInitData=JSON.parse(JSON.stringify(fileTblData)),tableStore.transformTblUpdateRootArea(),tableStore.currentCase.startsWith("Custom")||(saveLastCase=tableStore.currentCase),tableStore.caseList.includes("Custom File")||tableStore.caseList.push("Custom File"),tableStore.currentCase="Custom File"};function arrayToCSV(e){return e.map((e=>e.map((e=>`${void 0===e?"":e}`)).join(","))).join("\n")}(0,vue__WEBPACK_IMPORTED_MODULE_4__.wB)((()=>tableStore.currentCase),(e=>{e.startsWith("Custom")?handlePreview():tableStore.loadCaseData(e)}));const handleDownload=()=>{if(0===tableStore.output_tbl.cols.length)return void ant_design_vue__WEBPACK_IMPORTED_MODULE_15__.Ay.warning("The output table is empty.");const e=arrayToCSV([tableStore.output_tbl.cols,...tableStore.output_tbl.tbl]),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="tidy table.csv",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),ant_design_vue__WEBPACK_IMPORTED_MODULE_15__.Ay.success("The output table has been downloaded successfully.")};function normalizeSelection(e){return e.map((([e,t,n,i])=>{e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),i<0&&(i=0);const s=Math.min(e,n),o=Math.max(e,n),r=Math.min(t,i),a=Math.max(t,i);return[s,r,o,a]}))}function initEventsForTbl(tbl){let tblInst1,tblInst2;const tbl2="input_tbl"===tbl?"output_tbl":"input_tbl";"input_tbl"===tbl?(tblInst1=inHotInst,tblInst2=outHotInst):(tblInst1=outHotInst,tblInst2=inHotInst),tblInst1.updateSettings({outsideClickDeselects:e=>{const t=e?.className;return null!==e.closest(".goToInstance")?("cell"===document.body.style.cursor&&tableStore.clearStatus("matchArea"),!0):"wtHolder"===t||("string"!==typeof t?(tblInst2.updateSettings({cell:[]}),!0):(tblInst1===outHotInst&&["relative","rowHeader","current","truncated"].some((e=>t.split(" ").includes(e)))?"cell"!==document.body.style.cursor&&tblInst2.updateSettings({cell:[]}):(tableStore.clearStatus("matchArea"),tblInst2.updateSettings({cell:[]})),tableStore.highlightMinimapCells([]),tableStore.clearStatus("tree"),"input_tbl"===tbl&&(t.startsWith("mtk")||"view-line"===t||tableStore.editor.mappingSpec.decorations?.clear()),!0))}}),tblInst1.addHook("afterColumnResize",((e,t,n)=>{tableStore.computeColInfo(tbl)})),tblInst1.addHook("afterChange",((e,t)=>{e&&e.some((e=>e[2]!==e[3]))&&("input_tbl"===tbl&&(tableStore.clearStatus("miniHighlight"),tableStore.initTblInfo(!1),tableStore.computeColInfo("output_tbl"),tableStore.spec.matchedInstNum=0),tableStore.computeColInfo(tbl))})),tblInst1.addHook("afterCreateRow",(()=>updateColInfoFn(tbl))),tblInst1.addHook("afterCreateCol",(()=>updateColInfoFn(tbl))),tblInst1.addHook("afterRemoveRow",(()=>updateColInfoFn(tbl))),tblInst1.addHook("afterRemoveCol",(()=>updateColInfoFn(tbl))),tblInst1.addHook("afterOnCellMouseDown",(e=>{tblInst2.updateSettings({cell:[]})})),tblInst1.addHook("afterOnCellMouseUp",((event,coords,TD)=>{const selected=normalizeSelection(tblInst1.getSelected()||[]),{selectedCoords:selectedCoords,hightedCells:hightedCells}=tableStore.getHightlightedCells(selected),cells=tableStore.in_out_mapping(selectedCoords,tbl);if(tableStore.highlightTblCells(tbl2,cells),"input_tbl"===tbl){if(tableStore.highlightMinimapCells(hightedCells),"cell"===document.body.style.cursor)if(tableStore.spec.selectAreaFromNode){tableStore.tree.instanceIndex=0,tableStore.updateVisTreeAreaBox();const selectType=tableStore.spec.selectAreaFromNode,visNode=tableStore.spec.selectNode.data,nx=visNode.x,ny=visNode.y,nw=visNode.width,nh=visNode.height,[startRow,startCol,endRow,endCol]=selected[0],offsetX=startCol-nx,offsetY=startRow-ny;if(selectType.startsWith("3")){const width=endCol-startCol+1,height=endRow-startRow+1,traverse=visNode.children&&visNode.children.length>0?{}:{xDirection:nw>=2*width?"after":void 0,yDirection:nh>=2*height?"after":void 0};let extract=null,extractColor="";const maxCNum=tableStore.findMaxCNumber()+1;switch(selectType){case"3-0":extract={byPositionToTargetCols:Array.from({length:width*height},((e,t)=>`C${maxCNum+t}`))},extractColor="positionShallow";break;case"3-1":extract={byContext:{position:"above"}},extractColor="contextShallow";break;case"3-2":const createExtract=()=>eval(`currentAreaTbl => {\n                  // Please replace the default code with the necessary implementation to complete the function.\n                  return currentAreaTbl.flat().map((cell, i) => 'C' + (${maxCNum} + i))\n                  }`);extract={byValue:createExtract()},extractColor="valueShallow";break;case"3-3":extract=void 0,extractColor="nullShallow";break}const childPattern={match:{startCell:{offsetX:offsetX,offsetY:offsetY},size:{width:width,height:height},traverse:traverse},extract:extract};tableStore.insertNodeOrPropertyIntoSpecs(childPattern,"children"),tableStore.editor.mappingSpec.highlightCode=[...tableStore.getHighlightCodeStartEndLine(childPattern),extractColor]}else if("1"===selectType){const e=inHotInst.getDataAtCell(startRow,startCol),t={offsetFrom:"topLeft",offsetX:offsetX,offsetY:offsetY,valueCstr:tableStore.getCellDataType(e)};tableStore.insertNodeOrPropertyIntoSpecs(t,"constraints"),tableStore.editor.mappingSpec.highlightCode=[...tableStore.getHighlightCodeStartEndLine(t,tableStore.getNodebyPath(tableStore.spec.rawSpecs,visNode.path)),"selectionShallow"]}tableStore.spec.selectAreaFromNode="",tableStore.clearStatus("matchArea")}else if(tableStore.spec.selectAreaFromLegend.length){inHotInst.updateSettings({cell:[]});const e=tableStore.spec.selectAreaFromLegend;tableStore.spec.selectionsAreaFromLegend.push(selected[0]),tableStore.spec.selectionsPath.push([]),e.length<tableStore.spec.selectionsAreaFromLegend.length&&e.push(e[e.length-1]);const t=tableStore.generateHighlightCells(tableStore.spec.selectionsAreaFromLegend,e);tableStore.highlightTblCells(tbl,t);const{specs:n,newSpec:i}=tableStore.buildTree(tableStore.spec.selectionsAreaFromLegend,e,tableStore.spec.selectionsPath);tableStore.stringifySpec(n),tableStore.editor.mappingSpec.highlightCode=[...tableStore.getHighlightCodeStartEndLine(i,null,n),`${e[e.length-1]}Shallow`]}tableStore.highlightNodes(selected)}else{tableStore.highlightMinimapCells(cells);const e=cells.map((e=>[e.row,e.col,e.row,e.col]));tableStore.highlightNodes(e)}}))}return(0,vue__WEBPACK_IMPORTED_MODULE_4__.sV)((()=>{const e=(0,vue__WEBPACK_IMPORTED_MODULE_4__.nI)()?.proxy;inHotInst=e.$refs.inputTbl.hotInstance,outHotInst=e.$refs.outputTbl.hotInstance,tableStore.input_tbl.instance=inHotInst,tableStore.output_tbl.instance=outHotInst,initEventsForTbl("input_tbl"),initEventsForTbl("output_tbl");const t=document.querySelectorAll(".icons-container .icon-scroll"),n=document.querySelectorAll(".ht_master .wtHolder");t.forEach(((e,t)=>{e.addEventListener("scroll",(()=>{n[t].scrollLeft=e.scrollLeft})),n[t].addEventListener("scroll",(()=>{e.scrollLeft=n[t].scrollLeft}))}))})),(e,t)=>{const n=(0,vue__WEBPACK_IMPORTED_MODULE_4__.g2)("v-icon"),i=(0,vue__WEBPACK_IMPORTED_MODULE_4__.g2)("a-button"),s=(0,vue__WEBPACK_IMPORTED_MODULE_4__.g2)("a-upload");return(0,vue__WEBPACK_IMPORTED_MODULE_4__.uX)(),(0,vue__WEBPACK_IMPORTED_MODULE_4__.CE)(vue__WEBPACK_IMPORTED_MODULE_4__.FK,null,[(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("div",_hoisted_1,[(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("div",_hoisted_2,[_hoisted_3,(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("span",_hoisted_4,[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)(s,{"file-list":fileList.value,"onUpdate:fileList":t[0]||(t[0]=e=>fileList.value=e),"max-count":1,accept:".csv, .txt, .xls, .xlsx",customRequest:handleUpload,onRemove:handleRemove,onPreview:handlePreview,showUploadList:{showRemoveIcon:!0}},{default:(0,vue__WEBPACK_IMPORTED_MODULE_4__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)(i,{size:"small"},{default:(0,vue__WEBPACK_IMPORTED_MODULE_4__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)(n,{name:"bi-upload",scale:"0.85"}),_hoisted_5])),_:1})])),_:1},8,["file-list"]),(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)(i,{style:{"margin-left":"5px"},size:"small",onClick:resetData},{default:(0,vue__WEBPACK_IMPORTED_MODULE_4__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)(n,{name:"bi-arrow-clockwise",scale:"0.9"}),_hoisted_6])),_:1})])]),(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("div",_hoisted_7,[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)(_components_ColType_vue__WEBPACK_IMPORTED_MODULE_5__.A,{tblType:"input_tbl"}),(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("div",_hoisted_8,[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)((0,vue__WEBPACK_IMPORTED_MODULE_12__.R1)(_handsontable_vue3__WEBPACK_IMPORTED_MODULE_6__.sH),{ref:"inputTbl",data:input_tbl.value,rowHeaders:!0,colHeaders:!0,manualColumnResize:!0,autoWrapRow:!0,autoWrapCol:!0,contextMenu:!0,renderer:renderTblCell,licenseKey:"non-commercial-and-evaluation"},null,8,["data"])])])]),(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("div",{class:"divider-w",onMousedown:t[1]||(t[1]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_12__.R1)(_utils_dragLayout__WEBPACK_IMPORTED_MODULE_9__.LP)(e,"width")),title:"Drag to resize"},null,32),(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("div",_hoisted_9,[(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("div",_hoisted_10,[_hoisted_11,(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("span",_hoisted_12,[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)(i,{size:"small",onClick:handleDownload},{default:(0,vue__WEBPACK_IMPORTED_MODULE_4__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)(n,{name:"bi-download",scale:"0.85"}),_hoisted_13])),_:1})])]),(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("div",_hoisted_14,[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)(_components_ColType_vue__WEBPACK_IMPORTED_MODULE_5__.A,{tblType:"output_tbl"}),(0,vue__WEBPACK_IMPORTED_MODULE_4__.Lk)("div",_hoisted_15,[(0,vue__WEBPACK_IMPORTED_MODULE_4__.bF)((0,vue__WEBPACK_IMPORTED_MODULE_12__.R1)(_handsontable_vue3__WEBPACK_IMPORTED_MODULE_6__.sH),{ref:"outputTbl",data:output_tbl.value,rowHeaders:!0,colHeaders:output_col.value,manualColumnResize:!0,renderer:renderTblCell,contextMenu:!0,autoWrapRow:!0,autoWrapCol:!0,licenseKey:"non-commercial-and-evaluation"},null,8,["data","colHeaders"])])])])],64)}}})},43517:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56768),vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(90144),vue__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24232),_utils_drawTree__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34722),ant_design_vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(17844),_store_table__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25719),d3__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(89782),_utils_minimap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(48228),_utils_template__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(29833);const _hoisted_1={class:"view"},_hoisted_2={class:"view-title"},_hoisted_3=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",{style:{"font-size":"18px","font-weight":"bold"}},"Mapping Patterns",-1),_hoisted_4=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",null,"Current instance:",-1),_hoisted_5=["title"],_hoisted_6={style:{"font-size":"15px",height:"25px"}},_hoisted_7=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",null,"Match:",-1),_hoisted_8=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",null,"Extract by:",-1),_hoisted_9={style:{"margin-right":"10px"}},_hoisted_10=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",null,"Reset View",-1),_hoisted_11={class:"view-content",style:{display:"flex"}},_hoisted_12={style:{flex:"1.3"}},_hoisted_13=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("path",{class:"mini-temp-line top-line"},null,-1),_hoisted_14=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("path",{class:"mini-temp-line bottom-line"},null,-1),_hoisted_15=[_hoisted_13,_hoisted_14],_hoisted_16={style:{flex:"1","margin-left":"5px"}};__webpack_exports__.A=(0,vue__WEBPACK_IMPORTED_MODULE_1__.pM)({__name:"PatternVis",setup(__props,{expose:__expose}){const tableStore=(0,_store_table__WEBPACK_IMPORTED_MODULE_3__.v)(),instanceContent=(0,vue__WEBPACK_IMPORTED_MODULE_7__.KR)(""),menuList=(0,vue__WEBPACK_IMPORTED_MODULE_1__.EW)((()=>tableStore.tree.menuList)),contextMenuVisible=(0,vue__WEBPACK_IMPORTED_MODULE_1__.EW)((()=>tableStore.tree.contextMenuVisible&&tableStore.tree.menuList.length>0)),contextMenuVisibleChange=e=>{tableStore.tree.contextMenuVisible=e,tableStore.tree.menuList=[]},closeContextMenu=e=>{const visNode=tableStore.spec.selectNode.data;let extract=null,extractColor="",triggerCellCursorFlag=!1,messageInfo="\n Press ESC to cancel the selection mode.";const maxCNum=tableStore.findMaxCNumber()+1;switch(e.key){case"0":messageInfo="Please reselect the template's area in the input table."+messageInfo,triggerCellCursorFlag=!0;break;case"1":messageInfo="Please select the constrained cell in the input table."+messageInfo,triggerCellCursorFlag=!0;break;case"2-0":extract={byPositionToTargetCols:Array.from({length:visNode.width*visNode.height},((e,t)=>`C${maxCNum+t}`))},extractColor="positionShallow";break;case"2-1":extract={byContext:{position:"above"}},extractColor="contextShallow";break;case"2-2":const createExtract=()=>eval(`currentAreaTbl => {\n                  // Please replace the default code with the necessary implementation to complete the function.\n                  return currentAreaTbl.flat().map((cell, i) => 'C' + (${maxCNum} + i))\n                  }`);extract={byValue:createExtract()},extractColor="valueShallow";break;case"2-3":tableStore.insertNodeOrPropertyIntoSpecs(void 0,"extract");break;case"3-0":case"3-1":case"3-2":case"3-3":messageInfo="Please select an area in the input table."+messageInfo,triggerCellCursorFlag=!0;break;case"4":tableStore.deleteChildByPath(tableStore.spec.rawSpecs,visNode.path),tableStore.stringifySpec();break;case"5":tableStore.deleteChildByPath(tableStore.spec.rawSpecs,visNode.path,tableStore.spec.selectConstrIndex),tableStore.stringifySpec()}if(null!==extract&&(tableStore.insertNodeOrPropertyIntoSpecs(extract,"extract"),tableStore.editor.mappingSpec.highlightCode=[...tableStore.getHighlightCodeStartEndLine(extract,tableStore.getNodebyPath(tableStore.spec.rawSpecs,visNode.path)),extractColor]),triggerCellCursorFlag){ant_design_vue__WEBPACK_IMPORTED_MODULE_8__.Ay.info(messageInfo),tableStore.spec.selectAreaFromNode=e.key,document.body.style.cursor="cell",document.documentElement.style.setProperty("--custom-cursor","cell");const t=tableStore.generateHighlightCells(tableStore.spec.selectionsAreaFromLegend,tableStore.spec.selectAreaFromLegend);tableStore.highlightTblCells("input_tbl",t)}tableStore.tree.contextMenuVisible=!1},treeContainer=(0,vue__WEBPACK_IMPORTED_MODULE_7__.KR)(null);function resetZoom(){tableStore.tree.visInst.resetZoom(),d3__WEBPACK_IMPORTED_MODULE_4__.Ltv("svg.tbl-container g.left").transition().duration(750).call(_utils_minimap__WEBPACK_IMPORTED_MODULE_5__.V.transform,d3__WEBPACK_IMPORTED_MODULE_4__.GSI),d3__WEBPACK_IMPORTED_MODULE_4__.Ltv("svg.tbl-container g.right").transition().duration(750).call(_utils_template__WEBPACK_IMPORTED_MODULE_6__._.transform,d3__WEBPACK_IMPORTED_MODULE_4__.GSI)}const drawTree=e=>{const t=new _utils_drawTree__WEBPACK_IMPORTED_MODULE_2__.L([2,1],".tree-container",e,tableStore,1,"h");t.render(),tableStore.tree.visInst=t},typeMap={null:"Region",position:"Position Based",context:"Context Based",value:"Value Based"},selectMatchExtractArea=e=>{d3__WEBPACK_IMPORTED_MODULE_4__.Ubm(".legend").classed("legend-selection",!1),d3__WEBPACK_IMPORTED_MODULE_4__.Ltv(`.legend.legend-${e}`).classed("legend-selection",!0);const t=tableStore.spec.selectionsAreaFromLegend,n=tableStore.spec.selectAreaFromLegend,i=tableStore.generateHighlightCells(t,n);tableStore.highlightTblCells("input_tbl",i),n.length>t.length?n[n.length-1]=e:n.push(e),document.body.style.cursor="cell",document.documentElement.style.setProperty("--custom-cursor","cell"),ant_design_vue__WEBPACK_IMPORTED_MODULE_8__.Ay.info("Now is in "+typeMap[e]+" mode. Please select the starting area in the input table.\n Press ESC to cancel the selection mode.")},tblContainer=(0,vue__WEBPACK_IMPORTED_MODULE_7__.KR)(null),handleFormatter=e=>0===tableStore.spec.matchedInstNum?"":isNaN(e)?0:parseInt(e)+1,handleStep=(e,t)=>{if("up"===t.type){if(e<=1)return;tableStore.goToInstance(e-2)}else{if(e>=tableStore.spec.visTree.children[0].matchs.length-2)return;tableStore.goToInstance(e+2)}};function handleCodeChange(e=!1){if(tableStore.editor.mappingSpec.codeUpdateFromEditor&&(setTimeout((()=>{tableStore.editor.mappingSpec.codeUpdateFromEditor=!1}),600),e))return;const t=tableStore.prepareDataAfterCodeChange();if(!t)return;"default"===document.body.style.cursor&&(0,_utils_minimap__WEBPACK_IMPORTED_MODULE_5__.W)(tableStore.input_tbl.tbl.length,tableStore.input_tbl.tbl[0].length,tblContainer.value,tableStore);const n=tableStore.transformTablebyCode();setTimeout((()=>{tableStore.editor.mappingSpec.triggerCodeChange=!0,tableStore.editor.mappingSpec.highlightCode&&(tableStore.highlightCode(...tableStore.editor.mappingSpec.highlightCode),tableStore.editor.mappingSpec.highlightCode=null)}),600),n&&(0===tableStore.spec.matchedInstNum?(instanceContent.value="No matched instance",tableStore.tree.instanceIndex=-1):instanceContent.value="Total "+tableStore.spec.matchedInstNum+" instance(s)",tableStore.computeColInfo("output_tbl"),drawTree(tableStore.spec.visTree),(0,_utils_template__WEBPACK_IMPORTED_MODULE_6__.F)(tblContainer.value,tableStore),tableStore.optimizeMiniTempDistance(),tableStore.updateCurve())}return __expose({handleCodeChange:handleCodeChange}),(0,vue__WEBPACK_IMPORTED_MODULE_1__.wB)((()=>tableStore.editor.mappingSpec.code),(e=>{tableStore.editor.mappingSpec.instance?.setValue(e),tableStore.editor.mappingSpec.triggerCodeChange?handleCodeChange():tableStore.editor.mappingSpec.highlightCode&&(tableStore.highlightCode(...tableStore.editor.mappingSpec.highlightCode),tableStore.editor.mappingSpec.highlightCode=null,tableStore.editor.mappingSpec.triggerCodeChange=!0)})),(0,vue__WEBPACK_IMPORTED_MODULE_1__.wB)((()=>tableStore.tree.instanceIndex),(()=>{(0,_utils_template__WEBPACK_IMPORTED_MODULE_6__.F)(tblContainer.value,tableStore),tableStore.updateCurve()})),(0,vue__WEBPACK_IMPORTED_MODULE_1__.wB)((()=>tableStore.input_tbl.tbl),(e=>{(0,_utils_minimap__WEBPACK_IMPORTED_MODULE_5__.W)(e.length,e[0].length,tblContainer.value,tableStore),tableStore.computeColInfo("input_tbl")})),(0,vue__WEBPACK_IMPORTED_MODULE_1__.sV)((()=>{document.querySelector("span.ant-input-number-handler-up").setAttribute("title","Previous instance"),document.querySelector("span.ant-input-number-handler-down").setAttribute("title","Next instance")})),(e,t)=>{const n=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-input-number"),i=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-button"),s=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-button-group"),o=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("v-icon"),r=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-flex"),a=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-menu"),_=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-dropdown");return(0,vue__WEBPACK_IMPORTED_MODULE_1__.uX)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.CE)("div",_hoisted_1,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",_hoisted_2,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(r,{justify:"space-between",align:"center"},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[_hoisted_3,(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",null,[_hoisted_4,(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(n,{class:"goToInstance",value:(0,vue__WEBPACK_IMPORTED_MODULE_7__.R1)(tableStore).tree.instanceIndex,defaultValue:-1,disabled:0===(0,vue__WEBPACK_IMPORTED_MODULE_7__.R1)(tableStore).spec.matchedInstNum,onPressEnter:t[0]||(t[0]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_7__.R1)(tableStore).goToInstance(+e.target.value-1)),size:"small",precision:0,formatter:handleFormatter,onStep:handleStep,onBlur:t[1]||(t[1]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_7__.R1)(tableStore).goToInstance(+e.target.value-1))},null,8,["value","disabled"]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",{style:{"font-weight":"normal"},title:instanceContent.value},"/ ["+(0,vue__WEBPACK_IMPORTED_MODULE_9__.v_)((0,vue__WEBPACK_IMPORTED_MODULE_7__.R1)(tableStore).spec.matchedInstNum)+"]",9,_hoisted_5)]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",_hoisted_6,[_hoisted_7,(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(s,{style:{margin:"0 15px 0 6px"}},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(i,{class:"legend legend-null",size:"small",onClick:t[2]||(t[2]=e=>selectMatchExtractArea("null")),title:"Click to select a starting area in the input table. Press 'Esc' to cancel the selection mode."},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.eW)("Region")])),_:1})])),_:1}),_hoisted_8,(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(s,{style:{"margin-left":"6px"}},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(i,{class:"legend legend-position",size:"small",onClick:t[3]||(t[3]=e=>selectMatchExtractArea("position")),title:"Click to select a starting area in the input table for matching and extracting by position. Press 'Esc' to cancel the selection mode."},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.eW)("Position")])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(i,{class:"legend legend-context",size:"small",onClick:t[4]||(t[4]=e=>selectMatchExtractArea("context")),title:"Click to select a starting area in the input table for matching and extracting by context. Press 'Esc' to cancel the selection mode."},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.eW)("Context")])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(i,{class:"legend legend-value",size:"small",onClick:t[5]||(t[5]=e=>selectMatchExtractArea("value")),title:"Click to select a starting area in the input table for matching and extracting by value. Press 'Esc' to cancel the selection mode."},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.eW)("Value")])),_:1})])),_:1})]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",_hoisted_9,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(i,{id:"draw_tree",size:"small",onClick:resetZoom},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(o,{name:"bi-arrow-clockwise",scale:"0.9"}),_hoisted_10])),_:1})])])),_:1})]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",_hoisted_11,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",_hoisted_12,[((0,vue__WEBPACK_IMPORTED_MODULE_1__.uX)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.CE)("svg",{ref_key:"tblContainer",ref:tblContainer,class:"tbl-container"},_hoisted_15,512))]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",_hoisted_16,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(_,{trigger:["contextmenu"],open:contextMenuVisible.value,onOpenChange:contextMenuVisibleChange},{overlay:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(a,{onClick:closeContextMenu,items:menuList.value},null,8,["items"])])),default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",{ref_key:"treeContainer",ref:treeContainer,class:"tree-container"},null,512)])),_:1},8,["open"])])])])}}})},26588:function(e,t,n){"use strict";var i=n(45130),s=n(56768);const o={class:"wrapper"},r=(0,s.Fv)('<div class="filing-container" style="display:none;"><span class="item" id="busuanzi_container_site_pv"> 本站总访问量<span id="busuanzi_value_site_pv"></span>次 </span><span class="item" id="busuanzi_container_site_uv"> 本站访客数<span id="busuanzi_value_site_uv"></span>人 </span><span class="item" id="busuanzi_container_page_pv"> 本文总阅读量<span id="busuanzi_value_page_pv"></span>次 </span></div>',1);function a(e,t,n,i,a,_){const l=(0,s.g2)("panel-view");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",o,[(0,s.bF)(l)]),r],64)}n(44114);var _=n(90144),l=n(24232),c=n(27098);const d=c.A;var u=d,h=n(42336),p=n(25719),g=(0,s.pM)({__name:"CodeView",props:{codeType:{}},setup(e,{expose:t}){const{codeType:n}=e,i=(0,p.v)(),o={value:"",language:"typescript",theme:"vs",fontSize:14,glyphMargin:!1,automaticLayout:!1,autoIndent:"advanced",readOnly:"rootArea"===n,minimap:{enabled:"rootArea"===n},lineNumbersMinChars:1,scrollBeyondLastLine:!1,wordWrap:"on",padding:{bottom:50}},r=(0,_.KR)(null);let a=null;const l=/\s+/g,c=(e,t)=>e.replace(l,"")===t.replace(l,""),d=e=>{c(i.editor.mappingSpec.code,e)||(i.spec.undoHistory.push(i.editor.mappingSpec.code),i.spec.redoHistory=[],i.editor.mappingSpec.codeUpdateFromEditor=!0,i.editor.mappingSpec.code=e)};t({updateCode:d});const u=()=>{a&&a.dispose();const e={...o,value:i.editor[n].code};a=h.EN.create(r.value,e);const t=i.debounce((()=>{i.checkGrammarError(),null===i.editor.mappingSpec.errorMark&&i.editor.mappingSpec.autoRun&&d(a.getValue())}),1e3);a.onDidChangeModelContent((()=>{i.editor.mappingSpec.decorations?.clear(),t()}))},g=i.debounce((()=>{a&&a.layout()}),300),E=new ResizeObserver(g);if("mappingSpec"===n){const e="ts:grammar.ts",t=h.EN.getModels().find((t=>t.uri.toString()===e));t||fetch("./grammar.ts").then((t=>{t.text().then((t=>{h.eo.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!1}),h.eo.typescript.javascriptDefaults.setCompilerOptions({target:h.eo.typescript.ScriptTarget.ES2015,allowNonTsExtensions:!0}),h.eo.typescript.javascriptDefaults.addExtraLib(t,e),h.EN.createModel(t,"typescript",h.zn.parse(e))}))}))}return(0,s.sV)((()=>{u(),E.observe(r.value),a&&(i.editor[n].instance=a,"mappingSpec"===n&&(i.editor.mappingSpec.decorations=a.createDecorationsCollection([])))})),(0,s.hi)((()=>{a&&a.dispose()})),(e,t)=>((0,s.uX)(),(0,s.CE)("div",{ref_key:"editorWrapper",ref:r,class:"editor-container"},null,512))}});const E=g;var b=E,m=n(43517);const f=m.A;var C=f,v=n(1890),M=n(17727),A=n(17844);const P={id:"panel"},D={class:"system-name"},O=(0,s.Lk)("span",{id:"system_name"},"TableCanoniser",-1),y={style:{left:"20px",position:"absolute"}},T=(0,s.Lk)("span",{style:{"font-size":"16px","font-weight":"normal","margin-right":"5px"}},"Cases:",-1),I={style:{right:"20px",position:"absolute"}},L=(0,s.Lk)("span",{style:{"margin-left":"5px"}},"Undo",-1),x=(0,s.Lk)("span",{style:{"margin-left":"5px"}},"Redo",-1),w={class:"main-views"},S={class:"column",style:{flex:"12"}},R={style:{flex:"1",display:"flex","min-height":"0px"}},k={style:{flex:"1",display:"flex","min-height":"0px"}},B={class:"column",style:{flex:"5"}},W={class:"view"},U={class:"view-content"},K={title:"Set whether to automatically run code upon changes"},j=(0,s.Lk)("span",null,"Run",-1),$=(0,s.Lk)("span",{style:{"font-size":"15px"},title:"The mapping specification that transforms the input table to the output table"}," Specification ",-1),N={style:{"font-size":"15px"},title:"A tree data structure that contains the AreaInfo of all matched instances, starting from the root area"};var F=(0,s.pM)({__name:"PanelView",setup(e){for(const s in v.Ur)document.documentElement.style.setProperty(`--color-${s}`,v.Ur[s]);document.documentElement.style.setProperty("--custom-cursor","default");const t=(0,p.v)(),n=(0,s.EW)((()=>t.caseList.map((e=>({value:e,label:e}))))),i=(0,s.EW)((()=>t.currentCase)),o=(0,_.KR)("1"),r=(0,s.EW)((()=>0===t.spec.undoHistory.length)),a=(0,s.EW)((()=>0===t.spec.redoHistory.length));function c(){t.editor.mappingSpec.errorMark=null;const e=t.spec.undoHistory.pop();void 0!==e&&(t.spec.redoHistory.push(t.editor.mappingSpec.code),t.editor.mappingSpec.code=e)}function d(){t.editor.mappingSpec.errorMark=null;const e=t.spec.redoHistory.pop();void 0!==e&&(t.spec.undoHistory.push(t.editor.mappingSpec.code),t.editor.mappingSpec.code=e)}const h=(0,_.KR)(),g=(0,_.KR)();function E(){if(!t.editor.mappingSpec.autoRun){if(null!==t.editor.mappingSpec.errorMark){const e=t.editor.mappingSpec.errorMark;return A.Ay.error(`Invalid syntax at Line ${e.startLineNumber}, Column ${e.startColumn}:\n ${e.message}`),!1}const e=t.editor.mappingSpec.instance.getValue();g.value.updateCode(e)}h.value.handleCodeChange(!0),t.editor.mappingSpec.highlightCode&&(t.highlightCode(...t.editor.mappingSpec.highlightCode),t.editor.mappingSpec.highlightCode=null,t.editor.mappingSpec.triggerCodeChange=!0)}function m(e){"Escape"===e.key&&(t.editor.mappingSpec.decorations?.clear(),t.input_tbl.instance.deselectCell(),t.output_tbl.instance.deselectCell(),t.input_tbl.instance.updateSettings({cell:[]}),t.output_tbl.instance.updateSettings({cell:[]}),t.highlightMinimapCells([]),t.clearStatus("tree"),t.clearStatus("matchArea"),t.clearStatus("miniHighlight"))}function f(e){t.currentCase=e,F.value=!1}const F=(0,_.KR)(!1);let z=null,H=null;function q(e,t){F.value=!0,null===H&&setTimeout((()=>{H=document.querySelector(".rc-virtual-list-holder-inner"),H?.addEventListener("mouseenter",(()=>{null!==z&&(clearTimeout(z),z=null),F.value=!0})),H?.addEventListener("mouseleave",(()=>{F.value=!1}))}),100)}function V(e,t){z=setTimeout((()=>{F.value=!1}),200)}return(0,s.sV)((()=>{t.loadCaseData(t.currentCase),document.addEventListener("keydown",m),document.addEventListener("mousemove",M.oS),document.addEventListener("mouseup",M.K0)})),(e,p)=>{const m=(0,s.g2)("a-select"),v=(0,s.g2)("v-icon"),A=(0,s.g2)("a-button"),z=(0,s.g2)("a-button-group"),H=(0,s.g2)("a-checkbox"),J=(0,s.g2)("a-tab-pane"),Y=(0,s.g2)("a-tabs");return(0,s.uX)(),(0,s.CE)("div",P,[(0,s.Lk)("div",D,[O,(0,s.Lk)("span",y,[T,(0,s.bF)(m,{value:i.value,options:n.value,size:"small",onChange:f,onMouseenter:q,onMouseleave:V,open:F.value,style:{width:"137px"}},null,8,["value","options","open"])]),(0,s.Lk)("span",I,[(0,s.bF)(z,null,{default:(0,s.k6)((()=>[(0,s.bF)(A,{size:"small",onClick:c,disabled:r.value},{default:(0,s.k6)((()=>[(0,s.bF)(v,{name:"io-arrow-undo-outline",scale:"0.9"}),L])),_:1},8,["disabled"]),(0,s.bF)(A,{size:"small",onClick:d,disabled:a.value},{default:(0,s.k6)((()=>[(0,s.bF)(v,{name:"io-arrow-redo-outline",scale:"0.9"}),x])),_:1},8,["disabled"])])),_:1})])]),(0,s.Lk)("div",w,[(0,s.Lk)("div",S,[(0,s.Lk)("div",R,[(0,s.bF)(u)]),(0,s.Lk)("div",{class:"divider-h",onMousedown:p[0]||(p[0]=e=>(0,_.R1)(M.LP)(e,"height")),title:"Drag to resize"},null,32),(0,s.Lk)("div",k,[(0,s.bF)(C,{ref_key:"patternVis",ref:h},null,512)])]),(0,s.Lk)("div",{class:"divider-w",onMousedown:p[1]||(p[1]=e=>(0,_.R1)(M.LP)(e,"width")),title:"Drag to resize"},null,32),(0,s.Lk)("div",B,[(0,s.Lk)("div",W,[(0,s.Lk)("div",U,[(0,s.bF)(Y,{activeKey:o.value,"onUpdate:activeKey":p[3]||(p[3]=e=>o.value=e),type:"card"},{rightExtra:(0,s.k6)((()=>[(0,s.Lk)("span",K,[(0,s.bF)(H,{checked:(0,_.R1)(t).editor.mappingSpec.autoRun,"onUpdate:checked":p[2]||(p[2]=e=>(0,_.R1)(t).editor.mappingSpec.autoRun=e)},{default:(0,s.k6)((()=>[(0,s.eW)("AutoRun")])),_:1},8,["checked"])]),(0,s.bF)(A,{size:"small",style:{margin:"1px 6px 5px"},onClick:E},{default:(0,s.k6)((()=>[(0,s.bF)(v,{name:"la-rocket-solid",scale:"0.85"}),j])),_:1})])),default:(0,s.k6)((()=>[(0,s.bF)(J,{key:"1"},{tab:(0,s.k6)((()=>[$])),default:(0,s.k6)((()=>[(0,s.bF)(b,{codeType:"mappingSpec",ref_key:"specCode",ref:g},null,512)])),_:1}),(0,s.bF)(J,{key:"2"},{tab:(0,s.k6)((()=>[(0,s.Lk)("span",N," Matched Instances ["+(0,l.v_)((0,_.R1)(t).spec.matchedInstNum)+"] ",1)])),default:(0,s.k6)((()=>[(0,s.bF)(b,{codeType:"rootArea"})])),_:1})])),_:1},8,["activeKey"])])])])])])}}});const z=F;var H=z,q=(0,s.pM)({name:"overView",components:{PanelView:H}}),V=n(71241);const J=(0,V.A)(q,[["render",a]]);var Y=J,X=n(55234),Q=n(76877),G=n(34385),Z=n(92278),ee=n(13472),te=n(35678),ne=n(91328),ie=n(13209),se=n(25169),oe=n(54467),re=n(6311),ae=n(52511),_e=n(50931),le=n(64089),ce=n(86135),de=n(97694),ue=n(99604),he=n(74789),pe=n(95682),ge=n(77478),Ee=n(86789),be=n(90070),me=n(58856),fe=n(20627);const Ce=(0,X.Ey)(),ve=(0,i.Ef)(Y);ve.use(Ce).use(Q.Ay).use(G.A).use(Z.A).use(ee.A).use(te.A).use(ne.A).use(ie.Ay).use(se.A).use(oe.Ay).use(re.Ay).use(ae.Ay).use(_e.Ay).use(le.A).use(ce.A).use(de.Ay).use(ue.A).use(he.A).use(pe.A).use(ge.Ay),(0,Ee.oe)(be.tAF,be.Ah9,me.RqA,be.rLf,fe.Eks,fe.q_,be.MQY,be.XWt),ve.component("v-icon",Ee.Ly),ve.mount("#app")},25719:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return useTableStore}});var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_esnext_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43375),core_js_modules_esnext_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_esnext_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_esnext_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39225),core_js_modules_esnext_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_esnext_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_esnext_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13972),core_js_modules_esnext_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_esnext_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_esnext_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(99209),core_js_modules_esnext_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_esnext_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_esnext_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25714),core_js_modules_esnext_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_esnext_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_esnext_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17561),core_js_modules_esnext_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_esnext_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_esnext_set_union_v2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(66197),core_js_modules_esnext_set_union_v2_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_esnext_set_union_v2_js__WEBPACK_IMPORTED_MODULE_7__),pinia__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(55234),d3__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(89782),vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(90144),_table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(81579),_table_canoniser_dist_parser__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(54235),ant_design_vue__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(17844),monaco_editor__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(42336),typescript__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8230),typescript__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(typescript__WEBPACK_IMPORTED_MODULE_12__),_utils_style__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1890);function replaceEvenSpaces(e){return e.replace(/ {2,}/g,(e=>{const t=e.length,n=t/2;return" ".repeat(n)}))}function removeWhitespace(e){return e.replace(/ /g,"")}function csvToMatrix(e){const t=e.trim().split("\n"),n=t.map((e=>e.split(",")));return n}const removeSpaceType={even:replaceEvenSpaces,all:removeWhitespace},useTableStore=(0,pinia__WEBPACK_IMPORTED_MODULE_14__.nY)("table",{state(){return{caseList:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)(["1a. university","1b. university_v","2. model","3. phone","4. bank","5. payroll","6. York"]),currentCase:"1a. university",currentInitData:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([]),spec:{undoHistory:[],redoHistory:[],rawSpecs:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([]),visTree:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)({id:0,width:0,height:0,x:0,y:0,type:"null",path:[],children:[]}),visTreeMatchPath:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)({}),selectNode:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)(null),selectConstrIndex:-1,constrNodeRectClickId:"",selectAreaFromNode:"",selectAreaFromLegend:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([]),selectionsAreaFromLegend:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([]),selectionsPath:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([]),dragConfigOpen:!1,matchedInstNum:0,areaConfig:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)({match:{startCell:{},size:{},traverse:{},constraints:[]},extract:null,fill:"",children:[]}),areaFormData:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)({offsetLayer:null,offsetFrom:null,position:{x:null,y:null},traverse:{xDirection:null,yDirection:null},size:{width:null,height:null}})},editor:{mappingSpec:{code:"",codePref:"const option: TableCanoniserTemplate[] = ",codeSuff:"\nreturn option;",errorMark:null,decorations:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)(null),highlightCode:null,instance:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)(null),triggerCodeChange:!0,codeUpdateFromEditor:!1,autoRun:!0},rootArea:{code:"",codePref:"const matchedResult: AreaInfo = ",object:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)(null),instance:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)(null)}},input_tbl:{instance:{},tbl:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([]),in2out:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)({}),in2nodes:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)({}),colInfo:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([])},output_tbl:{instance:{},tbl:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([]),cols:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([]),out2in:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)({}),colInfo:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)([])},tree:{contextMenuVisible:!1,instanceIndex:-1,offset:{left:{x:0,y:0},right:{x:0,y:0}},visInst:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)(null),tblVisHighlight:null,tblVisInfo:(0,vue__WEBPACK_IMPORTED_MODULE_15__.IJ)(null),minimapInstHighlight:null,minimapVisInfo:{width:0,height:0},menuAllList:[{key:"3",label:"Add Sub-Pattern",title:"Add Sub-Pattern",children:[{key:"3-0",label:"Position",title:"Match and Extract by Position",style:{color:_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur["position"]}},{key:"3-1",label:"Context",title:"Match and Extract by Context",style:{color:_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur["context"]}},{key:"3-2",label:"Value",title:"Match and Extract by Value",style:{color:_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur["value"]}},{key:"3-3",label:"Region",title:"Match Without Extraction",style:{color:_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur["null"]}}]},{key:"1",label:"Add Constraint",title:"Add Constraint"},{key:"2",label:"Reset Target Cols",title:"Reset Target Cols",children:[{key:"2-0",label:"Position",title:"Match and Extract by Position",style:{color:_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur["position"]}},{key:"2-1",label:"Context",title:"Match and Extract by Context",style:{color:_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur["context"]}},{key:"2-2",label:"Value",title:"Match and Extract by Value",style:{color:_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur["value"]}},{key:"2-3",label:"Region",title:"Match Without Extraction",style:{color:_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur["null"]}}]},{key:"4",label:"Delete This Pattern",title:"Delete This Pattern.\nShortcut: Delete/Backspace"},{key:"5",label:"Delete Constraint",title:"Delete Constraint.\nShortcut: Delete/Backspace"}],menuList:[]}}},actions:{async loadCaseData(e){let t=[],n=`./${e}/`;try{const[i,s]=await Promise.all([fetch(n+"data.csv"),fetch(n+"spec.js")]),[o,r]=await Promise.all([i.ok?i.text():Promise.resolve(null),s.ok?s.text():Promise.resolve(null)]);this.initTblInfo(),this.clearStatus("matchArea"),this.editor.mappingSpec.errorMark=null,this.tree.instanceIndex=-1,this.spec.selectNode=null,this.editor.mappingSpec.highlightCode=null,null!==o?(this.input_tbl.tbl=csvToMatrix(o),this.input_tbl.instance.updateData(this.input_tbl.tbl),this.currentInitData=csvToMatrix(o),this.input_tbl.instance.render()):t.push(`Failed to load data from ${e}`),null!==r?(this.spec.undoHistory=[],this.spec.redoHistory=[],this.editor.mappingSpec.code=r):t.push(`Failed to load spec from ${e}`)}catch(i){t.push(`Error loading data: ${i}`)}this.currentCase=e,t.forEach((e=>{ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error(e)}))},traverseTree4UpdateMatchs(e,t=-1){let n=null;e.forEach(((e,i)=>{const s=e.templateRef.toString(),o=1===e.templateRef.length,r=o||e.isDefinedFromSpec;if(o&&(t=i),this.spec.visTreeMatchPath.hasOwnProperty(s))this.spec.visTreeMatchPath[s].matchs.push({x:e.x,y:e.y,width:e.width,height:e.height,instIndex:t,isDefinedFromSpec:r}),n=this.spec.visTreeMatchPath[s],n.match?.constraints?.forEach(((i,s)=>{const o=n.constrsInfo[s],a=(0,_table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.completeCellConstraint)(i),_=(0,_table_canoniser_dist_parser__WEBPACK_IMPORTED_MODULE_10__.U6)(a,e,this.editor.rootArea.object,!0);_&&o.push({x:_.x,y:_.y,isDefinedFromSpec:r,instIndex:t})}));else{if(n=this.getNodebyPath(this.spec.visTree.children,e.templateRef),null===n)return;this.spec.visTreeMatchPath[s]=n,n.matchs=[{x:e.x,y:e.y,width:e.width,height:e.height,instIndex:t,isDefinedFromSpec:r}],n.constrsInfo=[],n.match?.constraints?.forEach((i=>{const s=[],o=(0,_table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.completeCellConstraint)(i),a=(0,_table_canoniser_dist_parser__WEBPACK_IMPORTED_MODULE_10__.U6)(o,e,this.editor.rootArea.object,!0);a&&s.push({x:a.x,y:a.y,isDefinedFromSpec:r,instIndex:t}),n.constrsInfo.push(s)}))}this.traverseTree4UpdateMatchs(e.children,t)}))},updateVisTreeAreaBox(e=null){if(null===e){if(0===this.spec.visTree.children.length)return;e=this.spec.visTree.children[0]}if(void 0===e.matchs)return;const t=e.matchs.filter((e=>e.instIndex===this.tree.instanceIndex));e.currentMatchs=[];let n=null;if(t.forEach((t=>{if(e.currentMatchs.some((e=>e.x===t.x&&e.y===t.y)))return;const i={...t};t.isDefinedFromSpec&&(null===n?n=i:i.isDefinedFromSpec=!1),e.currentMatchs.push(i)})),null!==n)e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height;else if(e.currentMatchs.length>0){const t=e.currentMatchs[0];e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height}e.children&&e.children.forEach((e=>{this.updateVisTreeAreaBox(e)}))},goToInstance(e){if(0===this.spec.matchedInstNum)return;if(isNaN(e))return void ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error("The input number is invalid!");e=Math.round(e);const t=this.spec.visTree.children[0].matchs.length;if(e<0||e>=t)return void ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error(`The input number is out of range: [1, ${t}]`);this.tree.instanceIndex=e,this.updateVisTreeAreaBox(),this.hightlightViewsAfterClickNode(this.spec.selectNode.data),this.tree.minimapInstHighlight&&0===this.tree.minimapInstHighlight.selectAll("rect").size()&&this.highlightMinimapInsts();const n=this.tree.minimapInstHighlight;n.selectAll("rect").attr("stroke","none"),n.select(`rect:nth-child(${this.tree.instanceIndex+1})`).attr("stroke",_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur.selection),this.updateCurve()},highlightMinimapInsts(){const e=this.tree.minimapInstHighlight,t=this.tree.minimapVisInfo,n=this;e.selectAll("rect").remove(),0!==this.spec.visTree.children.length&&void 0!==this.spec.visTree.children[0].matchs&&e.raise().selectAll("rect").data(this.spec.visTree.children[0].matchs.map(((e,t)=>({x:e.x,y:e.y,width:e.width,height:e.height,index:t})))).enter().append("rect").attr("x",(e=>e.x*t.width)).attr("y",(e=>e.y*t.height)).attr("width",(e=>e.width*t.width)).attr("height",(e=>e.height*t.height)).attr("fill","rgba(0, 0, 0, 0)").attr("stroke",((e,t)=>t===this.tree.instanceIndex?_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur.selection:"none")).attr("stroke-width",1.5).on("mouseover",(function(e,t){d3__WEBPACK_IMPORTED_MODULE_8__.Ltv(this).attr("stroke",_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur.selection)})).on("mouseout",(function(e,t){t.index!==n.tree.instanceIndex&&d3__WEBPACK_IMPORTED_MODULE_8__.Ltv(this).attr("stroke","none")})).on("click",(function(e,t){n.goToInstance(t.index)})).append("svg:title").text(((e,t)=>`The ${n.numberToOrdinal(t+1)} instance.\nArea Box:\n · x: ${e.x}\n · y: ${e.y}\n · width: ${e.width}\n · height: ${e.height}`))},optimizeMiniTempDistance(e=120){try{const t=d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("g.left g.matrix"),n=t.node().getBBox().width,i=this.tree.offset.right.x-this.tree.offset.left.x-n-e;i>0&&(this.tree.offset.left.x+=i,t.attr("transform",`translate(${this.tree.offset.left.x}, ${this.tree.offset.left.y})`))}catch(t){console.error(t)}},updateCurve(){try{const e=this.tree.minimapInstHighlight.select(`rect:nth-child(${this.tree.instanceIndex+1})`),t=+e.attr("x")+ +e.attr("width"),n=+e.attr("y"),i=+e.attr("y")+ +e.attr("height"),s=d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("rect.tbl-template-cell"),o=+s.attr("x"),r=+s.attr("y"),a=+s.attr("y")+ +s.attr("height")*this.spec.visTree.children[0].height,_=d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("g.left g.matrix"),l=d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("g.right g.tbl-template"),c=_.node().getCTM(),d=l.node().getCTM(),u=(e,t,n)=>({x:n.a*e+n.e,y:n.d*t+n.f}),h=u(t,n,c),p=u(t,i,c),g=u(o,r,d),E=u(o,a,d),b=d3__WEBPACK_IMPORTED_MODULE_8__.n8j().curve(d3__WEBPACK_IMPORTED_MODULE_8__.oDi),m=b([[h.x,h.y],[g.x,g.y]]),f=b([[p.x,p.y],[E.x,E.y]]);d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("path.top-line").attr("d",m),d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("path.bottom-line").attr("d",f)}catch(e){d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("path.top-line").attr("d",""),d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("path.bottom-line").attr("d","")}},traverseTree4UpdateIn2Nodes(e,t=[],n=[1]){const i=this.input_tbl.in2nodes;e.forEach(((e,s)=>{e.id=n[0]++;const o=[...t,s];e.path=o;const r=`${e.x}-${e.y}-${e.width}-${e.height}`;e.type="null",void 0!==e.extract&&null!=e.extract&&(void 0!==e.extract.byValue?e.type="value":void 0!==e.extract.byContext?e.type="context":void 0!==e.extract.byPositionToTargetCols&&(e.type="position")),this.spec.selectionsAreaFromLegend.push([e.y,e.x,e.y+e.height-1,e.x+e.width-1]),this.spec.selectAreaFromLegend.push(e.type),this.spec.selectionsPath.push(e.path),i.hasOwnProperty(r)?i[r].add(e.id):i[r]=new Set([e.id]),e.matchs?.forEach((t=>{const{x:n,y:s,width:o,height:r}=t,a=`${n}-${s}-${o}-${r}`;i.hasOwnProperty(a)?i[a].add(e.id):i[a]=new Set([e.id])})),e.children&&this.traverseTree4UpdateIn2Nodes(e.children,o,n)}))},transformTblUpdateRootArea(e=[]){const{rootArea:t,tidyData:n,executionMessages:i}=(0,_table_canoniser_dist_parser__WEBPACK_IMPORTED_MODULE_10__.LR)(this.input_tbl.tbl,e);this.editor.rootArea.object=t;const s=(0,_table_canoniser_dist_parser__WEBPACK_IMPORTED_MODULE_10__.lK)(t),o=/"(\w+)":/g;return this.editor.rootArea.code=this.editor.rootArea.codePref+s.replace(o,"$1:"),this.traverseTree4UpdateMatchs(t.children),this.tree.instanceIndex=0,this.updateVisTreeAreaBox(),this.input_tbl.in2nodes={},this.spec.selectAreaFromLegend=[],this.spec.selectionsAreaFromLegend=[],this.spec.selectionsPath=[],this.traverseTree4UpdateIn2Nodes(this.spec.visTree.children),i.length>0&&(i.forEach((e=>{const t=this.getNodebyPath(this.spec.rawSpecs,e.data.path);"MismatchNumberOfCells"===e.type&&(t.extract=e.data.code);const n=[...this.getHighlightCodeStartEndLine(e.data.code,t),"selectionShallow"];null===this.editor.mappingSpec.highlightCode&&(this.editor.mappingSpec.highlightCode=n);const i=n[0],s=n[1];ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.warning(`${e.type} warning on lines: ${i}-${s}\n`+e.message)})),this.editor.mappingSpec.triggerCodeChange=!1,this.stringifySpec()),n},generateHighlightCells(e,t=[]){const n=[];return 0===t.length&&(t=Array(e.length).fill("null")),e.forEach(((e,i)=>{for(let s=e[0];s<=e[2];s++)for(let o=e[1];o<=e[3];o++)n.push({row:s,col:o,className:t[i]})})),n},highlightTblCells(e,t,n=null,i=!0,s=!0){if(this[e].instance.updateSettings({cell:t}),null===n&&(n=t.map((e=>[e.row,e.col]))),n.length){let{topLeft:t,rowSize:o,colSize:r}=this.startPoint(n);const a=this[e].instance.countVisibleRows(),_=this[e].instance.countVisibleCols();this[e].instance.scrollViewportTo({row:i?1===o?Math.max(0,t[0]-Math.floor(a/2)):Math.max(0,t[0]-2):void 0,col:s?1===r?Math.max(0,t[1]-Math.floor(_/2)):Math.max(0,t[1]-1):void 0,verticalSnap:"top",horizontalSnap:"start"})}},highlightMinimapCells(e,t=!0){t&&d3__WEBPACK_IMPORTED_MODULE_8__.Ubm("g.matrix rect.grid-cell").attr("class","grid-cell"),e.forEach((e=>{e.className&&d3__WEBPACK_IMPORTED_MODULE_8__.Ltv(`g.matrix #grid-${e.row}-${e.col}`).raise().classed(e.className,!0)}))},hightlightViewsAfterClickNode(e){const t=[];e.matchs?.forEach((e=>{const{x:n,y:i,width:s,height:o}=e;t.push([i,n,i+o-1,n+s-1])}));let n=[],i=[];if(t.length>0){const{selectedCoords:s,hightedCells:o}=this.getHightlightedCells(t,`${e.type}Shallow`);n=n.concat(o);const r=this.in_out_mapping(s,"input_tbl",`${e.type}Shallow`);i=i.concat(r),this.highlightMinimapCells(o)}const s=[[e.y,e.x,e.y+e.height-1,e.x+e.width-1]],{selectedCoords:o,hightedCells:r}=this.getHightlightedCells(s,e.type);n=n.concat(r),this.highlightTblCells("input_tbl",n,Object.values(o)[0]);const a=this.in_out_mapping(o,"input_tbl",e.type);i=i.concat(a);const _=a.map((e=>[e.row,e.col]));this.highlightTblCells("output_tbl",i,_),this.highlightMinimapCells(r,0===t.length),this.input_tbl.instance.deselectCell(),this.output_tbl.instance.deselectCell()},in_out_mapping(e,t,n="selection"){const i="input_tbl"===t?this.input_tbl.in2out:this.output_tbl.out2in;if(0===Object.keys(i).length)return[];let s=[],o=[];for(let a in e)e[a].forEach((e=>{o=o.concat(i[`[${e[0]},${e[1]}]`])}));const r=[];return o&&o.forEach((e=>{if(e&&e.startsWith("[")&&e.endsWith("]")&&!r.includes(e)){r.push(e);let t=JSON.parse(e);s.push({row:t[0],col:t[1],className:n})}})),s},doRectanglesIntersect(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y},isRectanglesContained(e,t){const[n,i,s,o]=e,[r,a,_,l]=t;return n<=r&&i<=a&&s>=_&&o>=l},findMaxCNumber(e=null){null===e&&(e=this.output_tbl.cols);let t=0;return e.forEach((e=>{if("string"!==typeof e)return;const n=e.match(/^C(\d+)$/);if(n){const e=parseInt(n[1],10);e>t&&(t=e)}})),t},buildTree(e,t,n){const i=[],s=(e,t)=>{e.children||(e.children=[]);for(const n of e.children)if(this.isRectanglesContained(n.selection,t.selection))return s(n,t);return e.children.push(t),!0};for(let a=0;a<e.length;a++){const o=e[a],r={type:t[a],selection:o,path:n[a]};let _=!1;for(const e of i)if(this.isRectanglesContained(e.selection,o)){_=s(e,r);break}_||i.push(r)}const o=[],r=[null];return this.traverseTree4buildSpecs(i,o,[0,0,this.input_tbl.tbl.length-1,this.input_tbl.tbl[0].length-1],r),{rootNodes:i,specs:o,newSpec:r[0]}},traverseTree4buildSpecs(nodes,specs,pSelection,addedSpec){const px=pSelection[1],py=pSelection[0],pw=pSelection[3]-px+1,ph=pSelection[2]-py+1;nodes.forEach((node=>{const newSpec={},{selection:selection,type:type}=node;if(node.path.length>0){const e=this.getNodebyPath(this.spec.rawSpecs,node.path);this.copyAttributes(e,newSpec,["match","extract","fill"])}else{const[startRow,startCol,endRow,endCol]=selection,width=endCol-startCol+1,height=endRow-startRow+1,traverse=nodes.length>1?{}:{xDirection:pw>=2*width?"after":void 0,yDirection:ph>=2*height?"after":void 0};newSpec.match={startCell:{offsetX:startCol-px,offsetY:startRow-py},size:{width:width,height:height},traverse:traverse};const maxCNum=this.findMaxCNumber()+1;switch(type){case"position":newSpec.extract={byPositionToTargetCols:Array.from({length:width*height},((e,t)=>`C${maxCNum+t}`))};break;case"context":newSpec.extract={byContext:{position:"above"}};break;case"value":const createExtract=()=>eval(`currentAreaTbl => {\n                  // Please replace the default code with the necessary implementation to complete the function.\n                  return currentAreaTbl.flat().map((cell, i) => 'C' + (${maxCNum} + i))\n                  }`);newSpec.extract={byValue:createExtract()};break}addedSpec[0]=newSpec}node.children&&(newSpec.children=[],this.traverseTree4buildSpecs(node.children,newSpec.children,selection,addedSpec)),specs.push(newSpec)}))},highlightNodes(e){const t=new Set;e.forEach((e=>{const n=e[0],i=e[1],s=e[2]-e[0]+1,o=e[3]-e[1]+1,r={x:i,y:n,width:o,height:s};for(let a in this.input_tbl.in2nodes){const[e,n,i,s]=a.split("-").map((e=>Number(e)));this.doRectanglesIntersect(r,{x:e,y:n,width:i,height:s})&&this.input_tbl.in2nodes[a].forEach((e=>{t.add(e)}))}})),d3__WEBPACK_IMPORTED_MODULE_8__.Ubm(".type-node").classed("selection",!1);for(let n of t)d3__WEBPACK_IMPORTED_MODULE_8__.Ltv(`.type-node.node-rect-${n}`).classed("selection",!0);return t},highlightTblTemplate(e){try{const t=this.tree.tblVisHighlight,n=this.tree.tblVisInfo;e.forEach((e=>{void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height&&t.raise().append("rect").attr("x",(e.x-n.x)*n.width).attr("y",(e.y-n.y)*n.height).attr("width",e.width*n.width).attr("height",e.height*n.height).attr("fill","none").attr("stroke",_utils_style__WEBPACK_IMPORTED_MODULE_13__.Ur.selection).attr("stroke-width",3).attr("stroke-dasharray",e.isDefinedFromSpec?"0":"6,6")}))}catch(t){console.log(t)}},getHightlightedCells(e,t="selection"){let n={},i=[];return e.forEach((e=>{const s=e[0],o=e[1],r=e[2],a=e[3];n[e.toString()]=[];for(let _=s;_<=r;_++)for(let s=o;s<=a;s++)n[e.toString()].push([_,s]),i.push({row:_,col:s,className:t})})),{selectedCoords:n,hightedCells:i}},grid_cell_click(e,t="selection"){const n=[{...e,className:t}];this.highlightTblCells("input_tbl",n);const i=this.in_out_mapping({0:[[e.row,e.col]]},"input_tbl",t);this.highlightTblCells("output_tbl",i)},startPoint(e){let t=e[0];const n=new Set([t[0]]),i=new Set([t[1]]);for(let s=1;s<e.length;s++){let o=e[s];n.add(o[0]),i.add(o[1]),(o[0]<t[0]||o[0]===t[0]&&o[1]<t[1])&&(t=o)}return{topLeft:t,rowSize:n.size,colSize:i.size}},prepareDataAfterCodeChange(){const e="Example format:\n"+this.editor.mappingSpec.codePref+"[\n // Please write the specification here\n];";try{let t=this.editor.mappingSpec.code;if(""===t.trim())return ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error("Empty code!\nPlease provide your code input. "+e),!1;t+=this.editor.mappingSpec.codeSuff;const n=typescript__WEBPACK_IMPORTED_MODULE_12__.transpileModule(t,{compilerOptions:{target:typescript__WEBPACK_IMPORTED_MODULE_12__.ScriptTarget.ES2015,module:typescript__WEBPACK_IMPORTED_MODULE_12__.ModuleKind.CommonJS}}),i=new Function("TableCanoniserKeyWords",n.outputText),s=i(_table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.TableCanoniserKeyWords);return!1===Array.isArray(s)?(ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error("Invalid code!\nPlease provide your code input. "+e),!1):(this.spec.rawSpecs=s,this.spec.visTree.children=JSON.parse(JSON.stringify(s,((e,t)=>"function"===typeof t?"function":t))),!0)}catch(t){return t.message.includes("option")?ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error(t+"\n"+e):ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error(`Failed to parse the specification:\n ${t}`),!1}},numberToOrdinal(e){let t="th";if(e%100>=11&&e%100<=13)t="th";else switch(e%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break}return e+t},checkGrammarError(){const e=monaco_editor__WEBPACK_IMPORTED_MODULE_11__.EN.getModelMarkers({});e.length>0?e.forEach((e=>{"6133"==e.code||(this.editor.mappingSpec.errorMark=e)})):this.editor.mappingSpec.errorMark=null},transformTablebyCode(){if(null!==this.editor.mappingSpec.errorMark){const e=this.editor.mappingSpec.errorMark;return ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error(`Invalid syntax at Line ${e.startLineNumber}, Column ${e.startColumn}:\n ${e.message}`),!1}let e="";try{const t=this.spec.rawSpecs;this.spec.visTreeMatchPath={};const n=this.transformTblUpdateRootArea(t);return this.initTblInfo(!1),this.spec.matchedInstNum=0,this.spec.visTree.children?.forEach(((t,n)=>{n?e+="\n":t.matchs&&(this.spec.matchedInstNum=t.matchs.length),t.matchs?t.matchs.length>1?e+=`For the ${this.numberToOrdinal(n+1)} template, ${t.matchs.length} instances are matched.`:1===t.matchs.length?e+=`For the ${this.numberToOrdinal(n+1)} template, only one instance is matched.`:e+=`For the ${this.numberToOrdinal(n+1)} template, no instance is matched.`:e+=`For the ${this.numberToOrdinal(n+1)} template, no instance is matched.`})),0===Object.keys(n).length&&(e&&(e+="\n"),e+="The output table is empty based on the specification."),ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.info(e),this.derivePosiMapping(n),this.output_tbl.instance.updateData(this.output_tbl.tbl),this.output_tbl.instance.updateSettings({colHeaders:this.output_tbl.cols}),this.highlightMinimapInsts(),!0}catch(t){return e=t instanceof _table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.CustomError?`Failed to transform the table based on the specification:\n ${t}`:`Failed to parse the specification:\n ${t}`,ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error(e),console.error(t),!1}},derivePosiMapping(e){const t=Object.keys(e);this.output_tbl.cols=t;const n=Math.max(...t.map((t=>e[t].length)));for(let i=0;i<n;i++){const n=[];for(let s=0;s<t.length;s++){const o=t[s];let r;r=e[o].length<=i?{x:-1,y:-1,value:void 0}:e[o][i],n.push(r.value);let a=`[${r.y},${r.x}]`;const _=`[${i},${s}]`;r.x<0||r.y<0?a="":this.input_tbl.in2out.hasOwnProperty(a)?this.input_tbl.in2out[a].push(_):this.input_tbl.in2out[a]=[_],this.output_tbl.out2in.hasOwnProperty(_)?this.output_tbl.out2in[_].push(a):this.output_tbl.out2in[_]=[a]}this.output_tbl.tbl.push(n)}},generateGrid(e,t){const n=[];for(let i=0;i<e;i++)for(let e=0;e<t;e++)n.push({row:i,col:e});return n},computeTblPatternGrid(){const e=this.spec.visTree.children[0],t=this.generateGrid(e.height,e.width),n=[e],i=[e.x,e.y,e.x+e.width,e.y+e.height];while(n.length){const s=n.shift();if(void 0!==s.currentMatchs){for(const n of s.currentMatchs){const{x:o,y:r,width:a,height:_}=n,l=o-i[0],c=r-i[1];if(!(l>=0&&c>=0&&o+a<=i[2]&&r+_<=i[3]))continue;let d=s.type,u="cellFill";"position"!==d&&(u="ambiguousText"),s.path.length>1&&!1===n.isDefinedFromSpec&&(d+="Shallow");for(let n=0;n<_;n++)for(let i=0;i<a;i++){const s=t[(c+n)*e.width+(l+i)];if(s.bgColor=d,s.text=new Set,s.textColor=u,this.input_tbl.in2out.hasOwnProperty(`[${r+n},${o+i}]`)){const e=this.input_tbl.in2out[`[${r+n},${o+i}]`];e.forEach((e=>{const[t,n]=JSON.parse(e);s.text.add(this.output_tbl.cols[n])}))}s.text=Array.from(s.text)}}s.children&&s.children.length&&n.push(...s.children)}}return t},initTblInfo(e=!0){e&&(this.input_tbl.tbl=[],this.input_tbl.instance.updateData(this.input_tbl.tbl)),this.input_tbl.in2out={},this.output_tbl.tbl=[],this.output_tbl.cols=[],this.output_tbl.out2in={},this.output_tbl.instance.updateData(this.output_tbl.tbl),this.output_tbl.instance.updateSettings({colHeaders:this.output_tbl.cols})},deleteChildByPath(e,t,n=-1){if(0===t.length)return;if(-1!==n){const i=this.getNodebyPath(e,t);return void(i&&(i.match.constraints.splice(n,1),0===i.match.constraints.length&&delete i.match.constraints))}const i=t.slice(0,-1),s=t[t.length-1];if(0===i.length)return void e.splice(s,1);const o=this.getNodebyPath(e,i);o&&o.children&&(o.children.splice(s,1),0===o.children.length&&delete o.children)},getNodebyPath(e,t){return(0,_table_canoniser_dist_parser__WEBPACK_IMPORTED_MODULE_10__.D5)(e,t)},stringifySpec(e=null,t="even",n=!0){let i=[];null===e&&(e=this.spec.rawSpecs);let s=JSON.stringify(e,a,2);i.forEach((e=>{s=s.replace('"$TableCanoniser$"',e)}));const o=/"(\w+)":/g;s=s.replace(o,"$1:");const r=/"TableCanoniserKeyWords\.(\w+)"/g;function a(e,n){return"function"===typeof n?(i.push(removeSpaceType[t](n.toString())),"$TableCanoniser$"):n}return s=s.replace(r,"TableCanoniserKeyWords.$1"),"all"===t&&(s=removeSpaceType.all(s)),n&&(this.editor.mappingSpec.triggerCodeChange&&(this.spec.undoHistory.push(this.editor.mappingSpec.code),this.spec.redoHistory=[]),this.editor.mappingSpec.code=this.editor.mappingSpec.codePref+s),s},selectArea(){const e=this.spec.selectNode.data,t=this.spec.areaFormData,n={match:{startCell:{offsetLayer:t.offsetLayer,offsetFrom:t.offsetFrom,offsetX:t.position.x,offsetY:t.position.y},size:{width:t.size.width,height:t.size.height},traverse:{xDirection:t.traverse.xDirection,yDirection:t.traverse.yDirection}}};if(0===e.path.length)this.spec.rawSpecs.push(n);else{const t=this.getNodebyPath(this.spec.rawSpecs,e.path);if(null===t)return void ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error("The node path is invalid");t.hasOwnProperty("children")&&void 0!=t.children?t.children.push(n):t.children=[n]}this.stringifySpec()},insertNodeOrPropertyIntoSpecs(e,t,n=null){if(null===n&&(n=this.spec.selectNode.data),0===n.path.length)this.spec.rawSpecs.push(e);else{const i=this.getNodebyPath(this.spec.rawSpecs,n.path);if(null===i)return void ant_design_vue__WEBPACK_IMPORTED_MODULE_16__.Ay.error("The node path is invalid");switch(t){case"children":i.hasOwnProperty("children")&&void 0!=i.children?i.children.push(e):i.children=[e];break;case"match":i.hasOwnProperty("match")&&void 0!=i.match?Object.assign(i.match,e):i.match=e;break;case"constraints":i.hasOwnProperty("match")&&void 0!=i.match?i.match.hasOwnProperty("constraints")&&void 0!=i.match.constraints?i.match.constraints.push(e):i.match.constraints=[e]:i.match={constraints:[e]};break;case"extract":i.extract=e;break}}this.stringifySpec()},copyAttributes(e,t,n){for(const i of n)e.hasOwnProperty(i)&&(t[i]=e[i])},copyTreeAttributes(e,t,n=["width","height","x","y"]){if(this.copyAttributes(e,t,n),e.children&&t.children)for(let i=0;i<e.children.length;i++)this.copyTreeAttributes(e.children[i],t.children[i],n)},getHighlightCodeStartEndLine(e,t=null,n=null){null===n&&(n=this.spec.rawSpecs);const i=this.stringifySpec(n,"all",!1),s=this.stringifySpec(e,"all",!1);if(null===t){const e=i.indexOf(s),t=i.slice(0,e),n=(t.match(/\n/g)||[]).length+1,o=n+(s.match(/\n/g)||[]).length;return[n,o]}{const[n,i]=this.getHighlightCodeStartEndLine(t),[s,o]=this.getHighlightCodeStartEndLine(e,null,t),r=n+s-1,a=n+o-1;return[r,a]}},highlightCode(e,t=e,n="nullShallow"){const i=this.editor.mappingSpec.instance,s=this.editor.mappingSpec.decorations;if(i&&s){const o=new monaco_editor__WEBPACK_IMPORTED_MODULE_11__.Q6(e,1,t,1),r=[{range:o,options:{isWholeLine:!0,className:n}}];s.set(r),i.revealRangeAtTop(o)}},computeColInfo(e="input_tbl"){const t=this[e].tbl;if(this[e].colInfo=[],0===t.length)return void("input_tbl"===e&&(this.spec.visTree.width=0,this.spec.visTree.height=0));const n=this[e].instance,i=t[0].length;"input_tbl"===e&&(this.spec.visTree.width=i,this.spec.visTree.height=t.length);for(let s=0;s<i;s++){const i={index:s,width:n.getColWidth(s),string:[],number:[],none:[]};null===i.width&&(i.width=60);for(let e=0;e<t.length;e++){const n=t[e][s],o=this.getCellDataType(n);switch(o){case _table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.TableCanoniserKeyWords.String:i.string.push(e);break;case _table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.TableCanoniserKeyWords.Number:i.number.push(e);break;case _table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.TableCanoniserKeyWords.None:i.none.push(e);break}}this[e].colInfo.push(i)}},getCellDataType(e){return""===e||null===e||void 0===e?_table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.TableCanoniserKeyWords.None:isNaN(Number(e))?"string"===typeof e?_table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.TableCanoniserKeyWords.String:_table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.TableCanoniserKeyWords.NotNone:_table_canoniser_dist_grammar__WEBPACK_IMPORTED_MODULE_9__.TableCanoniserKeyWords.Number},clearStatus(e){switch(e){case"matchArea":document.body.style.cursor="default",document.documentElement.style.setProperty("--custom-cursor","default"),d3__WEBPACK_IMPORTED_MODULE_8__.Ubm(".legend").classed("legend-selection",!1);break;case"tree":this.spec.constrNodeRectClickId="",d3__WEBPACK_IMPORTED_MODULE_8__.Ubm(".type-node").classed("selection",!1),d3__WEBPACK_IMPORTED_MODULE_8__.Ubm(".node-constraint-rect").attr("visibility","hidden");break;case"miniHighlight":this.tree.minimapInstHighlight.selectAll("rect").remove(),d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("path.top-line").attr("d",""),d3__WEBPACK_IMPORTED_MODULE_8__.Ltv("path.bottom-line").attr("d","");break}},debounce(e,t){let n=null;return function(...i){n&&clearTimeout(n),n=setTimeout((()=>{e(...i)}),t)}}},getters:{}})},17727:function(e,t,n){"use strict";n.d(t,{K0:function(){return d},LP:function(){return l},oS:function(){return c}});const i={ele:void 0,width:0,height:0,flex:1},s={ele:void 0,width:0,height:0,flex:1};let o,r,a=0,_="";function l(e,t){const n=e.target,l=Array.from(n.parentElement.children),c=l.indexOf(n);i.ele=l[c-1],i.width=i.ele.getBoundingClientRect().width,i.height=i.ele.getBoundingClientRect().height,i.flex=parseFloat(i.ele.style.flex||"1"),s.ele=l[c+1],s.width=s.ele.getBoundingClientRect().width,s.height=s.ele.getBoundingClientRect().height,s.flex=parseFloat(s.ele.style.flex||"1"),a=i.flex+s.flex,_=t,o=e.clientX,r=e.clientY}function c(e){if(!_||void 0===i.ele||void 0===s.ele)return;const t="width"===_?e.clientX-o:e.clientY-r,n=i[_]+t,l=s[_]-t,c=n/(i[_]+s[_]),d=l/(i[_]+s[_]),u=c*a,h=d*a;i.ele.style.flex=`${u}`,s.ele.style.flex=`${h}`}function d(){_=""}},34722:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var i=n(91114),s=n(89782),o=n(1890),r=n(81579);const a=new KeyboardEvent("keydown",{key:"Escape",code:"Escape",keyCode:27,charCode:27,which:27,bubbles:!0,cancelable:!0});function _(e){const{startx:t,starty:n,rectWidth:i,rectHeight:s,rounded:o,radius:r}=e;let a;switch(o){case"left":a=`\n      M${t+r},${n+r}\n      a${r},${r} 0 0 1 ${r},-${r}\n      h${i-r}\n      v${s}\n      h${-i+r}\n      a${r},${r} 0 0 1 -${r},-${r}\n      z\n      `;break;case"right":a=`\n      M${t},${n}\n      h${i-r}\n      a${r},${r} 0 0 1 ${r},${r}\n      v${s-2*r}\n      a${r},${r} 0 0 1 ${-r},${r}\n      h ${r-i}\n      z\n      `;break;case"top":a=`\n      M${t},${n+r}\n      a${r},${r} 0 0 1 ${r},-${r}\n      h${i-2*r}\n      a${r},${r} 0 0 1 ${r},${r}\n      v${s-r}\n      h${-i}\n      z`;break;case"bottom":a=`\n      M${t},${n}\n      h${i}\n      v${s-r}\n      a${r},${r} 0 0 1 ${-r},${r}\n      h${2*r-i}\n      a${r},${r} 0 0 1 -${r},-${r}\n      z`;break;case"all":a=`\n      M${t},${n+r}\n      a${r},${r} 0 0 1 ${r},-${r}\n      h${i-2*r}\n      a${r},${r} 0 0 1 ${r},${r}\n      v${s-2*r}\n      a${r},${r} 0 0 1 ${-r},${r}\n      h${2*r-i}\n      a${r},${r} 0 0 1 -${r},-${r}\n      z`;break;default:a=`\n      M${t}${n}\n      h${i}\n      v${s}\n      h${-i}\n      v${-s}\n      z\n      `;break}return a}function l(e,t,n,i){i.preventDefault(),i.preventDefault(),null===t.parent?e.tree.menuList=[e.tree.menuAllList[0]]:-1===n?e.tree.menuList=e.tree.menuAllList.slice(0,-1):(e.tree.menuList=e.tree.menuAllList.slice(-1),e.spec.selectConstrIndex=n),e.spec.selectNode=t,e.tree.contextMenuVisible=!0}class c{constructor(e,t,n,s,o=1,r="h"){(0,i.A)(this,"svgWidth",void 0),(0,i.A)(this,"svgHeight",void 0),(0,i.A)(this,"margins",void 0),(0,i.A)(this,"container",void 0),(0,i.A)(this,"data",void 0),(0,i.A)(this,"zoomLevel",void 0),(0,i.A)(this,"resetZoom",void 0),(0,i.A)(this,"depth",void 0),(0,i.A)(this,"calculated",void 0),(0,i.A)(this,"treeLayout",void 0),(0,i.A)(this,"realChart",void 0),(0,i.A)(this,"previousTransform",void 0),(0,i.A)(this,"centerG",void 0),(0,i.A)(this,"centerX",void 0),(0,i.A)(this,"root",void 0),(0,i.A)(this,"allNodes",void 0),(0,i.A)(this,"defaultFont",void 0),(0,i.A)(this,"duration",void 0),(0,i.A)(this,"store",void 0),(0,i.A)(this,"orient",void 0),this.svgWidth=500,this.svgHeight=500,this.margins=e,this.container=t,this.zoomLevel=o,this.orient=r,this.depth=10,this.calculated={},this.treeLayout=null,this.realChart=null,this.previousTransform=null,this.centerX=0,this.root=null,this.allNodes=null,this.defaultFont="Helevtica",this.duration=600,this.data=n,this.store=s,this.setZoomFactor.bind(this),this.batchEnterExitUpdate()}setZoomFactor(){const e=this.centerG.node().getBoundingClientRect().width;let t=this.svgWidth/e;t=t>1?1:t,this.zoomLevel=t,"h"===this.orient?this.centerG.attr("transform",`translate(${this.calculated.nodeMaxWidth/2}, ${this.calculated.centerY}) scale(${t})`):this.centerG.attr("transform",`translate(${this.calculated.centerX}, ${this.calculated.nodeMaxHeight/2}) scale(${t})`)}batchEnterExitUpdate(){s.r1M.prototype.patternify=function(e){const{tag:t,selector:n}=e,i=e.targetData||[n],s=this.selectAll(`.${n}`).data(i,((e,t)=>"object"===typeof e&&e.id?e.id:t));s.exit().remove();const o=s.enter().append(t).merge(s);return o.attr("class",n),o}}render(){const e=s.Ltv(this.container);e.node().replaceChildren();const t=e.node().getBoundingClientRect();t.width>0&&(this.svgWidth=t.width,this.svgHeight=t.height);const n=o.uL.nodeWidth,i=o.uL.nodeHeight;this.calculated={id:`ID${Math.floor(1e6*Math.random())}`,chartVerticalMargin:this.margins[0],chartHorizontalMargin:this.margins[1],chartWidth:this.svgWidth-2*this.margins[0],chartHeight:this.svgHeight-2*this.margins[1],nodeMaxWidth:n,nodeMaxHeight:i,centerX:(this.svgWidth-2*this.margins[0])/2,centerY:(this.svgHeight-2*this.margins[1])/2},this.depth="h"===this.orient?n/2:i+20,this.treeLayout=s.B22().size([this.calculated.chartWidth,this.calculated.chartHeight]),"h"===this.orient?this.treeLayout.nodeSize([this.calculated.nodeMaxHeight+o.uL.nodeSpacing,this.calculated.nodeMaxWidth+this.depth]):this.treeLayout.nodeSize([this.calculated.nodeMaxWidth+o.uL.nodeSpacing,this.calculated.nodeMaxHeight+this.depth]),Array.isArray(this.data)?this.root=s.zTO().id((e=>e.nodeId)).parentId((e=>e.parentNodeId))(this.data):(this.root=s.Sk5(this.data,(e=>e.children)),this.root.each((e=>{e.id=e.data.id}))),this.root.x0=0,this.root.y0=0;const r=s.s_O().on("zoom",(e=>{_.attr("transform",e.transform)})),a=e.patternify({tag:"svg",selector:"svg-chart-container"}).attr("width",this.svgWidth).attr("height",this.svgHeight).attr("font-family",this.defaultFont).call(r).on("dblclick.zoom",null);this.resetZoom=()=>{a.transition().duration(750).call(r.transform,s.GSI)};const _=a.patternify({tag:"g",selector:"chart"}).attr("transform",`translate(${this.calculated.chartHorizontalMargin}, ${this.calculated.chartVerticalMargin})`);this.realChart=_;const l=_.patternify({tag:"g",selector:"center-group"});return this.centerG=l,this.update(this.root),this}update(e){const t=this.store,i=this.treeLayout(this.root),c=i.descendants().slice(1),d=i.descendants();"h"===this.orient&&d.forEach(((e,t)=>{const n=e.x;e.x=e.y,e.y=n,0===t&&(e.x=2*o.uL.nodeCircleRadius)}));const{x0:u,y0:h,x:p,y:g}=e,E=this.centerG.selectAll("path.link").data(c,(e=>e.id)),b=s.pqs(),m=E.enter().insert("path","g").attr("class","link").attr("d",(()=>{const e={source:[u,h],target:[u,h]};return b(e)})),f=m.merge(E);f.attr("fill","none").attr("stroke-width",o.uL.connectorLineWidth).attr("stroke",o.uL.connectorLineColor);let C=0;f.transition().duration(this.duration).attr("d",(e=>{if("h"===this.orient){let t=o.uL.nodeWidth/2;const n=0,i=-o.uL.nodeWidth/2,s=0;"0"==e.parent.id&&(t=o.uL.nodeCircleRadius);const r=e.x+t;r>C&&(C=r);const a={source:[e.parent.x+t,e.parent.y+n],target:[e.x+i,e.y+s]};return b(a)}const t={source:[e.parent.x,e.parent.y+o.uL.nodeHeight/2],target:[e.x,e.y-o.uL.nodeHeight/2]};return b(t)}));E.exit().transition().duration(this.duration).attr("d",(()=>{const e={source:[p,g],target:[p,g]};return b(e)})).remove();const v=this.centerG.selectAll("g.node").data(d,(e=>e.id)),M=v.enter().append("g").attr("class","node").attr("transform",(()=>`translate(${u}, ${h})`)).attr("cursor","pointer"),A=M.patternify({tag:"g",selector:"node-group",targetData:e=>[e]}),P=M.merge(v);P.transition().attr("opaicty",0).duration(this.duration).attr("transform",(e=>`translate(${e.x}, ${e.y})`)).attr("opacity",1),A.attr("transform",(()=>`translate(${-o.uL.nodeWidth/2}, ${-o.uL.nodeHeight/2})`)),A.each((function(e){const i=s.Ltv(this);if(null===e.parent)return i.patternify({tag:"circle",selector:`node-circle-${e.id}`}),void A.select(`.node-circle-${e.id}`).attr("class",`node-circle-${e.id} type-node`).attr("r",o.uL.nodeCircleRadius).attr("fill","#f5f5f5").attr("stroke",o.uL.connectorLineColor).attr("stroke-width",o.uL.connectorLineWidth).attr("transform",`translate(${o.uL.nodeWidth/2}, ${o.uL.nodeHeight/2})`).attr("cursor","pointer").append("svg:title").text(`Width: ${e.data.width}, Height: ${e.data.height}`);1===e.data.id&&(t.spec.selectNode=e,"cell"!==document.body.style.cursor&&t.goToInstance(0));const c={rectHeight:o.uL.nodeHeight,rectWidth:o.uL.nodeWidth,starty:0,startx:0,radius:5,rounded:"all"};let d=e.data.matchs?.length;d=void 0===d?"Don't match any instances":`Match: ${d} instances`,i.patternify({tag:"path",selector:`node-rect-${e.id}`}),A.select(`.node-rect-${e.id}`).attr("class",`node-rect-${e.id} type-node`).attr("d",_(c)).attr("fill",o.Ur[e.data.type]).attr("cursor","pointer").append("svg:title").text(`Width: ${e.data.width}, Height: ${e.data.height}\nPattern Path: ${JSON.stringify(e.data.path)}\n`+d),e.data.match?.constraints?.forEach(((_,c)=>{const d=o.uL.iconsize,u=`${e.id}-${c}`;i.patternify({tag:"rect",selector:`node-constraint-rect-${u}`});const h=A.select(`.node-constraint-rect-${u}`),p=t.getNodebyPath(t.spec.rawSpecs,e.data.path),g=p.match.constraints[c];h.classed("node-constraint-rect",!0).attr("transform",`translate(${(d+o.uL.iconPadding)*c}, ${-o.uL.nodeHeight/2-3})`).attr("visibility","hidden").attr("width",d+2).attr("height",d+2).attr("stroke",o.Ur.selection).attr("stroke-width",1.5).attr("fill","none");let E=0;i.patternify({tag:"image",selector:`node-constraint-icon-${u}`}),A.select(`.node-constraint-icon-${u}`).attr("transform",`translate(${1+(d+o.uL.iconPadding)*c}, ${-o.uL.nodeHeight/2-2})`).attr("xlink:xlink:href",(()=>{const e=g.valueCstr;let t;if("function"===typeof e)t=n(76020);else switch(e){case r.TableCanoniserKeyWords.String:t=n(50087);break;case r.TableCanoniserKeyWords.Number:t=n(11615);break;case r.TableCanoniserKeyWords.None:t=n(83266);break;case r.TableCanoniserKeyWords.NotNone:t=n(80528);break;default:t=n(58323)}return t})).attr("width",d).attr("height",d).attr("tabindex",0).on("keyup",((e,n)=>{"Delete"!==e.key&&"Backspace"!==e.key||(t.deleteChildByPath(t.spec.rawSpecs,n.data.path,c),t.stringifySpec())})).on("mouseover",((e,n)=>{try{h.attr("visibility","visible");let e=n.data.constrsInfo[c].map(((e,t)=>({ele:e,index:t}))).filter((e=>e.ele.instIndex===t.tree.instanceIndex));if(void 0===e)return;t.highlightTblTemplate(e.map((e=>(e.ele.isDefinedFromSpec&&(E=e.index),{x:e.ele.x,y:e.ele.y,width:1,height:1,isDefinedFromSpec:e.ele.isDefinedFromSpec}))))}catch(i){console.log("Constraint mouseover error: \n",i)}})).on("mouseout",((e,n)=>{t.spec.constrNodeRectClickId!==u&&h.attr("visibility","hidden"),s.Ltv(".tbl-container .tbl-template-highlight").selectAll("rect").remove()})).on("contextmenu",l.bind(null,t,e,c)).on("click",((e,n)=>{try{document.dispatchEvent(a),t.spec.constrNodeRectClickId=u,h.attr("visibility","visible"),t.editor.mappingSpec.highlightCode=[...t.getHighlightCodeStartEndLine(g,p),"selectionShallow"],t.editor.mappingSpec.triggerCodeChange=!1;const e=t.editor.mappingSpec.codePref+t.stringifySpec(null,"even",!1);t.editor.mappingSpec.code===e?(t.highlightCode(...t.editor.mappingSpec.highlightCode),t.editor.mappingSpec.highlightCode=null,t.editor.mappingSpec.triggerCodeChange=!0):t.editor.mappingSpec.code=e;const i=n.data.constrsInfo[c].map((e=>[e.y,e.x,e.y,e.x])),s=Array(i.length).fill("selectionShallow"),o=t.generateHighlightCells(i,s);let{row:r,col:_}=o.slice(-1)[0];E<s.length&&(o[E].className="selection",r=o[E].row,_=o[E].col),t.highlightTblCells("input_tbl",o,[[r,_]]),t.highlightMinimapCells(o)}catch(i){console.log("Constraint click error: \n",i)}})).append("svg:title").text((()=>{const e=g.valueCstr;if("function"===typeof e)return"The cell is constrained by a custom function:\nClick to see details in the Code Panel.";switch(e){case r.TableCanoniserKeyWords.String:return"The cell's data type should be a string.";case r.TableCanoniserKeyWords.Number:return"The cell's data type should be a number.";case r.TableCanoniserKeyWords.None:return"The cell should be an empty string, null, or undefined.";case r.TableCanoniserKeyWords.NotNone:return"The cell should not be an empty string, null, or undefined.";default:return"The cell should be "+e+"."}}))}))})),P.patternify({tag:"text",selector:"node-text"}),P.select(".node-text").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("fill",o.zK.color).attr("font-size",o.zK.fontSize).attr("y",(()=>o.zK.yAxisAdjust)).attr("cursor","pinter").attr("pointer-events","none").text((e=>{if(0===e.id)return"";{let t=e.data.width,n=e.data.height,i=e.data.match?.size?.width,s=e.data.match?.size?.height;return void 0===i&&(i=1),void 0===s&&(s=1),void 0===t?t=i:null===i&&(t=null),void 0===n?n=s:null===s&&(n=null),`(${t}, ${n})`}})),s.Ubm(".type-node").attr("tabindex",0).on("keyup",((e,n)=>{("Delete"===e.key||"Backspace"===e.key&&0!==n.data.id)&&(t.deleteChildByPath(t.spec.rawSpecs,n.data.path),t.stringifySpec())})).on("contextmenu",((e,n)=>{l(t,n,-1,e)})).on("mouseover",(function(e,n){n.id&&t.highlightTblTemplate(n.data.currentMatchs)})).on("mouseout",(function(){s.Ltv(".tbl-container .tbl-template-highlight").selectAll("rect").remove()})).on("click",(function(e,n){if(e.stopPropagation(),t.clearStatus("tree"),n.id){t.spec.selectNode=n,s.Ltv(this).classed("selection",!0),t.highlightMinimapInsts();const e=n.data;t.goToInstance(0);const i=t.getNodebyPath(t.spec.rawSpecs,e.path);t.editor.mappingSpec.highlightCode=[...t.getHighlightCodeStartEndLine(i),`${e.type}Shallow`],t.editor.mappingSpec.triggerCodeChange=!1;const o=t.editor.mappingSpec.codePref+t.stringifySpec(null,"even",!1);t.editor.mappingSpec.code===o?(t.editor.mappingSpec.instance?.setValue(o),t.highlightCode(...t.editor.mappingSpec.highlightCode),t.editor.mappingSpec.highlightCode=null,t.editor.mappingSpec.triggerCodeChange=!0):t.editor.mappingSpec.code=o}else document.dispatchEvent(a)}));v.exit().attr("opacity",1).transition().duration(this.duration).attr("transform",`translate(${p},${g})`).on("end",(function(){s.Ltv(this).remove()})).attr("opacity",0);d.forEach((e=>{e.x0=e.x,e.y0=e.y}));const D=Math.max((this.svgWidth-C)/2,0)-o.uL.nodeCircleRadius,O=Math.max((this.svgHeight-this.realChart.node().getBBox().height)/2,0)+o.uL.nodeCircleRadius;this.centerG.attr("transform",`translate(${D}, ${O})`)}}},48228:function(e,t,n){"use strict";n.d(t,{V:function(){return s},W:function(){return o}});var i=n(89782);let s=null;const o=(e,t,n,o,r=.2)=>{if(!n)return;const a=i.Ltv(n);if(a.select("g.left").remove(),0===e||0===t)return;const _=n.clientWidth*r,l=n.clientHeight;let c=Math.max(5,Math.min(45,Math.floor(_/t))),d=Math.max(5,Math.min(20,Math.floor(l/e)));c=d=Math.min(c,d),s=i.s_O().on("zoom",(function(e){h.attr("transform",`translate(${o.tree.offset.left.x+e.transform.x}, ${o.tree.offset.left.y+e.transform.y}) scale(${e.transform.k})`),o.updateCurve()}));const u=a.append("g").classed("left",!0).call(s).on("dblclick.zoom",null),h=u.append("g").classed("matrix",!0),p=o.generateGrid(e,t);h.append("g").selectAll("rect").data(p).enter().append("rect").classed("grid-cell",!0).attr("x",(e=>e.col*c)).attr("y",(e=>e.row*d)).attr("id",(e=>`grid-${e.row}-${e.col}`)).attr("width",c).attr("height",d).on("click",(function(e,t){i.Ubm("rect.grid-cell").attr("class","grid-cell"),i.Ltv(this).raise().classed("selection",!0),o.grid_cell_click({row:t.row,col:t.col}),o.input_tbl.instance.deselectCell(),o.output_tbl.instance.deselectCell()})).append("title").text((e=>`Position: (${e.row}, ${e.col})`));o.tree.offset.left.x=Math.max((_-h.node().getBBox().width)/2,0),o.tree.offset.left.y=Math.max((l-h.node().getBBox().height)/2,0),h.attr("transform",`translate(${o.tree.offset.left.x}, ${o.tree.offset.left.y})`),o.tree.minimapInstHighlight=h.append("g").classed("tbl-minimap-highlight",!0),o.tree.minimapVisInfo={width:c,height:d}}},1890:function(e,t,n){"use strict";n.d(t,{Ur:function(){return i},uL:function(){return s},zK:function(){return o}});const i={position:"rgba(106, 176, 76)",positionShallow:"rgba(106, 176, 76, 0.65)",context:"rgba(240, 147, 43)",contextShallow:"rgba(240, 147, 43, 0.65)",value:"rgba(34, 166, 179)",valueShallow:"rgba(34, 166, 179, 0.65)",null:"rgba(131, 149, 167)",nullShallow:"rgba(131, 149, 167, 0.65)",selection:"rgba(9, 132, 227)",selectionShallow:"rgba(9, 132, 227, 0.65)",positionRGBA:"rgba(106, 176, 76, 0.5)",contextRGBA:"rgba(240, 147, 43, 0.5)",valueRGBA:"rgba(34, 166, 179, 0.5)",nullRGBA:"rgba(131, 149, 167, 0.5)",selectionRGBA:"rgba(9, 132, 227, 0.5)",ambiguousText:"#f9f7ff",cellFill:"#f9f7ff",cellStroke:"#cccccc"},s={nodeWidth:96,nodeHeight:30,nodeRectFillColor:"#7EAA55",nodeCircleFillColor:"#83b5ed",nodeCircleRadius:15,nodeBorderRadius:5,verticalLineLength:40,verticalLineWidth:5,nodeSpacing:34,connectorLineColor:"#0000004D",connectorLineWidth:1.5,iconsize:15,iconPadding:6},o={color:"white",fontSize:15,yAxisAdjust:2}},29833:function(e,t,n){"use strict";n.d(t,{F:function(){return r},_:function(){return o}});var i=n(1890),s=n(89782);let o=null;const r=(e,t,n=.8)=>{if(!e)return;const r=s.Ltv(e);r.select("g.right").remove();try{const a=t.spec.visTree.children;if(void 0===a||0===a.length||0===a[0].width||0===a[0].height)return;const _=e.clientWidth*n,l=e.clientHeight;let c=Math.max(5,Math.min(90,Math.floor(_/a[0].width))),d=Math.max(5,Math.min(30,Math.floor(l/a[0].height)));o=s.s_O().on("zoom",(function(e){h.attr("transform",`translate(${t.tree.offset.right.x+e.transform.x}, ${t.tree.offset.right.y+e.transform.y}) scale(${e.transform.k})`),E(e.transform.k),t.updateCurve()})).filter((function(e){return!e.ctrlKey&&!e.button&&"dblclick"!==e.type}));const u=r.append("g").classed("right",!0).call(o),h=u.append("g").classed("tbl-template",!0);h.on("mouseover",(()=>{r.call(o)})),h.on("mouseout",(()=>{r.on(".zoom",null)}));let p=null;const g=t.computeTblPatternGrid();h.selectAll("rect").data(g).enter().append("rect").classed("tbl-template-cell",!0).attr("x",(e=>e.col*c)).attr("y",(e=>e.row*d)).attr("width",c).attr("height",d).attr("fill",(e=>e.bgColor?i.Ur[e.bgColor]:i.Ur.cellFill)).attr("stroke","#cccccc").on("mouseover",(function(){s.Ltv(this).raise().attr("stroke-width",2),p&&p.raise()})).on("mouseout",(function(){s.Ltv(this).attr("stroke-width",1)})).on("click",(function(e,n){const i=n.row+a[0].y,o=n.col+a[0].x;s.Ltv(`#grid-${i}-${o}`).dispatch("click"),t.highlightNodes([[i,o,i,o]]),t.input_tbl.instance.deselectCell(),t.output_tbl.instance.deselectCell()})).append("title").text((e=>e.text&&e.text.length?"The cell's Target Column is:\n"+e.text.toString():"No Target Column"));t.tree.offset.right.x=e.clientWidth*(1-n)+Math.max((_-h.node().getBBox().width)/2,0),t.tree.offset.right.y=Math.max((l-h.node().getBBox().height)/2,0),h.attr("transform",`translate(${t.tree.offset.right.x}, ${t.tree.offset.right.y})`);const E=e=>{const t=c*e,n=d*e;t>=90||n>=30?p?p.style("display","block"):p=h.selectAll("text").data(g).enter().append("text").classed("tbl-template-text",!0).attr("x",(e=>e.col*c+c/2)).attr("y",(e=>e.row*d+d/2)).attr("dy",".30em").attr("font-size",15/e).attr("fill",(e=>e.textColor?i.Ur[e.textColor]:i.Ur.cellFill)).attr("text-anchor","middle").text((e=>e.text?e.text[0]:"")).each((function(e){const t=s.Ltv(this);let n=t.text(),i=this.getComputedTextLength();while(i>c&&n.length>0)n=n.slice(0,-1),t.text(n+"…"),i=this.getComputedTextLength()})).style("display","block").style("pointer-events","none"):p&&p.style("display","none")};E(1),t.tree.tblVisHighlight=h.append("g").classed("tbl-template-highlight",!0),t.tree.tblVisInfo={x:a[0].x,y:a[0].y,width:c,height:d}}catch(a){console.error(a)}}},81579:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomError=t.completeCellConstraint=t.completeRegionPosition=t.completeSpecification=t.TableCanoniserKeyWords=void 0;const n={String:"TableCanoniserKeyWords.String",Number:"TableCanoniserKeyWords.Number",None:"TableCanoniserKeyWords.None",NotNone:"TableCanoniserKeyWords.NotNone",Forward:"TableCanoniserKeyWords.Forward",Auto:"TableCanoniserKeyWords.Auto",pairSort:i};function i(e,t,n){let i=e.map(((e,t)=>({value:e,index:t})));i.sort(((e,t)=>"asc"===n?e.value<t.value?-1:e.value>t.value?1:0:e.value>t.value?-1:e.value<t.value?1:0));const s=new Array(t.length);return i.forEach(((e,n)=>s[e.index]=t[n])),s}t.TableCanoniserKeyWords=n;const s=1,o=1,r="current",a="topLeft",_=0,l=0,c=null,d=null,u="above",h=e=>e[0].value,p=n.String,g=!0,E=n.Auto;function b(e){return e?{offsetLayer:e.offsetLayer||r,offsetFrom:e.offsetFrom||a,offsetX:void 0===e.offsetX?_:e.offsetX,offsetY:void 0===e.offsetY?l:e.offsetY}:{offsetLayer:r,offsetFrom:a,offsetX:_,offsetY:l}}function m(e){const t=b(e);return Object.assign(Object.assign({},t),{valueCstr:void 0===e.valueCstr?p:e.valueCstr,ignoreOutOfBounds:void 0===e.ignoreOutOfBounds?g:e.ignoreOutOfBounds})}function f(e){return{position:e.position||u,toTargetCol:e.toTargetCol||h}}function C(e){var t,n,i,r,a,_,l,u,h,p,g,v;return{match:{startCell:b(null===(t=e.match)||void 0===t?void 0:t.startCell),size:{width:void 0===(null===(i=null===(n=e.match)||void 0===n?void 0:n.size)||void 0===i?void 0:i.width)?s:e.match.size.width,height:void 0===(null===(a=null===(r=e.match)||void 0===r?void 0:r.size)||void 0===a?void 0:a.height)?o:e.match.size.height},constraints:(null===(l=null===(_=e.match)||void 0===_?void 0:_.constraints)||void 0===l?void 0:l.map(m))||[],traverse:{xDirection:void 0===(null===(h=null===(u=e.match)||void 0===u?void 0:u.traverse)||void 0===h?void 0:h.xDirection)?c:e.match.traverse.xDirection,yDirection:void 0===(null===(g=null===(p=e.match)||void 0===p?void 0:p.traverse)||void 0===g?void 0:g.yDirection)?d:e.match.traverse.yDirection}},extract:e.extract?{byPositionToTargetCols:e.extract.byPositionToTargetCols||void 0,byContext:e.extract.byContext?f(e.extract.byContext):void 0,byValue:e.extract.byValue||void 0}:null,fill:void 0===e.fill?E:e.fill,children:(null===(v=e.children)||void 0===v?void 0:v.map(C))||[]}}t.completeRegionPosition=b,t.completeCellConstraint=m,t.completeSpecification=C;class v extends Error{constructor(e,t="CustomError"){super(e),this.name=t,Object.setPrototypeOf(this,new.target.prototype)}}t.CustomError=v},54235:function(e,t,n){"use strict";n(44114),n(43375),n(39225),n(13972),n(99209),n(25714),n(17561),n(66197),t.LR=t.U6=t.D5=t.lK=void 0;const i=n(81579);function s(e){const t=new WeakSet;return JSON.stringify(e,(function(e,n){if("object"===typeof n&&null!==n){if(t.has(n))return`[Reference to: ${e}]`;t.add(n)}return n}),2)}t.lK=s;var o={},r=[],a=[];const _=(e,t)=>{try{let n=e[t[0]];return t.slice(1).forEach((e=>{n=n.children[e]})),n}catch(n){return null}};t.D5=_;const l=(e,t)=>"function"===typeof t.valueCstr?t.valueCstr(e):t.valueCstr===i.TableCanoniserKeyWords.String?"string"===typeof e&&""!==e&&isNaN(Number(e)):t.valueCstr===i.TableCanoniserKeyWords.Number?"number"===typeof e||"string"===typeof e&&""!==e&&!isNaN(Number(e)):t.valueCstr===i.TableCanoniserKeyWords.None?null===e||""===e||void 0===e:t.valueCstr===i.TableCanoniserKeyWords.NotNone?null!==e&&""!==e&&void 0!==e:e===t.valueCstr,c=(e,t,n)=>"number"===typeof e?e:e(t,n),d=(e,t,n,s=!1)=>{let o=t;if("current"===e.offsetLayer)o=t;else if("root"===e.offsetLayer)o=n;else if("parent"===e.offsetLayer)o=t.parent;else{const n=t.areaLayer-e.offsetLayer(t);for(let e=0;e<n;e++)o=o.parent}let r={x:o.x+c(e.offsetX,t,n),y:o.y+c(e.offsetY,t,n)};if("bottomLeft"===e.offsetFrom?r.y+=o.height-1:"topRight"===e.offsetFrom?r.x+=o.width-1:"bottomRight"===e.offsetFrom&&(r.x+=o.width-1,r.y+=o.height-1),r.x<0||r.y<0||r.x>=n.width||r.y>=n.height){const e=`Invalid cell selection:\n Table size is (width: ${n.width}, height: ${n.height}), Position (${r.x}, ${r.y}) is out of bounds.`;if(s)return null;throw new i.CustomError(e,"OutOfBoundsError")}return Object.assign(Object.assign({},r),{value:n.areaTbl[r.y][r.x]})};t.U6=d;const u=(e,t,n,i)=>"number"===typeof e?e:"toParentX"===e?i.width-t:"toParentY"===e?i.height-n:1,h=(e,t,n,i,s)=>{const o=[];for(let r=n;r<n+s;r++){const n=e[r].slice(t,t+i);o.push(n)}return o},p=(e,t,n)=>{if(null===n)return;const s=Math.max(...Object.values(t).map((e=>e.length)));for(const o in t){if(!e.has(o))continue;const r=t[o],a=n===i.TableCanoniserKeyWords.Forward?r[r.length-1]:{x:-1,y:-1,value:n};while(r.length<s)r.push(a)}},g=(e,t,n,i,s,o,r,a,_,l,c,d)=>{let u=t,h=t+o-1,p=n,g=n+r-1,b=null;while(g<=s){const n=g-p+1;while(h<=i){const t=h-u+1;if(b=E(e,u,p,t,n,a,_,l,c,d),null===b)null!=e.match.size.width?(u+=1,h+=1):h===i?(u+=1,h=u):h+=1;else{if(a.instanceIndex+=1,null===e.match.traverse.xDirection)break;a.xIndex+=1,u+=t,h=u+o-1}}if(a.xIndex=0,null===b)null!=e.match.size.height?(p+=1,g+=1):g===s?(p+=1,g=p):g+=1;else{if(null===e.match.traverse.yDirection)break;a.yIndex+=1,p+=n,g=p+r-1}u=t,h=t+o-1}},E=(e,n,i,s,o,r,a,_,c,d)=>{let u=a.x+n,p=a.y+i;if("current"!==e.match.startCell.offsetLayer){const n=(0,t.U6)(e.match.startCell,a,_);if(null===n)return null;u=n.x,p=n.y}const g={parent:a,areaLayer:a.areaLayer+1,templateRef:r.templateRef.slice(),instanceIndex:r.instanceIndex,xIndex:r.xIndex,yIndex:r.yIndex,offsetX:n,offsetY:i,x:u,y:p,width:s,height:o,isDefinedFromSpec:u===d.x&&p===d.y,areaTbl:h(_.areaTbl,u,p,s,o),children:[]};for(let h of e.match.constraints)try{const e=(0,t.U6)(h,g,_);if(null===e)return null;if(!l(e.value,h))return null}catch(E){if(h.ignoreOutOfBounds)continue;return null}return a.children.push(g),b(e,g,_,c),g},b=(e,n,s,_)=>{const l=n.areaTbl.flat();if(e.extract){let c;if(void 0!==e.extract.byPositionToTargetCols)c=e.extract.byPositionToTargetCols;else if(void 0!==e.extract.byContext){const o=e.extract.byContext,r=[],a=[],_=[];if("above"===o.position)n.areaTbl.forEach(((e,t)=>{e.forEach(((e,n)=>{_.push([(0,i.completeRegionPosition)({offsetX:n,offsetY:t-1})])}))}));else if("below"===o.position)n.areaTbl.forEach(((e,t)=>{e.forEach(((e,n)=>{_.push([(0,i.completeRegionPosition)({offsetX:n,offsetY:t+1})])}))}));else if("left"===o.position)n.areaTbl.forEach(((e,t)=>{e.forEach(((e,n)=>{_.push([(0,i.completeRegionPosition)({offsetX:n-1,offsetY:t})])}))}));else if("right"===o.position)n.areaTbl.forEach(((e,t)=>{e.forEach(((e,n)=>{_.push([(0,i.completeRegionPosition)({offsetX:n+1,offsetY:t})])}))}));else{const e=o.position;n.areaTbl.forEach(((t,o)=>{t.forEach(((t,r)=>{const a=e({offsetX:r,offsetY:o,value:t},n,s),l=a.map((e=>(0,i.completeRegionPosition)(e)));_.push(l)}))}))}_.length>0&&_[0].length>0?_.forEach((e=>{const i=[];e.forEach((e=>{const o=(0,t.U6)(e,n,s);if(null===o)return null;i.push(o)})),a.push(i)})):console.log("No context cells found");const l=o.toTargetCol;a.forEach((e=>{r.push(l(e))})),c=r}else{if(void 0===e.extract.byValue)throw new i.CustomError("Please specify 'byPositionToTargetCols', 'byContext', or 'byValue' for extraction","NoExtractionSpecified");c=e.extract.byValue(n.areaTbl)}const d=n.templateRef.toString();o.hasOwnProperty(d)||(o[d]=new Set);const u=o[d];if(c.length!==l.length&&!r.some((e=>"MismatchNumberOfCells"===e.type))){const e=(0,t.D5)(a,n.templateRef).extract;let i;c.length>l.length?i=`The number of extracted columns (${c.length}) is larger than the number of matched cells (${l.length}).`:(void 0!==(null===e||void 0===e?void 0:e.byPositionToTargetCols)&&(e.byPositionToTargetCols=[...e.byPositionToTargetCols,...Array(l.length-c.length).fill(null)]),i=`The number of extracted columns (${c.length}) is less than the number of matched cells (${l.length}).\nWe have automatically filled the missing columns with null.`),r.push({type:"MismatchNumberOfCells",message:i,data:{code:e,path:n.templateRef}})}c.forEach(((e,t)=>{if(null!==e&&void 0!==e&&""!==e){const i={x:t>=l.length?-1:n.x+t%n.width,y:t>=l.length?-1:n.y+Math.floor(t/n.width),value:l[t]};_.hasOwnProperty(e)?_[e].push(i):_[e]=[i],u.add(e)}}));for(let e=1;e<n.templateRef.length;e++){const t=n.templateRef.slice(0,e).toString();o.hasOwnProperty(t)||(o[t]=new Set),o[t]=new Set([...o[t],...u])}}},m=(e,n,s,_,l=0)=>{const c={templateRef:[...n.templateRef,l],instanceIndex:0,xIndex:0,yIndex:0},d=e.match.traverse.xDirection,h=e.match.traverse.yDirection,E=(0,t.U6)(e.match.startCell,n,s);if(null===E)return null;const b=E.x-n.x,f=E.y-n.y,C=u(e.match.size.width,b,f,n),v=u(e.match.size.height,b,f,n);let M,A,P,D;null===d?(M=b,P=null===e.match.size.width?n.width-1:M+C-1):"before"===d?(M=0,P=b):"after"===d?(M=b,P=n.width-1):(M=0,P=n.width-1),null===h?(A=f,D=null===e.match.size.height?n.height-1:A+v-1):"before"===h?(A=0,D=f):"after"===h?(A=f,D=n.height-1):(A=0,D=n.height-1),g(e,M,A,P,D,C,v,c,n,s,_,E);const O=n.children.filter((e=>e.templateRef.toString()===c.templateRef.toString()));if(e.children.length>0&&O.length>0&&O.forEach((t=>{e.children.forEach(((e,n)=>{m(e,t,s,_,n)}));const n=o[t.templateRef.toString()];e.fill===i.TableCanoniserKeyWords.Auto?t.templateRef.length>1?p(n,_,null):p(n,_,""):p(n,_,e.fill)})),e.extract){const n=[];for(const t in e.extract)void 0!==e.extract[t]&&n.push(t);if(n.length>1&&!r.some((e=>"MultipleKeysInExtract"===e.type))){const e=(0,t.D5)(a,c.templateRef).extract;r.push({type:"MultipleKeysInExtract",message:`Multiple keys (${n}) are detected in 'extract'. We'll prioritize and parse in this order: byPositionToTargetCols, byContext, byValue. Any others will be ignored.\nPlease provide only one key for accurate processing.`,data:{code:e,path:c.templateRef}})}}};function f(e,t){const n={parent:null,areaLayer:0,templateRef:[],instanceIndex:0,xIndex:0,yIndex:0,offsetX:0,offsetY:0,x:0,y:0,width:e.length>0?e[0].length:0,height:e.length,isDefinedFromSpec:!1,areaTbl:e,children:[]},s={};return o={},r=[],a=t,t.forEach(((e,t)=>{const o=(0,i.completeSpecification)(e);m(o,n,n,s,t)})),{tidyData:s,rootArea:n,template2Cols:o,executionMessages:r}}t.LR=f},89387:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=89387,e.exports=t},4582:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var i=n(56768),s=n(24232),o=n(50087),r=n(11615),a=n(83266),_=n(25719);const l=e=>((0,i.Qi)("data-v-77dc7f23"),e=e(),(0,i.jt)(),e),c={class:"icons-container"},d=l((()=>(0,i.Lk)("div",{style:{width:"50px",display:"inline-block"}},null,-1))),u={class:"icon-scroll"},h=["src","alt","title","onClick"];var p=(0,i.pM)({__name:"ColType",props:{tblType:{}},setup(e){const{tblType:t}=e,n=(0,_.v)(),l={string:o,number:r,none:a},p=(0,i.EW)((()=>n[t].colInfo.map((e=>{const t=[{type:"string",count:e.string.length},{type:"number",count:e.number.length},{type:"none",count:e.none.length}].filter((e=>e.count>0)).sort(((e,t)=>t.count-e.count));return{...e,sortedIcons:t}}))));function g(e,i){const s="selection",o=i.map((t=>({row:t,col:e,className:s})));n.highlightTblCells(t,o,null,!0,!1);const r=n.in_out_mapping({0:o.map((e=>[e.row,e.col]))},t,s);"input_tbl"===t?(n.highlightMinimapCells(o),n.highlightTblCells("output_tbl",r)):(n.highlightMinimapCells(r),n.highlightTblCells("input_tbl",r))}return(e,t)=>((0,i.uX)(),(0,i.CE)("div",c,[d,(0,i.Lk)("div",u,[(0,i.Lk)("div",{style:(0,s.Tr)({width:p.value.reduce(((e,t)=>e+t.width),0)+"px"})},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(p.value,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.index,style:(0,s.Tr)({width:e.width+"px"}),class:"icon-column"},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.sortedIcons,(t=>((0,i.uX)(),(0,i.CE)("img",{key:t.type,src:l[t.type],alt:`${t.type} icon`,class:"icon",title:`${t.count} cell(s) with a data type of ${t.type}`,onClick:n=>g(e.index,e[t.type])},null,8,h)))),128))],4)))),128))],4)])]))}}),g=n(71241);const E=(0,g.A)(p,[["__scopeId","data-v-77dc7f23"]]);var b=E},58323:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAACxAAAAsQHGLUmNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAJJJREFUSInt0jEKAjEQRuFPEawEwXOsV/ES4iG01dPIFt5E0RNoLQjCgiBouwY2SGJnHqQITN78zIRCIZdecB9ihnGi74YdHl0FNV6ZZxtLcPlBg3OswQJNhrzBvC0MdwADjGIpItzxTHz7r4Q7mGKJSaLvig2OXQUH+d903xb2E5N+TTiiCit5I1rjlBOqUPjkDTtrUD2uq29SAAAAAElFTkSuQmCC"},76020:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAARtJREFUSIm11D8vBEEYx/FPkOhW6EWhVd1RUegpRBQSrbegv15xtffgBdBJVATRqERHK6gkF3+K3eRmhzCzt/dLJjszmef3nZ3nyUO+ptHDE76isR4fnso0n8AxNoO9U9ziGWeZfj+0p37jg1ENY50H5vfKP2pNBQYBoJ8SlHODjnrOLtoGdKP1dUrQf1W0gaVqvh3sf2Kn+sILjlKAoWaUpRfX+m+jl2seq8BHYHiYGpiag050Nun9cwDL0bp1QFhBr3gYJ+DGsHpaARRYDNbJz5MK6GqY4BxAqLEC3mQkuAkgK8EpgDn1BF/mmKcAtqIzJ7mAvzSPR8P+c4fJXJO4Xa9hFQvYxWy1/459ZcMbSVfqbXigfJaVpobfX29FllHU6BIAAAAASUVORK5CYII="},83266:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAhQAAAIUB4uz/wQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAG3SURBVEiJrdbBTlNBFAbgr7ULeAECrWglxcbEhMTXoOAz6IoovIMPALJhoUbjC4iJJvoKgBvDxujCulCUuFI3QhRxcaZJQ+9tL3D/3Z3z339mzpzzz1QMxzRuYh7N9A2f8Qmv8AJf8gQqOeMN3MMtXMA7vMX3FJ/ADVzDXzxN/K8jFgwW8Qu/sYrWEO4s1nCQ/lkYJb6CI2zhcpHVJDSxnf5dziMtJsIzjJ1CvIcxbCaNgZ00xBa3zijewzh28BNT/YHHIuenSUserogzedgbmBaVsFqCeA/38UdkxgqORUWUhVbSvFPBa1zC9RInIHqnW02z7ZYsLmm2auK0szpwA+2CYh8M1v8eOlWRqzzLKIrjjLEq/tXwDfUMQm5HFkQde1V8xNw5xbIwhy7cFVu8WqL4bNJcgouiKdZKnGBdX6PBI9HezRLEZ3CIB/2DdWF2285vdm/wA5MngwvCajfPOMk4nieN+TzSciLsCFcsihmx8iNRNEPREX5+IA5rWHW1E+dQpGVg5XkdPCUu8duo4b249PdTfFJc+m1h9U8Sf/+EzkiLaIirtCNS1v9s6Ypny0vhO5n4D/ugYFLwBqzMAAAAAElFTkSuQmCC"},11615:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA1wAAANcBKydp6wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGbSURBVEiJtdU9axVBGMXx38SgtaIYXzCImMo6RZRAbFRQU/gVLLW4amNh4QeIEERLEdTeSlDEQlRIRNMIloIWRhDE0vgyFnOvbG7Gfe4WeWBhmHN2/jvPnp1NOWebWWOjGlNKvZTSROCZTSmdWjeZcw4vTCPjSOB7hAfr5kYELOBd4NmBNcx3AiDhI64FvvP4jm1dATP99kwFvie4t2F+BMAiVgLPLvzCmWEtDWKaUtqN65VwnMMqXrYEaBIncRc/msL40Hg4hnuxE68qWrNm8R7bNyjB1m9gOfDswW8cr+pBej7hSgC4iC/Y0hVwTEnPZAB4gdv/1VtuvImlYPH9+IO5TgDljPqMywHgkpKwsa6Auf6THQgAS7jV5kl4WIndFA7icUs0E87ibT8MzerlnD9Qsr86JI5jHk8rWrOO4iteV7Sf/0aVbZ9Q2rMvaM8bLLZ5qu8Ad/A8WPyQEuGZTgBsxTdcCABXlSM8dQWcVj77iQCwgoVo8RrgPp4Fix/ut2d6FEDzNB0A1lqSQ/lr9XLOy4GPQQ83s/4CubnR5aEuEtwAAAAASUVORK5CYII="},80528:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHOSURBVEiJrda/ThRRFAbwHyMFvoABN8SVgKgNiW+hyx8LXkAbE8V38AFQO+MajZ2xEBP/VRaWgI2hEDUqFioSK7URIkSLcyeusDOzyH7JZDL3fOe759577jnToxyDmEID9fQNH/EBT/AAn4oEegrGa7iEM9iHZbzA12Q/gBM4hk3cTvzVioDBJH7gJ2YxXMIdwWWsJ5+JKvGL2MI8DnUSTUIdC8l3pog0mQj30LcL8Rx9mEsaO1ZSE0ucrxCfTk8R9mMR3zHQargp9rxqW56lpwyHxZk084FBkQmzFY6dTgBX8Au1DKdFKjZLXXaHa+jFVIaTeIm3XZzgHV7hVCbyfKmL4jmWMNyLfnzZZpzGuTZOY+n9tI2tKVI8xyoa2R6jbMXvIsMb3OlQpNMsgrtYzvDe36V3E2NYyUTJPY4jXRQfwVE8zkQ939T+UP8X55Pmo3zghrje9QrHTs5gCBu43jp4UBS7BXsvds/xTaT/P5gQpXauYpIy8ftJo1FEmkmERVEVO8WQiHwLF6rI46Ker+Oq8uwaTZwNsS07Ii9q+gOiiZ8VVfG1aPpryd4vmv6oyJZbib+2Tadwghw10UrHxZa1/rasiDv0EJ+LBP4AGphm38Pwp9UAAAAASUVORK5CYII="},50087:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABdSURBVEiJY2AYBSSCowwMDP8pxIeRDWREs+A/lRwKN5eFkAIcDiAkDwdMxDuKPIDugyPYXEECoFQ/PCKJBjQPolELRi0YtWCQWIBcR8AA1rKfXAv+4ZGjVv0xkgEAaHMhoU7iewcAAAAASUVORK5CYII="},530:function(){},72615:function(){},84021:function(){},66247:function(){},82202:function(){},18641:function(){},97664:function(){}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,function(){__webpack_require__.amdO={}}(),function(){var e=[];__webpack_require__.O=function(t,n,i,s){if(!n){var o=1/0;for(l=0;l<e.length;l++){n=e[l][0],i=e[l][1],s=e[l][2];for(var r=!0,a=0;a<n.length;a++)(!1&s||o>=s)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](n[a])}))?n.splice(a--,1):(r=!1,s<o&&(o=s));if(r){e.splice(l--,1);var _=i();void 0!==_&&(t=_)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[n,i,s]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))}}(),function(){__webpack_require__.u=function(e){return"js/"+e+"."+{9:"f0d0ce5c",293:"6d8dd432",703:"0d1f9c9d",1034:"f6b3e245",1157:"2beaf0f8",1461:"fb0059e9",1477:"ffc266e5",1813:"6ef079f7",1915:"e21bd83b",2149:"158a201f",2365:"bc8f5817",2412:"58f99ca3",2501:"55fd872c",2591:"ff39a05e",2689:"688f7bd6",2709:"3469afb1",2799:"c63987be",2965:"29d2a306",2999:"d3f9dba9",3051:"77e50c86",3061:"482c606b",3071:"89465fe3",3445:"435e8a35",3473:"0bab0d67",3577:"6bef9c0d",3691:"484ae4ed",3717:"768e8e27",3753:"b0442b7b",3765:"d615a011",3775:"d917e1e1",3948:"345948b3",4205:"5e5ebbf5",4261:"169ed9f2",4341:"78a4ab37",4373:"ac90adaa",4485:"bef2dca3",4605:"266b8468",4621:"870c28e6",4805:"cf594d89",4977:"838037ee",5077:"c02ac641",5081:"14f2d800",5083:"27c26858",5093:"00755c35",5282:"c990c8e3",5285:"132b11de",5287:"283969a6",5303:"8f9f9293",5365:"dd4e4d8e",5521:"2a9a635c",5589:"2bda62e9",5609:"d5afb7e8",5653:"f8f91ca2",5749:"e6f60040",5841:"bd5e10f3",6059:"b1f436f9",6121:"dd2816d2",6181:"e7ca2241",6229:"3ac5fa3b",6309:"1ba0b728",6325:"abe102ec",6613:"370f0a13",6757:"689d8cb6",6821:"aa9a31f0",6845:"e880c126",7045:"25718108",7217:"f7f0263e",7219:"ba6a1f42",7449:"3864266f",7461:"69958a2b",7525:"5eb1403e",7623:"05ce3550",7641:"d0033e39",8175:"cc24a080",8285:"b5f431a8",8329:"2dbd08aa",8387:"a20b1f1d",8533:"bb0c91d4",8653:"866ac1be",8981:"57ed1260",9009:"cd2170ef",9437:"f09192df",9445:"0e4c637b",9626:"6f86ed1e",9717:"5d0c3836"}[e]+".js"}}(),function(){__webpack_require__.miniCssF=function(e){}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="TableCanoniser:";__webpack_require__.l=function(n,i,s,o){if(e[n])e[n].push(i);else{var r,a;if(void 0!==s)for(var _=document.getElementsByTagName("script"),l=0;l<_.length;l++){var c=_[l];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+s){r=c;break}}r||(a=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack",t+s),r.src=n),e[n]=[i];var d=function(t,i){r.onerror=r.onload=null,clearTimeout(u);var s=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach((function(e){return e(i)})),t)return t(i)},u=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),a&&document.head.appendChild(r)}}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){__webpack_require__.p="/"}(),function(){var e={3524:0};__webpack_require__.f.j=function(t,n){var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise((function(n,s){i=e[t]=[n,s]}));n.push(i[2]=s);var o=__webpack_require__.p+__webpack_require__.u(t),r=new Error,a=function(n){if(__webpack_require__.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",r.name="ChunkLoadError",r.type=s,r.request=o,i[1](r)}};__webpack_require__.l(o,a,"chunk-"+t,t)}},__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,s,o=n[0],r=n[1],a=n[2],_=0;if(o.some((function(t){return 0!==e[t]}))){for(i in r)__webpack_require__.o(r,i)&&(__webpack_require__.m[i]=r[i]);if(a)var l=a(__webpack_require__)}for(t&&t(n);_<o.length;_++)s=o[_],__webpack_require__.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return __webpack_require__.O(l)},n=self["webpackChunkTableCanoniser"]=self["webpackChunkTableCanoniser"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__=__webpack_require__.O(void 0,[504],(function(){return __webpack_require__(26588)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.08c5961e.js.map