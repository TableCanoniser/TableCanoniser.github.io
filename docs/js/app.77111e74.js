(function(){var __webpack_modules__={35358:function(e,t,a){var r={"./af":22190,"./af.js":22190,"./ar":7218,"./ar-dz":85785,"./ar-dz.js":85785,"./ar-kw":29417,"./ar-kw.js":29417,"./ar-ly":56904,"./ar-ly.js":56904,"./ar-ma":98617,"./ar-ma.js":98617,"./ar-ps":91318,"./ar-ps.js":91318,"./ar-sa":82699,"./ar-sa.js":82699,"./ar-tn":36789,"./ar-tn.js":36789,"./ar.js":7218,"./az":23050,"./az.js":23050,"./be":8316,"./be.js":8316,"./bg":70310,"./bg.js":70310,"./bm":58884,"./bm.js":58884,"./bn":83469,"./bn-bd":46672,"./bn-bd.js":46672,"./bn.js":83469,"./bo":39118,"./bo.js":39118,"./br":13113,"./br.js":13113,"./bs":23626,"./bs.js":23626,"./ca":40921,"./ca.js":40921,"./cs":17799,"./cs.js":17799,"./cv":12828,"./cv.js":12828,"./cy":93521,"./cy.js":93521,"./da":56962,"./da.js":56962,"./de":93294,"./de-at":16158,"./de-at.js":16158,"./de-ch":95960,"./de-ch.js":95960,"./de.js":93294,"./dv":47963,"./dv.js":47963,"./el":3432,"./el.js":3432,"./en-au":20998,"./en-au.js":20998,"./en-ca":15931,"./en-ca.js":15931,"./en-gb":45930,"./en-gb.js":45930,"./en-ie":58081,"./en-ie.js":58081,"./en-il":71594,"./en-il.js":71594,"./en-in":23904,"./en-in.js":23904,"./en-nz":1507,"./en-nz.js":1507,"./en-sg":19409,"./en-sg.js":19409,"./eo":22177,"./eo.js":22177,"./es":84805,"./es-do":39155,"./es-do.js":39155,"./es-mx":69791,"./es-mx.js":69791,"./es-us":76098,"./es-us.js":76098,"./es.js":84805,"./et":96240,"./et.js":96240,"./eu":20391,"./eu.js":20391,"./fa":20612,"./fa.js":20612,"./fi":4220,"./fi.js":4220,"./fil":65570,"./fil.js":65570,"./fo":5466,"./fo.js":5466,"./fr":14461,"./fr-ca":66306,"./fr-ca.js":66306,"./fr-ch":27081,"./fr-ch.js":27081,"./fr.js":14461,"./fy":73484,"./fy.js":73484,"./ga":76957,"./ga.js":76957,"./gd":72978,"./gd.js":72978,"./gl":89866,"./gl.js":89866,"./gom-deva":65011,"./gom-deva.js":65011,"./gom-latn":84724,"./gom-latn.js":84724,"./gu":71601,"./gu.js":71601,"./he":79802,"./he.js":79802,"./hi":9358,"./hi.js":9358,"./hr":13907,"./hr.js":13907,"./hu":10218,"./hu.js":10218,"./hy-am":20533,"./hy-am.js":20533,"./id":52844,"./id.js":52844,"./is":97353,"./is.js":97353,"./it":6364,"./it-ch":20774,"./it-ch.js":20774,"./it.js":6364,"./ja":6008,"./ja.js":6008,"./jv":68221,"./jv.js":68221,"./ka":92417,"./ka.js":92417,"./kk":42071,"./kk.js":42071,"./km":76149,"./km.js":76149,"./kn":94572,"./kn.js":94572,"./ko":60659,"./ko.js":60659,"./ku":66285,"./ku-kmr":59398,"./ku-kmr.js":59398,"./ku.js":66285,"./ky":81609,"./ky.js":81609,"./lb":119,"./lb.js":119,"./lo":81748,"./lo.js":81748,"./lt":71973,"./lt.js":71973,"./lv":81347,"./lv.js":81347,"./me":53023,"./me.js":53023,"./mi":65747,"./mi.js":65747,"./mk":64341,"./mk.js":64341,"./ml":63840,"./ml.js":63840,"./mn":62058,"./mn.js":62058,"./mr":19182,"./mr.js":19182,"./ms":45197,"./ms-my":89136,"./ms-my.js":89136,"./ms.js":45197,"./mt":36408,"./mt.js":36408,"./my":51683,"./my.js":51683,"./nb":53141,"./nb.js":53141,"./ne":29344,"./ne.js":29344,"./nl":44703,"./nl-be":84641,"./nl-be.js":84641,"./nl.js":44703,"./nn":79873,"./nn.js":79873,"./oc-lnc":61217,"./oc-lnc.js":61217,"./pa-in":24612,"./pa-in.js":24612,"./pl":24457,"./pl.js":24457,"./pt":1089,"./pt-br":79146,"./pt-br.js":79146,"./pt.js":1089,"./ro":45950,"./ro.js":45950,"./ru":27292,"./ru.js":27292,"./sd":56774,"./sd.js":56774,"./se":87493,"./se.js":87493,"./si":3761,"./si.js":3761,"./sk":49711,"./sk.js":49711,"./sl":88558,"./sl.js":88558,"./sq":8633,"./sq.js":8633,"./sr":90688,"./sr-cyrl":47903,"./sr-cyrl.js":47903,"./sr.js":90688,"./ss":31991,"./ss.js":31991,"./sv":27020,"./sv.js":27020,"./sw":15891,"./sw.js":15891,"./ta":45714,"./ta.js":45714,"./te":30206,"./te.js":30206,"./tet":24768,"./tet.js":24768,"./tg":28276,"./tg.js":28276,"./th":57977,"./th.js":57977,"./tk":56928,"./tk.js":56928,"./tl-ph":8046,"./tl-ph.js":8046,"./tlh":41361,"./tlh.js":41361,"./tr":64367,"./tr.js":64367,"./tzl":10627,"./tzl.js":10627,"./tzm":12636,"./tzm-latn":98148,"./tzm-latn.js":98148,"./tzm.js":12636,"./ug-cn":68823,"./ug-cn.js":68823,"./uk":40461,"./uk.js":40461,"./ur":41366,"./ur.js":41366,"./uz":83454,"./uz-latn":18374,"./uz-latn.js":18374,"./uz.js":83454,"./vi":78572,"./vi.js":78572,"./x-pseudo":80464,"./x-pseudo.js":80464,"./yo":93709,"./yo.js":93709,"./zh-cn":65873,"./zh-cn.js":65873,"./zh-hk":17549,"./zh-hk.js":17549,"./zh-mo":52240,"./zh-mo.js":52240,"./zh-tw":90405,"./zh-tw.js":90405};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=35358},43517:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56768),vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(90144),_tree_drawTree__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29127),ant_design_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17844),_store_table__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25719),d3__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24770),_tree_style__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8895);const _hoisted_1={class:"view",style:{flex:"4.5"}},_hoisted_2={class:"view-title"},_hoisted_3=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",null,"Pattern Panel",-1),_hoisted_4={style:{float:"right","margin-right":"20px"}},_hoisted_5={style:{"font-size":"15px"}},_hoisted_6=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",null,"Match + Extract by:",-1),_hoisted_7=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",null,"Reset View",-1),_hoisted_8={class:"view-content",style:{display:"flex"}},_hoisted_9={style:{flex:"1"}},_hoisted_10={style:{flex:"1","margin-left":"5px"}};__webpack_exports__.A=(0,vue__WEBPACK_IMPORTED_MODULE_1__.pM)({__name:"PatternVis",setup(__props){const tableStore=(0,_store_table__WEBPACK_IMPORTED_MODULE_3__.v)(),menuList=(0,vue__WEBPACK_IMPORTED_MODULE_1__.EW)((()=>tableStore.tree.menuList)),contextMenuVisible=(0,vue__WEBPACK_IMPORTED_MODULE_1__.EW)((()=>tableStore.tree.contextMenuVisible&&tableStore.tree.menuList.length>0)),contextMenuVisibleChange=e=>{tableStore.tree.contextMenuVisible=e,tableStore.tree.menuList=[]},closeContextMenu=e=>{const visNode=tableStore.spec.selectNode.data;let extract=null,extractColor="",triggerCellCursorFlag=!1,messageInfo="\n Press ESC to cancel the selection mode.";const maxCNum=tableStore.findMaxCNumber()+1;switch(e.key){case"0":messageInfo="Please reselect the template's area in the input table."+messageInfo,triggerCellCursorFlag=!0;break;case"1":messageInfo="Please select the constrained cell in the input table."+messageInfo,triggerCellCursorFlag=!0;break;case"2-0":extract={byPositionToTargetCols:Array.from({length:visNode.width*visNode.height},((e,t)=>`C${maxCNum+t}`))},extractColor="positionShallow";break;case"2-1":extract={byContext:{position:"above"}},extractColor="contextShallow";break;case"2-2":const createExtract=()=>eval(`currentAreaTbl => {\n                  // Please replace the default code with the necessary implementation to complete the function.\n                  return currentAreaTbl.flat().map((cell, i) => 'C' + (${maxCNum} + i))\n                  }`);extract={byValue:createExtract()},extractColor="valueShallow";break;case"2-3":tableStore.insertNodeOrPropertyIntoSpecs(void 0,"extract");break;case"3":messageInfo="Please select an area in the input table."+messageInfo,triggerCellCursorFlag=!0;break;case"4":tableStore.deleteChildByPath(tableStore.spec.rawSpecs,visNode.path),tableStore.stringifySpec();break;case"5":tableStore.deleteChildByPath(tableStore.spec.rawSpecs,visNode.path,tableStore.spec.selectConstrIndex),tableStore.stringifySpec()}if(null!==extract&&(tableStore.insertNodeOrPropertyIntoSpecs(extract,"extract"),tableStore.editor.mappingSpec.highlightCode=[...tableStore.getHighlightCodeStartEndLine(extract,tableStore.getNodebyPath(tableStore.spec.rawSpecs,visNode.path)),extractColor]),triggerCellCursorFlag){ant_design_vue__WEBPACK_IMPORTED_MODULE_6__.Ay.info(messageInfo),tableStore.spec.selectAreaFromNode=e.key,document.body.style.cursor="cell",document.documentElement.style.setProperty("--custom-cursor","cell");const t=tableStore.generateHighlightCells(tableStore.spec.selectionsAreaFromLegend,tableStore.spec.selectAreaFromLegend);tableStore.highlightTblCells("input_tbl",t)}tableStore.tree.contextMenuVisible=!1},treeContainer=(0,vue__WEBPACK_IMPORTED_MODULE_7__.KR)(null);function drawTree2(){drawTree(tableStore.spec.visTree),drawTblTemplate()}const drawTree=e=>{const t=new _tree_drawTree__WEBPACK_IMPORTED_MODULE_2__.L([2,1],".tree-container",e,tableStore,1,"h");t.render(),tableStore.tree.visInst=t},typeMap={null:"No Extration",position:"Position Based",context:"Context Based",value:"Value Based"},selectMatchExtractArea=e=>{d3__WEBPACK_IMPORTED_MODULE_4__.Ubm(".legend").classed("legend-selection",!1),d3__WEBPACK_IMPORTED_MODULE_4__.Ltv(`.legend.legend-${e}`).classed("legend-selection",!0);const t=tableStore.spec.selectionsAreaFromLegend,a=tableStore.spec.selectAreaFromLegend,r=tableStore.generateHighlightCells(t,a);tableStore.highlightTblCells("input_tbl",r),a.length>t.length?a[a.length-1]=e:a.push(e),document.body.style.cursor="cell",document.documentElement.style.setProperty("--custom-cursor","cell"),ant_design_vue__WEBPACK_IMPORTED_MODULE_6__.Ay.info("Now is in "+typeMap[e]+" mode. Please select the starting area in the input table.\n Press ESC to cancel the selection mode.")},tblContainer=(0,vue__WEBPACK_IMPORTED_MODULE_7__.KR)(null);let offsetX=0,offsetY=0,transformStatue,zoom=null;const drawTblTemplate=()=>{if(tblContainer.value){d3__WEBPACK_IMPORTED_MODULE_4__.Ltv(tblContainer.value).selectAll("svg").remove();try{const e=tableStore.spec.visTree.children;if(void 0===e||0===e.length||0===e[0].width||0===e[0].height)return;const t=tblContainer.value.clientWidth,a=tblContainer.value.clientHeight;let r=Math.max(5,Math.min(90,Math.floor(t/e[0].width))),n=Math.max(5,Math.min(30,Math.floor(a/e[0].height)));zoom=d3__WEBPACK_IMPORTED_MODULE_4__.s_O().on("zoom",(function(e){d3__WEBPACK_IMPORTED_MODULE_4__.Ltv("g.tbl-template").attr("transform",`translate(${offsetX+e.transform.x}, ${offsetY+e.transform.y}) scale(${e.transform.k})`),c(e.transform.k)}));const i=d3__WEBPACK_IMPORTED_MODULE_4__.Ltv(tblContainer.value).append("svg").attr("width",t).attr("height",a).call(zoom),s=i.append("g").classed("tbl-template",!0);let o=null;const l=tableStore.computeTblPatternGrid();s.selectAll("rect").data(l).enter().append("rect").classed("tbl-template-cell",!0).attr("x",(e=>e.col*r)).attr("y",(e=>e.row*n)).attr("width",r).attr("height",n).attr("fill",(e=>e.bgColor?_tree_style__WEBPACK_IMPORTED_MODULE_5__.Ur[e.bgColor]:_tree_style__WEBPACK_IMPORTED_MODULE_5__.Ur.cellFill)).attr("stroke","#cccccc").on("mouseover",(function(){d3__WEBPACK_IMPORTED_MODULE_4__.Ltv(this).raise().attr("stroke-width",2),o&&o.raise()})).on("mouseout",(function(){d3__WEBPACK_IMPORTED_MODULE_4__.Ltv(this).attr("stroke-width",1)})).on("click",(function(t,a){const r=a.row+e[0].y,n=a.col+e[0].x;d3__WEBPACK_IMPORTED_MODULE_4__.Ltv(`#grid-${r}-${n}`).dispatch("click"),tableStore.highlightNodes([[r,n,r,n]]),tableStore.input_tbl.instance.deselectCell(),tableStore.output_tbl.instance.deselectCell()})).append("title").text((e=>e.text&&e.text.length?e.bgColor===_tree_style__WEBPACK_IMPORTED_MODULE_5__.Ur.position||e.bgColor===_tree_style__WEBPACK_IMPORTED_MODULE_5__.Ur.positionShallow?"The cell's Target Column is:\n"+e.text.toString():"The cell's Target Column may be:\n"+e.text.toString():"No Target Column"));offsetX=Math.max((t-s.node().getBBox().width)/2,0),offsetY=Math.max((a-s.node().getBBox().height)/2,0),s.attr("transform",`translate(${offsetX}, ${offsetY})`),transformStatue=d3__WEBPACK_IMPORTED_MODULE_4__.GSI;const c=e=>{const t=r*e,a=n*e;t>=90||a>=30?o?o.style("display","block"):o=s.selectAll("text").data(l).enter().append("text").classed("tbl-template-text",!0).attr("x",(e=>e.col*r+r/2)).attr("y",(e=>e.row*n+n/2)).attr("dy",".30em").attr("font-size",15/e).attr("fill",(e=>e.textColor?_tree_style__WEBPACK_IMPORTED_MODULE_5__.Ur[e.textColor]:_tree_style__WEBPACK_IMPORTED_MODULE_5__.Ur.cellFill)).attr("text-anchor","middle").text((e=>e.text?e.text[0]:"")).each((function(e){const t=d3__WEBPACK_IMPORTED_MODULE_4__.Ltv(this);let a=t.text(),n=this.getComputedTextLength();while(n>r&&a.length>0)a=a.slice(0,-1),t.text(a+"…"),n=this.getComputedTextLength()})).style("display","block").style("pointer-events","none"):o&&o.style("display","none")};c(1),tableStore.tree.tblVisHighlight=s.append("g").classed("tbl-template-highlight",!0),tableStore.tree.tblVisInfo={x:e[0].x,y:e[0].y,width:r,height:n}}catch(e){console.error(e)}}};return(0,vue__WEBPACK_IMPORTED_MODULE_1__.wB)((()=>tableStore.editor.mappingSpec.code),(e=>{tableStore.editor.mappingSpec.instance?.setValue(e);const t=tableStore.prepareDataAfterCodeChange();t&&(tableStore.transformTablebyCode(),drawTree(tableStore.spec.visTree),drawTblTemplate())})),(0,vue__WEBPACK_IMPORTED_MODULE_1__.sV)((()=>{treeContainer.value})),(e,t)=>{const a=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-button"),r=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-button-group"),n=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("v-icon"),i=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-menu"),s=(0,vue__WEBPACK_IMPORTED_MODULE_1__.g2)("a-dropdown");return(0,vue__WEBPACK_IMPORTED_MODULE_1__.uX)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.CE)("div",_hoisted_1,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",_hoisted_2,[_hoisted_3,(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",_hoisted_4,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("span",_hoisted_5,[_hoisted_6,(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(r,{style:{margin:"0 20px 0 8px"}},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(a,{class:"legend legend-null",size:"small",onClick:t[0]||(t[0]=e=>selectMatchExtractArea("null")),title:"Click to select a starting area in the input table for matching without extraction. Press 'Esc' to cancel the selection mode."},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.eW)("No Extration")])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(a,{class:"legend legend-position",size:"small",onClick:t[1]||(t[1]=e=>selectMatchExtractArea("position")),title:"Click to select a starting area in the input table for matching and extracting by position. Press 'Esc' to cancel the selection mode."},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.eW)("Position")])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(a,{class:"legend legend-context",size:"small",onClick:t[2]||(t[2]=e=>selectMatchExtractArea("context")),title:"Click to select a starting area in the input table for matching and extracting by context. Press 'Esc' to cancel the selection mode."},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.eW)("Context")])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(a,{class:"legend legend-value",size:"small",onClick:t[3]||(t[3]=e=>selectMatchExtractArea("value")),title:"Click to select a starting area in the input table for matching and extracting by value. Press 'Esc' to cancel the selection mode."},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.eW)("Value")])),_:1})])),_:1})]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(a,{id:"draw_tree",size:"small",onClick:drawTree2},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(n,{name:"bi-arrow-clockwise",scale:"0.9"}),_hoisted_7])),_:1})])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",_hoisted_8,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",_hoisted_9,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",{class:"tbl-container",ref_key:"tblContainer",ref:tblContainer},null,512)]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",_hoisted_10,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(s,{trigger:["contextmenu"],open:contextMenuVisible.value,onOpenChange:contextMenuVisibleChange},{overlay:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.bF)(i,{onClick:closeContextMenu,items:menuList.value},null,8,["items"])])),default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.k6)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_1__.Lk)("div",{class:"tree-container",ref_key:"treeContainer",ref:treeContainer},null,512)])),_:1},8,["open"])])])])}}})},47930:function(e,t){"use strict";t.Tr=t.gX=t.Pu=t.YR=void 0;const a={String:"TableTidierKeyWords.String",Number:"TableTidierKeyWords.Number",None:"TableTidierKeyWords.None",NotNone:"TableTidierKeyWords.NotNone",Forward:"TableTidierKeyWords.Forward",Auto:"TableTidierKeyWords.Auto",pairSort:r};function r(e,t,a){let r=e.map(((e,t)=>({value:e,index:t})));r.sort(((e,t)=>"asc"===a?e.value<t.value?-1:e.value>t.value?1:0:e.value>t.value?-1:e.value<t.value?1:0));const n=new Array(t.length);return r.forEach(((e,a)=>n[e.index]=t[a])),n}t.YR=a;const n=1,i=1,s="current",o="topLeft",l=0,c=0,_=null,u=null,d="above",h=e=>e[0].value,p=a.String,A=!0,f=a.Auto;function m(e){return e?{referenceAreaLayer:e.referenceAreaLayer||s,referenceAreaPosi:e.referenceAreaPosi||o,xOffset:void 0===e.xOffset?l:e.xOffset,yOffset:void 0===e.yOffset?c:e.yOffset}:{referenceAreaLayer:s,referenceAreaPosi:o,xOffset:l,yOffset:c}}function g(e){const t=m(e);return Object.assign(Object.assign({},t),{valueCstr:void 0===e.valueCstr?p:e.valueCstr,ignoreOutOfBounds:void 0===e.ignoreOutOfBounds?A:e.ignoreOutOfBounds})}function b(e){return{position:e.position||d,toTargetCol:e.toTargetCol||h}}function v(e){var t,a,r,s,o,l,c,d,h,p,A,E;return{match:{startCell:m(null===(t=e.match)||void 0===t?void 0:t.startCell),size:{width:void 0===(null===(r=null===(a=e.match)||void 0===a?void 0:a.size)||void 0===r?void 0:r.width)?n:e.match.size.width,height:void 0===(null===(o=null===(s=e.match)||void 0===s?void 0:s.size)||void 0===o?void 0:o.height)?i:e.match.size.height},constraints:(null===(c=null===(l=e.match)||void 0===l?void 0:l.constraints)||void 0===c?void 0:c.map(g))||[],traverse:{xDirection:void 0===(null===(h=null===(d=e.match)||void 0===d?void 0:d.traverse)||void 0===h?void 0:h.xDirection)?_:e.match.traverse.xDirection,yDirection:void 0===(null===(A=null===(p=e.match)||void 0===p?void 0:p.traverse)||void 0===A?void 0:A.yDirection)?u:e.match.traverse.yDirection}},extract:e.extract?{byPositionToTargetCols:e.extract.byPositionToTargetCols||void 0,byContext:e.extract.byContext?b(e.extract.byContext):void 0,byValue:e.extract.byValue||void 0}:null,fill:void 0===e.fill?f:e.fill,children:(null===(E=e.children)||void 0===E?void 0:E.map(v))||[]}}t.gX=m,t.Tr=g,t.Pu=v},92838:function(e,t,a){"use strict";a.d(t,{LR:function(){return f},U6:function(){return l},lK:function(){return i}});a(44114);var r=a(47930),n=a(99160);function i(e){const t=new WeakSet;return JSON.stringify(e,(function(e,a){if("object"===typeof a&&null!==a){if(t.has(a))return`[Circular reference: ${e}]`;t.add(a)}return a}),2)}const s=(e,t)=>"function"===typeof t.valueCstr?t.valueCstr(e):t.valueCstr===r.YR.String?"string"===typeof e&&""!==e&&isNaN(Number(e)):t.valueCstr===r.YR.Number?"number"===typeof e||"string"===typeof e&&""!==e&&!isNaN(Number(e)):t.valueCstr===r.YR.None?null===e||""===e||void 0===e:t.valueCstr===r.YR.NotNone?null!==e&&""!==e&&void 0!==e:e===t.valueCstr,o=(e,t,a)=>"number"===typeof e?e:e(t,a),l=(e,t,a,r=!1)=>{let i=t;if("current"===e.referenceAreaLayer)i=t;else if("root"===e.referenceAreaLayer)i=a;else if("parent"===e.referenceAreaLayer)i=t.parent;else{const a=t.areaLayer-e.referenceAreaLayer(t);for(let e=0;e<a;e++)i=i.parent}let s={x:i.x+o(e.xOffset,t,a),y:i.y+o(e.yOffset,t,a)};if("bottomLeft"===e.referenceAreaPosi?s.y+=i.height-1:"topRight"===e.referenceAreaPosi?s.x+=i.width-1:"bottomRight"===e.referenceAreaPosi&&(s.x+=i.width-1,s.y+=i.height-1),s.x<0||s.y<0||s.x>=a.width||s.y>=a.height){const e=`Invalid cell selection:\n Table size is (width: ${a.width}, height: ${a.height}), Position (${s.x}, ${s.y}) is out of bounds.`;if(r)return null;throw new n.e(e,"OutOfBoundsError")}return{...s,value:a.areaTbl[s.y][s.x]}},c=(e,t,a,r)=>"number"===typeof e?e:"toParentX"===e?r.width-t:"toParentY"===e?r.height-a:1,_=(e,t,a,r,n)=>{const i=[];for(let s=a;s<a+n;s++){const a=e[s].slice(t,t+r);i.push(a)}return i},u=(e,t)=>{if(null===t)return;const a=Math.max(...Object.values(e).map((e=>e.length)));for(const n in e){const i=e[n],s=t===r.YR.Forward?i[i.length-1]:{x:-1,y:-1,value:t};while(i.length<a)i.push(s)}},d=(e,t,a,r,n,i,s,o,l,c,_,u)=>{let d=t,p=t+i-1,A=a,f=a+s-1,m=null;while(f<=n){const a=f-A+1;while(p<=r){const t=p-d+1;if(m=h(e,d,A,t,a,o,l,c,_,u),null===m)null!=e.match.size.width?(d+=1,p+=1):p===r?(d+=1,p=d):p+=1;else{if(o.instanceIndex+=1,null===e.match.traverse.xDirection)break;o.xIndex+=1,d+=t,p=d+i-1}}if(o.xIndex=0,null===m)null!=e.match.size.height?(A+=1,f+=1):f===n?(A+=1,f=A):f+=1;else{if(null===e.match.traverse.yDirection)break;o.yIndex+=1,A+=a,f=A+s-1}d=t,p=t+i-1}},h=(e,t,a,r,n,i,o,c,u,d)=>{let h=o.x+t,A=o.y+a;if("current"!==e.match.startCell.referenceAreaLayer){const t=l(e.match.startCell,o,c);if(null===t)return null;h=t.x,A=t.y}const f={parent:o,areaLayer:o.areaLayer+1,templateRef:i.templateRef.slice(),instanceIndex:i.instanceIndex,xIndex:i.xIndex,yIndex:i.yIndex,xOffset:t,yOffset:a,x:h,y:A,width:r,height:n,isDefinedFromSpec:h===d.x&&A===d.y,areaTbl:_(c.areaTbl,h,A,r,n),children:[]};for(let _ of e.match.constraints)try{const e=l(_,f,c);if(null===e)return null;if(!s(e.value,_))return null}catch(m){if(_.ignoreOutOfBounds)continue;return null}return o.children.push(f),p(e,f,c,u),f},p=(e,t,a,i)=>{const s=t.areaTbl.flat();if(e.extract){let o;if(void 0!==e.extract.byPositionToTargetCols)o=e.extract.byPositionToTargetCols;else if(void 0!==e.extract.byContext){const n=e.extract.byContext,i=[],s=[],c=[];if("above"===n.position)t.areaTbl.forEach(((e,t)=>{e.forEach(((e,a)=>{c.push([(0,r.gX)({xOffset:a,yOffset:t-1})])}))}));else if("below"===n.position)t.areaTbl.forEach(((e,t)=>{e.forEach(((e,a)=>{c.push([(0,r.gX)({xOffset:a,yOffset:t+1})])}))}));else if("left"===n.position)t.areaTbl.forEach(((e,t)=>{e.forEach(((e,a)=>{c.push([(0,r.gX)({xOffset:a-1,yOffset:t})])}))}));else if("right"===n.position)t.areaTbl.forEach(((e,t)=>{e.forEach(((e,a)=>{c.push([(0,r.gX)({xOffset:a+1,yOffset:t})])}))}));else{const e=n.position;t.areaTbl.forEach(((n,i)=>{n.forEach(((n,s)=>{const o=e({xOffset:s,yOffset:i,value:n},t,a),l=o.map((e=>(0,r.gX)(e)));c.push(l)}))}))}c.length>0&&c[0].length>0?c.forEach((e=>{const r=[];e.forEach((e=>{const n=l(e,t,a);if(null===n)return null;r.push(n)})),s.push(r)})):console.log("No context cells found");const _=n.toTargetCol;s.forEach((e=>{i.push(_(e))})),o=i}else{if(void 0===e.extract.byValue)throw new n.e("Please specify 'byPositionToTargetCols', 'byContext', or 'byValue' for extraction","NoExtractionSpecified");o=e.extract.byValue(t.areaTbl)}o.forEach(((e,a)=>{if(null!==e&&void 0!==e&&""!==e){const r={x:t.x+a%t.width,y:t.y+Math.floor(a/t.width),value:s[a]};i.hasOwnProperty(e)?i[e].push(r):i[e]=[r]}}))}},A=(e,t,a,n,i=0)=>{const s={templateRef:[...t.templateRef,i],instanceIndex:0,xIndex:0,yIndex:0},o=e.match.traverse.xDirection,_=e.match.traverse.yDirection,h=l(e.match.startCell,t,a);if(null===h)return null;const p=h.x-t.x,f=h.y-t.y,m=c(e.match.size.width,p,f,t),g=c(e.match.size.height,p,f,t);let b,v,E,y;null===o?(b=p,E=null===e.match.size.width?t.width-1:b+m-1):"before"===o?(b=0,E=p):"after"===o?(b=p,E=t.width-1):(b=0,E=t.width-1),null===_?(v=f,y=null===e.match.size.height?t.height-1:v+g-1):"before"===_?(v=0,y=f):"after"===_?(v=f,y=t.height-1):(v=0,y=t.height-1),d(e,b,v,E,y,m,g,s,t,a,n,h);const O=t.children.filter((e=>e.templateRef.toString()===s.templateRef.toString()));e.children.length>0&&O.length>0&&O.forEach((t=>{e.children.forEach(((e,r)=>{A(e,t,a,n,r)})),e.fill===r.YR.Auto?s.templateRef.length>1?u(n,null):u(n,""):u(n,e.fill)}))};function f(e,t){const a={parent:null,areaLayer:0,templateRef:[],instanceIndex:0,xIndex:0,yIndex:0,xOffset:0,yOffset:0,x:0,y:0,width:e.length>0?e[0].length:0,height:e.length,isDefinedFromSpec:!1,areaTbl:e,children:[]},n={};return t.forEach(((e,t)=>{const i=(0,r.Pu)(e);A(i,a,a,n,t)})),{rootArea:a,tidyData:n}}},43235:function(e,t,a){"use strict";var r=a(45130),n=a(56768);const i={class:"wrapper"},s=(0,n.Fv)('<div class="filing-container" style="display:none;"><span class="item" id="busuanzi_container_site_pv"> 本站总访问量<span id="busuanzi_value_site_pv"></span>次 </span><span class="item" id="busuanzi_container_site_uv"> 本站访客数<span id="busuanzi_value_site_uv"></span>人 </span><span class="item" id="busuanzi_container_page_pv"> 本文总阅读量<span id="busuanzi_value_page_pv"></span>次 </span></div>',1);function o(e,t,a,r,o,l){const c=(0,n.g2)("panel-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",i,[(0,n.bF)(c)]),s],64)}a(44114);var l=a(90144),c=(a(14603),a(47566),a(98721),a(30328)),_=(a(19830),a(48355)),u=a(8153),d=a(25719),h=a(93230),p=a(17844);const A={class:"view"},f={class:"view-title"},m=(0,n.Lk)("span",{class:"head-text"},"Input Table",-1),g={style:{float:"right","margin-right":"20px"}},b={class:"controller"},v=(0,n.Lk)("span",null,"Upload",-1),E={class:"view-content"},y={id:"input-tbl"},O={class:"view"},C={class:"view-title"},P=(0,n.Lk)("span",null,"Output Table",-1),M={style:{float:"right","margin-right":"20px"}},D=(0,n.Lk)("span",null,"Download",-1),x={class:"view-content"},w={id:"output-tbl"};var k=(0,n.pM)({__name:"InOutTable",setup(e){(0,_.um)();const t=(0,d.v)(),a=(0,l.KR)(t.output_tbl.cols),r=(0,l.KR)(t.output_tbl.tbl),i=(0,l.KR)(t.input_tbl.tbl);let s,o;function k(e,t,a,r,n,i,s){u.Ay.renderers.TextRenderer.apply(this,arguments),t.innerHTML=`<div class="truncated">${i}</div>`}const T=(0,l.KR)([]);let L=[];const R=e=>{try{const t=new FileReader;t.onload=t=>{const a=t.target?.result,r=h.LF(a,{type:"array"}),n=r.SheetNames[0],i=r.Sheets[n],s=h.Wp.sheet_to_json(i,{header:1}),o=Math.max(...s.map((e=>e.length)));L=s.map((e=>{while(e.length<o)e.push(void 0);return e})),B(),e.onSuccess("ok")},t.readAsArrayBuffer(e.file)}catch(t){p.Ay.error(`${e.file.name} file uploaded failed.\n${t}`)}};let S="";const I=()=>{t.initTblInfo(),t.transformTblUpdateRootArea(),t.currentCase=S||t.caseList[0],S="",t.caseList.pop()},B=()=>{t.initTblInfo(),t.input_tbl.tbl=L,t.input_tbl.instance.updateData(L),t.input_tbl.instance.render(),t.transformTblUpdateRootArea(),t.currentCase.startsWith("Custom")||(S=t.currentCase),t.caseList.includes("Custom File")||t.caseList.push("Custom File"),t.currentCase="Custom File"};function W(e){return e.map((e=>e.map((e=>`${void 0===e?"":e}`)).join(","))).join("\n")}(0,n.wB)((()=>t.currentCase),(e=>{e.startsWith("Custom")?B():t.loadCaseData(e)}));const U=()=>{if(0===t.output_tbl.cols.length)return void p.Ay.warning("The output table is empty.");const e=W([t.output_tbl.cols,...t.output_tbl.tbl]),a=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download="tidy table.csv",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),p.Ay.success("The output table has been downloaded successfully.")};function j(e){return e.map((([e,t,a,r])=>{e<0&&(e=0),t<0&&(t=0),a<0&&(a=0),r<0&&(r=0);const n=Math.min(e,a),i=Math.max(e,a),s=Math.min(t,r),o=Math.max(t,r);return[n,s,i,o]}))}function K(e){let a,r;const n="input_tbl"===e?"output_tbl":"input_tbl";"input_tbl"===e?(a=s,r=o):(a=o,r=s),a.updateSettings({outsideClickDeselects:n=>{const i=n?.className;return"string"!==typeof i?(r.updateSettings({cell:[]}),!0):(a===o&&["relative","rowHeader","current","truncated"].some((e=>i.split(" ").includes(e)))?"cell"!==document.body.style.cursor&&r.updateSettings({cell:[]}):(t.clearStatus("matchArea"),r.updateSettings({cell:[]})),t.highlightMinimapCells([]),t.clearStatus("tree"),"input_tbl"===e&&(i.startsWith("mtk")||"view-line"===i||t.editor.mappingSpec.decorations?.clear()),!0)}}),a.addHook("afterOnCellMouseDown",(()=>{r.updateSettings({cell:[]})})),a.addHook("afterOnCellMouseUp",((r,i,o)=>{if(t.specMode)return;const l=j(a.getSelected()||[]),{selectedCoords:c,hightedCells:_}=t.getHightlightedCells(l),u=t.in_out_mapping(c,e);if(t.highlightTblCells(n,u),"input_tbl"===e){if(t.highlightMinimapCells(_),"cell"===document.body.style.cursor)if(t.spec.selectAreaFromNode){const e=t.spec.selectAreaFromNode,a="0"===e?t.spec.selectNode.parent.data:t.spec.selectNode.data,r=a.x,n=a.y,i=a.width,o=a.height,[c,_,u,d]=l[0],h=_-r,p=c-n;let A={};switch(e){case"0":case"3":const r=d-_+1,n=u-c+1,l={xDirection:i>=2*r?"after":void 0,yDirection:o>=2*n?"after":void 0};if(A={startCell:{xOffset:h,yOffset:p},size:{width:r,height:n},traverse:l},"0"===e){t.insertNodeOrPropertyIntoSpecs(A,"match");const e=t.getNodebyPath(t.spec.rawSpecs,t.spec.selectNode.data.path);t.editor.mappingSpec.highlightCode=[...t.getHighlightCodeStartEndLine(e.match,e),`${t.spec.selectNode.data.type}Shallow`]}else t.insertNodeOrPropertyIntoSpecs(A,"children"),t.editor.mappingSpec.highlightCode=[...t.getHighlightCodeStartEndLine({match:A}),"nullShallow"];break;case"1":const f=s.getDataAtCell(c,_);A={constraints:[{xOffset:h,yOffset:p,valueCstr:t.getCellDataType(f)}]};const m=A.constraints[0];t.insertNodeOrPropertyIntoSpecs(m,"constraints"),t.editor.mappingSpec.highlightCode=[...t.getHighlightCodeStartEndLine(m,t.getNodebyPath(t.spec.rawSpecs,a.path)),`${a.type}Shallow`];break}t.spec.selectAreaFromNode="",t.clearStatus("matchArea")}else if(t.spec.selectAreaFromLegend.length){s.updateSettings({cell:[]});const a=t.spec.selectAreaFromLegend;t.spec.selectionsAreaFromLegend.push(l[0]),t.spec.selectionsPath.push([]),a.length<t.spec.selectionsAreaFromLegend.length&&a.push(a[a.length-1]);const r=t.generateHighlightCells(t.spec.selectionsAreaFromLegend,a);t.highlightTblCells(e,r);const{specs:n,newSpec:i}=t.buildTree(t.spec.selectionsAreaFromLegend,a,t.spec.selectionsPath);t.stringifySpec(n),t.editor.mappingSpec.highlightCode=[...t.getHighlightCodeStartEndLine(i,null,n),`${a[a.length-1]}Shallow`]}t.highlightNodes(l)}else t.highlightMinimapCells(u)}))}return(0,n.sV)((()=>{const e=(0,n.nI)()?.proxy;s=e.$refs.inputTbl.hotInstance,o=e.$refs.outputTbl.hotInstance,t.input_tbl.instance=s,t.output_tbl.instance=o,K("input_tbl"),K("output_tbl")})),(e,t)=>{const s=(0,n.g2)("v-icon"),o=(0,n.g2)("a-button"),_=(0,n.g2)("a-upload");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",A,[(0,n.Lk)("div",f,[m,(0,n.Lk)("span",g,[(0,n.Lk)("span",b,[(0,n.bF)(_,{"file-list":T.value,"onUpdate:fileList":t[0]||(t[0]=e=>T.value=e),"max-count":1,accept:".csv, .txt, .xls, .xlsx",customRequest:R,onRemove:I,onPreview:B,showUploadList:{showRemoveIcon:!0}},{default:(0,n.k6)((()=>[(0,n.bF)(o,{size:"small"},{default:(0,n.k6)((()=>[(0,n.bF)(s,{name:"bi-upload",scale:"0.85"}),v])),_:1})])),_:1},8,["file-list"])])])]),(0,n.Lk)("div",E,[(0,n.Lk)("div",y,[(0,n.bF)((0,l.R1)(c.sH),{ref:"inputTbl",data:i.value,rowHeaders:!0,colHeaders:!0,manualColumnResize:!0,autoWrapRow:!0,autoWrapCol:!0,contextMenu:!0,renderer:k,licenseKey:"non-commercial-and-evaluation"},null,8,["data"])])])]),(0,n.Lk)("div",O,[(0,n.Lk)("div",C,[P,(0,n.Lk)("span",M,[(0,n.bF)(o,{size:"small",onClick:U},{default:(0,n.k6)((()=>[(0,n.bF)(s,{name:"bi-download",scale:"0.85"}),D])),_:1})])]),(0,n.Lk)("div",x,[(0,n.Lk)("div",w,[(0,n.bF)((0,l.R1)(c.sH),{ref:"outputTbl",data:r.value,rowHeaders:!0,colHeaders:a.value,manualColumnResize:!0,renderer:k,contextMenu:!0,autoWrapRow:!0,autoWrapCol:!0,licenseKey:"non-commercial-and-evaluation"},null,8,["data","colHeaders"])])])])],64)}}});const T=k;var L=T,R=a(42336),S=(0,n.pM)({__name:"CodeView",props:{codeType:{}},setup(e){const{codeType:t}=e,a=(0,d.v)(),r={value:"",language:a.editor[t].language,theme:"vs",fontSize:14,glyphMargin:!1,automaticLayout:!1,autoIndent:"advanced",readOnly:!1,minimap:{enabled:"rootArea"===t},lineNumbersMinChars:1,scrollBeyondLastLine:!1,padding:{bottom:80}},i=(0,l.KR)(null);let s=null;const o=/\s+/g,c=(e,t)=>e.replace(o,"")===t.replace(o,""),_=()=>{s&&s.dispose();const e={...r,value:a.editor[t].code};s=R.EN.create(i.value,e),s.onDidBlurEditorText((()=>{if("mappingSpec"===t&&(a.checkGrammarError(),null!==a.editor.mappingSpec.errorMark))return;const e=s.getValue();c(a.editor[t].code,e)||("mappingSpec"===t&&(a.spec.undoHistory.push(a.editor.mappingSpec.code),a.spec.redoHistory=[]),a.editor[t].code=e)})),"mappingSpec"===t&&s.onDidChangeModelContent((()=>{a.editor.mappingSpec.decorations?.clear()}))};if((0,n.wB)((()=>a.editor.rootArea.code),(e=>{a.editor.rootArea.instance?.setValue(e)})),"mappingSpec"===t){const e="ts:grammar.ts",t=R.EN.getModels().find((t=>t.uri.toString()===e));t||fetch("./grammar.ts").then((t=>{t.text().then((t=>{R.eo.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!1}),R.eo.typescript.javascriptDefaults.setCompilerOptions({target:R.eo.typescript.ScriptTarget.ES2015,allowNonTsExtensions:!0}),R.eo.typescript.javascriptDefaults.addExtraLib(t,e),R.EN.createModel(t,"typescript",R.zn.parse(e))}))}))}return(0,n.sV)((()=>{_(),s&&(a.editor[t].instance=s,"mappingSpec"===t&&(a.editor.mappingSpec.decorations=s.createDecorationsCollection([])))})),(0,n.hi)((()=>{s&&s.dispose()})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{ref_key:"editorWrapper",ref:i,class:"editor-container"},null,512))}});const I=S;var B=I,W=a(24770);const U={class:"view"},j={class:"view-title"},K=(0,n.Lk)("span",null,"Minimap",-1),J=(0,n.Lk)("span",null,"Reset View",-1),F={class:"view-content"};var N=(0,n.pM)({__name:"Minimap",setup(e){const t=(0,d.v)(),a=(0,l.KR)(null);let r,i=0,s=0,o=null;function c(){o&&a.value&&W.Ltv(a.value).select("svg").transition().duration(750).call(o.transform,W.GSI)}const _=(e,n)=>{if(!a.value)return;W.Ltv(a.value).selectAll("svg").remove();const l=a.value.clientWidth,c=a.value.clientHeight;let _=Math.max(5,Math.min(45,Math.floor(l/n))),u=Math.max(5,Math.min(20,Math.floor(c/e)));_=u=Math.min(_,u),o=W.s_O().on("zoom",(function(e){W.Ltv("g.matrix").attr("transform",`translate(${i+e.transform.x}, ${s+e.transform.y}) scale(${e.transform.k})`)}));const d=W.Ltv(a.value).append("svg").attr("width",l).attr("height",c).call(o),h=d.append("g").classed("matrix",!0),p=t.generateGrid(e,n);h.selectAll("rect").data(p).enter().append("rect").classed("grid-cell",!0).attr("x",(e=>e.col*_)).attr("y",(e=>e.row*u)).attr("id",(e=>`grid-${e.row}-${e.col}`)).attr("width",_).attr("height",u).on("click",(function(e,a){W.Ubm("rect.grid-cell").attr("class","grid-cell"),W.Ltv(this).raise().classed("selection",!0),t.grid_cell_click({row:a.row,col:a.col}),t.input_tbl.instance.deselectCell(),t.output_tbl.instance.deselectCell()})).append("title").text((e=>`Position: (${e.row}, ${e.col})`));i=Math.max((l-h.node().getBBox().width)/2,0),s=Math.max((c-h.node().getBBox().height)/2,0),h.attr("transform",`translate(${i}, ${s})`),r=W.GSI};return(0,n.sV)((()=>{a.value})),(0,n.wB)((()=>t.input_tbl.tbl),(e=>{0===e.length?W.Ltv(a.value).selectAll("svg").remove():_(e.length,e[0].length)})),(e,t)=>{const r=(0,n.g2)("v-icon"),i=(0,n.g2)("a-button");return(0,n.uX)(),(0,n.CE)("div",U,[(0,n.Lk)("div",j,[K,(0,n.bF)(i,{size:"small",style:{float:"right","margin-right":"5px"},onClick:c},{default:(0,n.k6)((()=>[(0,n.bF)(r,{name:"bi-arrow-clockwise",scale:"0.9"}),J])),_:1})]),(0,n.Lk)("div",F,[(0,n.Lk)("div",{ref_key:"container",ref:a,class:"grid-container"},null,512)])])}}});const z=N;var $=z,H=a(43517);const q=H.A;var Q=q,V=a(24232),Y=a(77398);const X=(0,n.Lk)("span",null,"x (col):",-1),G=(0,n.Lk)("span",null,"y (row):",-1),Z=(0,n.Lk)("span",null,"width:",-1),ee=(0,n.Lk)("span",null,"height:",-1);var te=(0,n.pM)({__name:"DraggableModal",setup(e){const t=(0,d.v)(),a=t.spec.areaConfig,r=(0,l.KR)(t.spec.areaFormData);t.spec.areaFormData=r.value;const i=e=>{h(),t.selectArea()},s=(0,n.EW)((()=>t.spec.dragConfigOpen)),o=(0,l.KR)(),{x:c,y:_,isDragging:u}=(0,Y.PMY)(o),h=()=>{t.spec.dragConfigOpen=!1,t.spec.selectAreaFromNode=""},p=(0,l.KR)(0),A=(0,l.KR)(0),f=(0,l.KR)(!1),m=(0,l.KR)(0),g=(0,l.KR)(0),b=(0,l.KR)(0),v=(0,l.KR)(0),E=(0,l.KR)({left:0,right:0,top:0,bottom:0});(0,n.wB)([c,_],(()=>{if(!f.value){p.value=c.value,A.value=_.value;const e=document.body.getBoundingClientRect(),t=o.value.getBoundingClientRect();E.value.right=e.width-t.width,E.value.bottom=e.height-t.height,b.value=m.value,v.value=g.value}f.value=!0})),(0,n.wB)(u,(()=>{u||(f.value=!1)})),(0,n.nT)((()=>{f.value&&(m.value=b.value+Math.min(Math.max(E.value.left,c.value),E.value.right)-p.value,g.value=v.value+Math.min(Math.max(E.value.top,_.value),E.value.bottom)-A.value)}));const y=(0,n.EW)((()=>({transform:`translate(${m.value}px, ${g.value}px)`})));return(e,t)=>{const c=(0,n.g2)("a-divider"),_=(0,n.g2)("a-col"),u=(0,n.g2)("a-radio-button"),d=(0,n.g2)("a-radio-group"),p=(0,n.g2)("a-row"),A=(0,n.g2)("a-modal");return(0,n.uX)(),(0,n.Wv)(A,{ref:"modalRef",open:s.value,"onUpdate:open":t[8]||(t[8]=e=>s.value=e),"wrap-style":{overflow:"hidden"},onCancel:h,onOk:i,okText:"Confirm",width:"600px"},{title:(0,n.k6)((()=>[(0,n.Lk)("div",{ref_key:"modalTitleRef",ref:o,style:{width:"100%",cursor:"move"}},"Template Area",512)])),modalRender:(0,n.k6)((({originVNode:e})=>[(0,n.Lk)("div",{style:(0,V.Tr)(y.value)},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e)))],4)])),default:(0,n.k6)((()=>[(0,n.Lk)("div",null,[(0,n.Lk)("div",null,[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.eW)("startCell")])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,{flex:"100px"},{default:(0,n.k6)((()=>[(0,n.eW)("referenceAreaLayer")])),_:1}),(0,n.bF)(_,{flex:"auto"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{value:r.value.referenceAreaLayer,"onUpdate:value":t[0]||(t[0]=e=>r.value.referenceAreaLayer=e)},{default:(0,n.k6)((()=>[(0,n.bF)(u,{value:"current"},{default:(0,n.k6)((()=>[(0,n.eW)("current")])),_:1}),(0,n.bF)(u,{value:"parent"},{default:(0,n.k6)((()=>[(0,n.eW)("parent")])),_:1}),(0,n.bF)(u,{value:"root"},{default:(0,n.k6)((()=>[(0,n.eW)("root")])),_:1}),(0,n.bF)(u,{value:"areaLayerFn",title:"areaLayerFn"},{default:(0,n.k6)((()=>[(0,n.eW)("Custom Func")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,{flex:"100px"},{default:(0,n.k6)((()=>[(0,n.eW)("referenceAreaPosition")])),_:1}),(0,n.bF)(_,{flex:"auto"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{value:r.value.referenceAreaPosi,"onUpdate:value":t[1]||(t[1]=e=>r.value.referenceAreaPosi=e)},{default:(0,n.k6)((()=>[(0,n.bF)(u,{value:"topLeft"},{default:(0,n.k6)((()=>[(0,n.eW)("topLeft")])),_:1}),(0,n.bF)(u,{value:"topRight"},{default:(0,n.k6)((()=>[(0,n.eW)("topRight")])),_:1}),(0,n.bF)(u,{value:"bottomLeft"},{default:(0,n.k6)((()=>[(0,n.eW)("bottomLeft")])),_:1}),(0,n.bF)(u,{value:"bottomRight"},{default:(0,n.k6)((()=>[(0,n.eW)("bottomRight")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,{flex:"100px"},{default:(0,n.k6)((()=>[(0,n.eW)("Start Position")])),_:1}),(0,n.bF)(_,{flex:"auto"},{default:(0,n.k6)((()=>[X,(0,n.bF)(d,{value:r.value.position.x,"onUpdate:value":t[2]||(t[2]=e=>r.value.position.x=e)},{default:(0,n.k6)((()=>[(0,n.bF)(u,{value:(0,l.R1)(a).match.startCell.xOffset},{default:(0,n.k6)((()=>[(0,n.eW)((0,V.v_)((0,l.R1)(a).match.startCell.xOffset),1)])),_:1},8,["value"]),(0,n.bF)(u,{value:"offsetFn",title:"areaLayerFn"},{default:(0,n.k6)((()=>[(0,n.eW)("Custom Func")])),_:1})])),_:1},8,["value"]),G,(0,n.bF)(d,{value:r.value.position.y,"onUpdate:value":t[3]||(t[3]=e=>r.value.position.y=e)},{default:(0,n.k6)((()=>[(0,n.bF)(u,{value:(0,l.R1)(a).match.startCell.yOffset},{default:(0,n.k6)((()=>[(0,n.eW)((0,V.v_)((0,l.R1)(a).match.startCell.yOffset),1)])),_:1},8,["value"]),(0,n.bF)(u,{value:"offsetFn",title:"areaLayerFn"},{default:(0,n.k6)((()=>[(0,n.eW)("Custom Func")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})]),(0,n.Lk)("div",null,[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.eW)("size")])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,{flex:"5"},{default:(0,n.k6)((()=>[Z,(0,n.bF)(d,{value:r.value.size.width,"onUpdate:value":t[4]||(t[4]=e=>r.value.size.width=e)},{default:(0,n.k6)((()=>[(0,n.bF)(u,{value:(0,l.R1)(a).match.size.width},{default:(0,n.k6)((()=>[(0,n.eW)((0,V.v_)((0,l.R1)(a).match.size.width),1)])),_:1},8,["value"]),(0,n.bF)(u,{value:null,title:"Don't specify"},{default:(0,n.k6)((()=>[(0,n.eW)("null")])),_:1})])),_:1},8,["value"])])),_:1}),(0,n.bF)(_,{flex:"5"},{default:(0,n.k6)((()=>[ee,(0,n.bF)(d,{value:r.value.size.height,"onUpdate:value":t[5]||(t[5]=e=>r.value.size.height=e)},{default:(0,n.k6)((()=>[(0,n.bF)(u,{value:(0,l.R1)(a).match.size.height},{default:(0,n.k6)((()=>[(0,n.eW)((0,V.v_)((0,l.R1)(a).match.size.height),1)])),_:1},8,["value"]),(0,n.bF)(u,{value:null,title:"Don't specify"},{default:(0,n.k6)((()=>[(0,n.eW)("null")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})]),(0,n.Lk)("div",null,[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.eW)("traverse")])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,{flex:"100px"},{default:(0,n.k6)((()=>[(0,n.eW)("x direction:")])),_:1}),(0,n.bF)(_,{flex:"auto"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{value:r.value.traverse.xDirection,"onUpdate:value":t[6]||(t[6]=e=>r.value.traverse.xDirection=e)},{default:(0,n.k6)((()=>[(0,n.bF)(u,{value:"after"},{default:(0,n.k6)((()=>[(0,n.eW)("after")])),_:1}),(0,n.bF)(u,{value:"above"},{default:(0,n.k6)((()=>[(0,n.eW)("above")])),_:1}),(0,n.bF)(u,{value:"whole"},{default:(0,n.k6)((()=>[(0,n.eW)("whole")])),_:1}),(0,n.bF)(u,{value:null,title:"Don't specify"},{default:(0,n.k6)((()=>[(0,n.eW)("null")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,{flex:"100px"},{default:(0,n.k6)((()=>[(0,n.eW)("y direction:")])),_:1}),(0,n.bF)(_,{flex:"auto"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{value:r.value.traverse.yDirection,"onUpdate:value":t[7]||(t[7]=e=>r.value.traverse.yDirection=e)},{default:(0,n.k6)((()=>[(0,n.bF)(u,{value:"after"},{default:(0,n.k6)((()=>[(0,n.eW)("after")])),_:1}),(0,n.bF)(u,{value:"above"},{default:(0,n.k6)((()=>[(0,n.eW)("above")])),_:1}),(0,n.bF)(u,{value:"whole"},{default:(0,n.k6)((()=>[(0,n.eW)("whole")])),_:1}),(0,n.bF)(u,{value:null,title:"Don't specify"},{default:(0,n.k6)((()=>[(0,n.eW)("null")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})])])])),_:1},8,["open"])}}});const ae=te;var re=ae,ne=a(8895);const ie={id:"panel"},se={class:"system-name"},oe=(0,n.Lk)("span",{id:"system_name"},"TableTidier",-1),le={style:{left:"20px",position:"absolute"}},ce=(0,n.Lk)("span",{style:{"font-size":"16px","font-weight":"normal","margin-right":"5px"}},"Cases:",-1),_e={style:{right:"20px",position:"absolute"}},ue=(0,n.Lk)("span",{style:{"margin-left":"5px"}},"Undo",-1),de=(0,n.Lk)("span",{style:{"margin-left":"5px"}},"Redo",-1),he={class:"main-views"},pe={class:"column",style:{flex:"12"}},Ae={style:{flex:"1",display:"flex"}},fe={style:{flex:"1",display:"flex"}},me={class:"column",style:{flex:"5"}},ge={class:"view"},be={class:"view-title"},ve=(0,n.Lk)("span",null,"Code Panel",-1),Ee={style:{float:"right","margin-right":"20px"}},ye=(0,n.Lk)("span",null,"Run",-1),Oe={class:"view-content"},Ce=(0,n.Lk)("span",null," Specification ",-1),Pe=(0,n.Lk)("span",null," Matched Instances ",-1);var Me=(0,n.pM)({__name:"PanelView",setup(e){for(const n in ne.Ur)document.documentElement.style.setProperty(`--color-${n}`,ne.Ur[n]);document.documentElement.style.setProperty("--custom-cursor","default");const t=(0,d.v)(),a=(0,n.EW)((()=>t.caseList.map((e=>({value:e,label:e}))))),r=(0,n.EW)((()=>t.currentCase)),i=(0,l.KR)("1"),s=(0,l.KR)(!1),o=(0,n.EW)((()=>0===t.spec.undoHistory.length)),c=(0,n.EW)((()=>0===t.spec.redoHistory.length));function _(){t.editor.mappingSpec.errorMark=null;const e=t.spec.undoHistory.pop();void 0!==e&&(t.spec.redoHistory.push(t.editor.mappingSpec.code),t.editor.mappingSpec.code=e)}function u(){t.editor.mappingSpec.errorMark=null;const e=t.spec.redoHistory.pop();void 0!==e&&(t.spec.undoHistory.push(t.editor.mappingSpec.code),t.editor.mappingSpec.code=e)}function h(){s.value=!0,t.transformTablebyCode(),s.value=!1}function p(e){"Escape"===e.key&&(t.editor.mappingSpec.decorations?.clear(),t.input_tbl.instance.deselectCell(),t.output_tbl.instance.deselectCell(),t.input_tbl.instance.updateSettings({cell:[]}),t.output_tbl.instance.updateSettings({cell:[]}),t.highlightMinimapCells([]),t.clearStatus("tree"),t.clearStatus("matchArea"))}function A(e){t.currentCase=e,f.value=!1}const f=(0,l.KR)(!1);let m=null,g=null;function b(e,t){f.value=!0,null===g&&setTimeout((()=>{g=document.querySelector(".rc-virtual-list-holder-inner"),g?.addEventListener("mouseenter",(()=>{null!==m&&(clearTimeout(m),m=null),f.value=!0})),g?.addEventListener("mouseleave",(()=>{f.value=!1}))}),100)}function v(e,t){m=setTimeout((()=>{f.value=!1}),200)}return(0,n.sV)((()=>{document.addEventListener("keydown",p),t.loadCaseData(t.currentCase)})),(e,t)=>{const l=(0,n.g2)("a-select"),d=(0,n.g2)("v-icon"),p=(0,n.g2)("a-button"),m=(0,n.g2)("a-button-group"),g=(0,n.g2)("a-tab-pane"),E=(0,n.g2)("a-tabs");return(0,n.uX)(),(0,n.CE)("div",ie,[(0,n.Lk)("div",se,[oe,(0,n.Lk)("span",le,[ce,(0,n.bF)(l,{value:r.value,options:a.value,size:"small",onChange:A,onMouseenter:b,onMouseleave:v,open:f.value,style:{width:"124px"}},null,8,["value","options","open"])]),(0,n.Lk)("span",_e,[(0,n.bF)(m,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,{size:"small",onClick:_,disabled:o.value},{default:(0,n.k6)((()=>[(0,n.bF)(d,{name:"io-arrow-undo-outline",scale:"0.9"}),ue])),_:1},8,["disabled"]),(0,n.bF)(p,{size:"small",onClick:u,disabled:c.value},{default:(0,n.k6)((()=>[(0,n.bF)(d,{name:"io-arrow-redo-outline",scale:"0.9"}),de])),_:1},8,["disabled"])])),_:1})])]),(0,n.Lk)("div",he,[(0,n.Lk)("div",pe,[(0,n.Lk)("div",Ae,[(0,n.bF)(L)]),(0,n.Lk)("div",fe,[(0,n.bF)($),(0,n.bF)(Q)])]),(0,n.Lk)("div",me,[(0,n.Lk)("div",ge,[(0,n.Lk)("div",be,[ve,(0,n.Lk)("span",Ee,[(0,n.bF)(p,{size:"small",loading:s.value,onClick:h},{default:(0,n.k6)((()=>[(0,n.bF)(d,{name:"la-rocket-solid",scale:"0.85"}),ye])),_:1},8,["loading"])])]),(0,n.Lk)("div",Oe,[(0,n.bF)(E,{activeKey:i.value,"onUpdate:activeKey":t[0]||(t[0]=e=>i.value=e),type:"card"},{default:(0,n.k6)((()=>[(0,n.bF)(g,{key:"1"},{tab:(0,n.k6)((()=>[Ce])),default:(0,n.k6)((()=>[(0,n.bF)(B,{codeType:"mappingSpec"})])),_:1}),(0,n.bF)(g,{key:"2"},{tab:(0,n.k6)((()=>[Pe])),default:(0,n.k6)((()=>[(0,n.bF)(B,{codeType:"rootArea"})])),_:1})])),_:1},8,["activeKey"])])])])]),(0,n.bF)(re)])}}});const De=Me;var xe=De,we=(0,n.pM)({name:"overView",components:{PanelView:xe}}),ke=a(71241);const Te=(0,ke.A)(we,[["render",o]]);var Le=Te,Re=a(55234),Se=a(96444),Ie=a(34385),Be=a(92278),We=a(13472),Ue=a(35678),je=a(91328),Ke=a(58849),Je=a(25169),Fe=a(54467),Ne=a(6311),ze=a(52511),$e=a(50931),He=a(64089),qe=a(86135),Qe=a(63372),Ve=a(99604),Ye=a(86789),Xe=a(90070),Ge=a(58856),Ze=a(20627);const et=(0,Re.Ey)(),tt=(0,r.Ef)(Le);tt.use(et).use(Se.Ay).use(Ie.A).use(Be.A).use(We.A).use(Ue.A).use(je.A).use(Ke.Ay).use(Je.A).use(Fe.Ay).use(Ne.Ay).use(ze.Ay).use($e.Ay).use(He.A).use(qe.A).use(Qe.Ay).use(Ve.A),(0,Ye.oe)(Xe.tAF,Xe.Ah9,Ge.RqA,Xe.rLf,Ze.Eks,Ze.q_),tt.component("v-icon",Ye.Ly),tt.mount("#app")},25719:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return useTableStore}});var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_esnext_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(43375),core_js_modules_esnext_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_esnext_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_esnext_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39225),core_js_modules_esnext_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_esnext_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_esnext_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13972),core_js_modules_esnext_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_esnext_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_esnext_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(99209),core_js_modules_esnext_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_esnext_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_esnext_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25714),core_js_modules_esnext_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_esnext_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_esnext_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17561),core_js_modules_esnext_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_esnext_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_esnext_set_union_v2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(66197),core_js_modules_esnext_set_union_v2_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_esnext_set_union_v2_js__WEBPACK_IMPORTED_MODULE_7__),pinia__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(55234),d3__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24770),vue__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(90144),_grammar_grammar__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(47930),_grammar_handleSpec__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(92838),_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(99160),ant_design_vue__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(17844),monaco_editor__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(42336),typescript__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8230),typescript__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(typescript__WEBPACK_IMPORTED_MODULE_13__),_tree_style__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(8895);function replaceEvenSpaces(e){return e.replace(/ {2,}/g,(e=>{const t=e.length,a=t/2;return" ".repeat(a)}))}function removeWhitespace(e){return e.replace(/ /g,"")}function csvToMatrix(e){const t=e.trim().split("\n"),a=t.map((e=>e.split(",")));return a}const removeSpaceType={even:replaceEvenSpaces,all:removeWhitespace},useTableStore=(0,pinia__WEBPACK_IMPORTED_MODULE_15__.nY)("table",{state(){return{specMode:!1,caseList:["1. university","2. university2","3. model","4. phone","5. bank","6. payroll","7. York"],currentCase:"1. university",spec:{undoHistory:[],redoHistory:[],rawSpecs:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)([]),visTree:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)({id:0,width:0,height:0,x:0,y:0,type:"null",path:[],children:[]}),visTreeMatchPath:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)({}),selectNode:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)({}),selectConstrIndex:-1,constrNodeRectClickId:"",selectAreaFromNode:"",selectAreaFromLegend:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)([]),selectionsAreaFromLegend:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)([]),selectionsPath:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)([]),dragConfigOpen:!1,areaConfig:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)({match:{startCell:{},size:{},traverse:{},constraints:[]},extract:null,fill:"",children:[]}),areaFormData:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)({referenceAreaLayer:null,referenceAreaPosi:null,position:{x:null,y:null},traverse:{xDirection:null,yDirection:null},size:{width:null,height:null}})},editor:{mappingSpec:{code:"",codePref:"const option: TableTidierTemplate[] = ",codeSuff:"\nreturn option;",errorMark:null,decorations:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)(null),highlightCode:null,language:"typescript",instance:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)(null)},rootArea:{code:"",object:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)(null),language:"json",instance:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)(null)}},input_tbl:{instance:{},tbl:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)([]),in2out:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)({}),in2nodes:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)({})},output_tbl:{instance:{},tbl:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)([]),cols:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)([]),out2in:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)({})},tree:{contextMenuVisible:!1,visInst:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)(null),tblVisHighlight:null,tblVisInfo:(0,vue__WEBPACK_IMPORTED_MODULE_16__.IJ)(null),menuAllList:[{key:"0",label:"Reset Area",title:"Reset Area"},{key:"1",label:"Add Constraint",title:"Add Constraint"},{key:"2",label:"Set Target Cols",title:"Set Target Cols",children:[{key:"2-0",label:"Position",title:"Match and Extract by Position",style:{color:_tree_style__WEBPACK_IMPORTED_MODULE_14__.Ur["position"]}},{key:"2-1",label:"Context",title:"Match and Extract by Context",style:{color:_tree_style__WEBPACK_IMPORTED_MODULE_14__.Ur["context"]}},{key:"2-2",label:"Value",title:"Match and Extract by Value",style:{color:_tree_style__WEBPACK_IMPORTED_MODULE_14__.Ur["value"]}},{key:"2-3",label:"No Extraction",title:"Match without Extraction",style:{color:_tree_style__WEBPACK_IMPORTED_MODULE_14__.Ur["null"]}}]},{key:"3",label:"Add Sub-Template",title:"Add Sub-Template"},{key:"4",label:"Delete Template",title:"Delete Template"},{key:"5",label:"Delete Constraint",title:"Delete Constraint"}],menuList:[]}}},actions:{async loadCaseData(e){let t=[],a=`./${e}/`;try{const[r,n]=await Promise.all([fetch(a+"data.csv"),fetch(a+"spec.js")]),[i,s]=await Promise.all([r.ok?r.text():Promise.resolve(null),n.ok?n.text():Promise.resolve(null)]);this.initTblInfo(),this.clearStatus("matchArea"),this.editor.mappingSpec.errorMark=null,null!==i?(this.input_tbl.tbl=csvToMatrix(i),this.input_tbl.instance.updateData(this.input_tbl.tbl),this.input_tbl.instance.render(),this.transformTblUpdateRootArea()):t.push(`Failed to load data from ${e}`),null!==s?(this.spec.undoHistory=[],this.spec.redoHistory=[],this.editor.mappingSpec.code=s):t.push(`Failed to load spec from ${e}`)}catch(r){t.push(`Error loading data: ${r}`)}this.currentCase=e,t.forEach((e=>{ant_design_vue__WEBPACK_IMPORTED_MODULE_17__.Ay.error(e)}))},traverseTree4UpdateMatchs(e){let t=null;e.forEach((e=>{const a=e.templateRef.toString();if(this.spec.visTreeMatchPath.hasOwnProperty(a))this.spec.visTreeMatchPath[a].matchs.push({x:e.x,y:e.y,width:e.width,height:e.height,isDefinedFromSpec:e.isDefinedFromSpec}),t=this.spec.visTreeMatchPath[a],t.match?.constraints?.forEach(((a,r)=>{const n=t.constrsInfo[r],i=(0,_grammar_grammar__WEBPACK_IMPORTED_MODULE_9__.Tr)(a),s=(0,_grammar_handleSpec__WEBPACK_IMPORTED_MODULE_10__.U6)(i,e,this.editor.rootArea.object,!0);s&&n.push({x:s.x,y:s.y})}));else{if(t=this.getNodebyPath(this.spec.visTree.children,e.templateRef),null===t)return;this.spec.visTreeMatchPath[a]=t,t.matchs=[{x:e.x,y:e.y,width:e.width,height:e.height,isDefinedFromSpec:e.isDefinedFromSpec}],t.constrsInfo=[],t.match?.constraints?.forEach((a=>{const r=[],n=(0,_grammar_grammar__WEBPACK_IMPORTED_MODULE_9__.Tr)(a),i=(0,_grammar_handleSpec__WEBPACK_IMPORTED_MODULE_10__.U6)(n,e,this.editor.rootArea.object,!0);i&&r.push({x:i.x,y:i.y}),t.constrsInfo.push(r)}))}this.traverseTree4UpdateMatchs(e.children)}))},updateVisTreeAreaBox(e=null,t=0,a=null){if(null===e){if(0===this.spec.visTree.children.length)return;e=this.spec.visTree.children[0]}if(null===a){const r=e.matchs[t];a={width:r.width,height:r.height,x:r.x,y:r.y},Object.assign(e,a)}else{if(void 0===e.matchs)return;for(const t of e.matchs){const{x:r,y:n,width:i,height:s}=t;r>=a.x&&n>=a.y&&r+i<=a.x+a.width&&n+s<=a.y+a.height&&(void 0===e.currentMatchs?e.currentMatchs=[t]:e.currentMatchs.push(t),t.isDefinedFromSpec&&Object.assign(e,t))}void 0===e.x&&e.currentMatchs&&Object.assign(e,e.currentMatchs[0])}e.children&&e.children.forEach((e=>{this.updateVisTreeAreaBox(e,t,a)}))},traverseTree4UpdateIn2Nodes(e,t=[],a=[1]){const r=this.input_tbl.in2nodes;e.forEach(((e,n)=>{e.id=a[0]++;const i=[...t,n];e.path=i;const s=`${e.x}-${e.y}-${e.width}-${e.height}`;void 0===e.extract||null===e.extract?e.type="null":void 0!==e.extract.byPositionToTargetCols?e.type="position":void 0!==e.extract.byContext?e.type="context":void 0!==e.extract.byValue?e.type="value":e.type="null",this.spec.selectionsAreaFromLegend.push([e.y,e.x,e.y+e.height-1,e.x+e.width-1]),this.spec.selectAreaFromLegend.push(e.type),this.spec.selectionsPath.push(e.path),r.hasOwnProperty(s)?r[s].add(e.id):r[s]=new Set([e.id]),e.matchs?.forEach((t=>{const{x:a,y:n,width:i,height:s}=t,o=`${a}-${n}-${i}-${s}`;r.hasOwnProperty(o)?r[o].add(e.id):r[o]=new Set([e.id])})),e.children&&this.traverseTree4UpdateIn2Nodes(e.children,i,a)}))},transformTblUpdateRootArea(e=[]){const{rootArea:t,tidyData:a}=(0,_grammar_handleSpec__WEBPACK_IMPORTED_MODULE_10__.LR)(this.input_tbl.tbl,e);return this.editor.rootArea.object=t,this.editor.rootArea.code=(0,_grammar_handleSpec__WEBPACK_IMPORTED_MODULE_10__.lK)(t),this.traverseTree4UpdateMatchs(t.children),this.updateVisTreeAreaBox(),this.input_tbl.in2nodes={},this.spec.selectAreaFromLegend=[],this.spec.selectionsAreaFromLegend=[],this.spec.selectionsPath=[],this.traverseTree4UpdateIn2Nodes(this.spec.visTree.children),a},generateHighlightCells(e,t=[]){const a=[];return 0===t.length&&(t=Array(e.length).fill("null")),e.forEach(((e,r)=>{for(let n=e[0];n<=e[2];n++)for(let i=e[1];i<=e[3];i++)a.push({row:n,col:i,className:t[r]})})),a},highlightTblCells(e,t,a=null){if(this[e].instance.updateSettings({cell:t}),null===a&&(a=t.map((e=>[e.row,e.col]))),a.length){let{topLeft:t,rowSize:r,colSize:n}=this.startPoint(a);const i=this[e].instance.countVisibleRows(),s=this[e].instance.countVisibleCols();this[e].instance.scrollViewportTo({row:1===r?Math.max(0,t[0]-Math.floor(i/2)):Math.max(0,t[0]-2),col:1===n?Math.max(0,t[1]-Math.floor(s/2)):Math.max(0,t[1]-1),verticalSnap:"top",horizontalSnap:"start"})}},highlightMinimapCells(e,t=!0){t&&d3__WEBPACK_IMPORTED_MODULE_8__.Ubm("g.matrix rect.grid-cell").attr("class","grid-cell"),e.forEach((e=>{e.className&&d3__WEBPACK_IMPORTED_MODULE_8__.Ltv(`g.matrix #grid-${e.row}-${e.col}`).raise().classed(e.className,!0)}))},in_out_mapping(e,t,a="selection"){const r="input_tbl"===t?this.input_tbl.in2out:this.output_tbl.out2in;if(0===Object.keys(r).length)return[];let n=[],i=[];for(let s in e)e[s].forEach((e=>{i=i.concat(r[`[${e[0]},${e[1]}]`])}));return i&&i.forEach((e=>{if(e&&e.startsWith("[")&&e.endsWith("]")){let t=JSON.parse(e);n.push({row:t[0],col:t[1],className:a})}})),n},doRectanglesIntersect(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y},isRectanglesContained(e,t){const[a,r,n,i]=e,[s,o,l,c]=t;return a<=s&&r<=o&&n>=l&&i>=c},findMaxCNumber(e=null){null===e&&(e=this.output_tbl.cols);let t=0;return e.forEach((e=>{if("string"!==typeof e)return;const a=e.match(/^C(\d+)$/);if(a){const e=parseInt(a[1],10);e>t&&(t=e)}})),t},buildTree(e,t,a){const r=[],n=(e,t)=>{e.children||(e.children=[]);for(const a of e.children)if(this.isRectanglesContained(a.selection,t.selection))return n(a,t);return e.children.push(t),!0};for(let o=0;o<e.length;o++){const i=e[o],s={type:t[o],selection:i,path:a[o]};let l=!1;for(const e of r)if(this.isRectanglesContained(e.selection,i)){l=n(e,s);break}l||r.push(s)}const i=[],s=[null];return this.traverseTree4buildSpecs(r,i,[0,0,this.input_tbl.tbl.length-1,this.input_tbl.tbl[0].length-1],s),{rootNodes:r,specs:i,newSpec:s[0]}},traverseTree4buildSpecs(nodes,specs,pSelection,addedSpec){const px=pSelection[1],py=pSelection[0],pw=pSelection[3]-px+1,ph=pSelection[2]-py+1;nodes.forEach((node=>{const newSpec={},{selection:selection,type:type}=node;if(node.path.length>0){const e=this.getNodebyPath(this.spec.rawSpecs,node.path);this.copyAttributes(e,newSpec,["match","extract","fill"])}else{const[startRow,startCol,endRow,endCol]=selection,width=endCol-startCol+1,height=endRow-startRow+1,traverse={xDirection:pw>=2*width?"after":void 0,yDirection:ph>=2*height?"after":void 0};nodes.length>1&&(traverse.xDirection=void 0,traverse.yDirection=void 0),newSpec.match={startCell:{xOffset:startCol-px,yOffset:startRow-py},size:{width:width,height:height},traverse:traverse};const maxCNum=this.findMaxCNumber()+1;switch(type){case"position":newSpec.extract={byPositionToTargetCols:Array.from({length:width*height},((e,t)=>`C${maxCNum+t}`))};break;case"context":newSpec.extract={byContext:{position:"above"}};break;case"value":const createExtract=()=>eval(`currentAreaTbl => {\n                  // Please replace the default code with the necessary implementation to complete the function.\n                  return currentAreaTbl.flat().map((cell, i) => 'C' + (${maxCNum} + i))\n                  }`);newSpec.extract={byValue:createExtract()};break}addedSpec[0]=newSpec}node.children&&(newSpec.children=[],this.traverseTree4buildSpecs(node.children,newSpec.children,selection,addedSpec)),specs.push(newSpec)}))},highlightNodes(e){const t=new Set;e.forEach((e=>{const a=e[0],r=e[1],n=e[2]-e[0]+1,i=e[3]-e[1]+1,s={x:r,y:a,width:i,height:n};for(let o in this.input_tbl.in2nodes){const[e,a,r,n]=o.split("-").map((e=>Number(e)));this.doRectanglesIntersect(s,{x:e,y:a,width:r,height:n})&&this.input_tbl.in2nodes[o].forEach((e=>{t.add(e)}))}})),d3__WEBPACK_IMPORTED_MODULE_8__.Ubm(".type-node").classed("selection",!1);for(let a of t)d3__WEBPACK_IMPORTED_MODULE_8__.Ltv(`.type-node.node-rect-${a}`).classed("selection",!0);return t},highlightTblTemplate(e){if(void 0===e.x||void 0===e.y||void 0===e.width||void 0===e.height)return;const t=this.tree.tblVisHighlight,a=this.tree.tblVisInfo;t.raise().append("rect").attr("x",(e.x-a.x)*a.width).attr("y",(e.y-a.y)*a.height).attr("width",e.width*a.width).attr("height",e.height*a.height).attr("fill","none").attr("stroke",_tree_style__WEBPACK_IMPORTED_MODULE_14__.Ur.selection).attr("stroke-width",3)},getHightlightedCells(e,t="selection"){let a={},r=[];return e.forEach((e=>{const n=e[0],i=e[1],s=e[2],o=e[3];a[e.toString()]=[];for(let l=n;l<=s;l++)for(let n=i;n<=o;n++)a[e.toString()].push([l,n]),r.push({row:l,col:n,className:t})})),{selectedCoords:a,hightedCells:r}},grid_cell_click(e,t="selection"){let a=[{...e,className:t}];this.highlightTblCells("input_tbl",a);let r=this.in_out_mapping({0:[[e.row,e.col]]},"input_tbl",t);this.highlightTblCells("output_tbl",r)},startPoint(e){let t=e[0];const a=new Set([t[0]]),r=new Set([t[1]]);for(let n=1;n<e.length;n++){let i=e[n];a.add(i[0]),r.add(i[1]),(i[0]<t[0]||i[0]===t[0]&&i[1]<t[1])&&(t=i)}return{topLeft:t,rowSize:a.size,colSize:r.size}},prepareDataAfterCodeChange(){try{let e=this.editor.mappingSpec.code;if(""===e.trim())return!1;e+=this.editor.mappingSpec.codeSuff;const t=typescript__WEBPACK_IMPORTED_MODULE_13__.transpileModule(e,{compilerOptions:{target:typescript__WEBPACK_IMPORTED_MODULE_13__.ScriptTarget.ES2015,module:typescript__WEBPACK_IMPORTED_MODULE_13__.ModuleKind.CommonJS}}),a=new Function("TableTidierKeyWords",t.outputText),r=a(_grammar_grammar__WEBPACK_IMPORTED_MODULE_9__.YR);return this.spec.rawSpecs=r,this.spec.visTree.children=JSON.parse(JSON.stringify(r,((e,t)=>"function"===typeof t?"function":t))),this.editor.mappingSpec.highlightCode&&(this.highlightCode(...this.editor.mappingSpec.highlightCode),this.editor.mappingSpec.highlightCode=null),this.input_tbl.in2nodes={},this.spec.selectAreaFromLegend=[],this.spec.selectionsAreaFromLegend=[],this.spec.selectionsPath=[],this.traverseTree4UpdateIn2Nodes(this.spec.visTree.children),!0}catch(e){return ant_design_vue__WEBPACK_IMPORTED_MODULE_17__.Ay.error(`Failed to parse the specification:\n ${e}`),console.error(e),!1}},numberToOrdinal(e){let t="th";if(e%100>=11&&e%100<=13)t="th";else switch(e%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break}return e+t},checkGrammarError(){const e=monaco_editor__WEBPACK_IMPORTED_MODULE_12__.EN.getModelMarkers({});e.length>0?e.forEach((e=>{"6133"==e.code||(this.editor.mappingSpec.errorMark=e)})):this.editor.mappingSpec.errorMark=null},transformTablebyCode(){if(null!==this.editor.mappingSpec.errorMark){const e=this.editor.mappingSpec.errorMark;return void ant_design_vue__WEBPACK_IMPORTED_MODULE_17__.Ay.error(`Invalid syntax at Line ${e.startLineNumber}, Column ${e.startColumn}:\n ${e.message}`)}let e="";try{const t=this.spec.rawSpecs;this.spec.visTreeMatchPath={};const a=this.transformTblUpdateRootArea(t);this.initTblInfo(!1),this.spec.visTree.children?.forEach(((t,a)=>{a&&(e+="\n"),t.matchs&&(t.matchs.length>1?e+=`For the ${this.numberToOrdinal(a+1)} template, ${t.matchs.length} instances are matched.`:1===t.matchs.length?e+=`For the ${this.numberToOrdinal(a+1)} template, only one instance is matched.`:e+=`For the ${this.numberToOrdinal(a+1)} template, no instance is matched.`)})),0===Object.keys(a).length&&(e&&(e+="\n"),e+="The output table is empty based on the specification."),ant_design_vue__WEBPACK_IMPORTED_MODULE_17__.Ay.info(e),this.derivePosiMapping(a),this.output_tbl.instance.updateData(this.output_tbl.tbl),this.output_tbl.instance.updateSettings({colHeaders:this.output_tbl.cols})}catch(t){e=t instanceof _types__WEBPACK_IMPORTED_MODULE_11__.e?`Failed to transform the table based on the specification:\n ${t}`:`Failed to parse the specification:\n ${t}`,ant_design_vue__WEBPACK_IMPORTED_MODULE_17__.Ay.error(e),console.error(t)}},derivePosiMapping(e){const t=Object.keys(e);this.output_tbl.cols=t;const a=Math.max(...t.map((t=>e[t].length)));for(let r=0;r<a;r++){const a=[];for(let n=0;n<t.length;n++){const i=t[n];let s;s=e[i].length<=r?{x:-1,y:-1,value:void 0}:e[i][r],a.push(s.value);let o=`[${s.y},${s.x}]`;const l=`[${r},${n}]`;s.x<0||s.y<0?o="":this.input_tbl.in2out.hasOwnProperty(o)?this.input_tbl.in2out[o].push(l):this.input_tbl.in2out[o]=[l],this.output_tbl.out2in.hasOwnProperty(l)?this.output_tbl.out2in[l].push(o):this.output_tbl.out2in[l]=[o]}this.output_tbl.tbl.push(a)}},generateGrid(e,t){const a=[];for(let r=0;r<e;r++)for(let e=0;e<t;e++)a.push({row:r,col:e});return a},computeTblPatternGrid(){const e=this.spec.visTree.children[0],t=this.generateGrid(e.height,e.width),a=[e],r=[e.x,e.y,e.x+e.width,e.y+e.height];while(a.length){const n=a.shift();if(void 0!==n.matchs){for(const a of n.matchs){const{x:i,y:s,width:o,height:l}=a,c=i-r[0],_=s-r[1];if(!(c>=0&&_>=0&&i+o<=r[2]&&s+l<=r[3]))continue;let u=n.type,d="cellFill";"position"!==u&&(d="ambiguousText"),!1===a.isDefinedFromSpec&&(u+="Shallow");for(let a=0;a<l;a++)for(let r=0;r<o;r++){const n=t[(_+a)*e.width+(c+r)];if(n.bgColor=u,n.text=new Set,n.textColor=d,this.input_tbl.in2out.hasOwnProperty(`[${s+a},${i+r}]`)){const e=this.input_tbl.in2out[`[${s+a},${i+r}]`];e.forEach((e=>{const[t,a]=JSON.parse(e);n.text.add(this.output_tbl.cols[a])}))}n.text=Array.from(n.text)}}n.children&&n.children.length&&a.push(...n.children)}}return t},initTblInfo(e=!0){e&&(this.input_tbl.tbl=[],this.input_tbl.instance.updateData(this.input_tbl.tbl)),this.input_tbl.in2out={},this.output_tbl.tbl=[],this.output_tbl.cols=[],this.output_tbl.out2in={},this.output_tbl.instance.updateData(this.output_tbl.tbl),this.output_tbl.instance.updateSettings({colHeaders:this.output_tbl.cols})},deleteChildByPath(e,t,a=-1){if(0===t.length)return;if(-1!==a){const r=this.getNodebyPath(e,t);return void(r&&(r.match.constraints.splice(a,1),0===r.match.constraints.length&&delete r.match.constraints))}const r=t.slice(0,-1),n=t[t.length-1];if(0===r.length)return void e.splice(n,1);const i=this.getNodebyPath(e,r);i&&i.children&&(i.children.splice(n,1),0===i.children.length&&delete i.children)},getNodebyPath(e,t){if(0===t.length)return null;let a=e;for(let r=0;r<t.length;r++){const e=t[r];if(!a[e])return null;if(r===t.length-1)return a[e];a=a[e].children||[]}return null},stringifySpec(e=null,t="even",a=!0){let r=[];null===e&&(e=this.spec.rawSpecs);let n=JSON.stringify(e,o,2);r.forEach((e=>{n=n.replace('"$TableTidier$"',e)}));const i=/"(\w+)":/g;n=n.replace(i,"$1:");const s=/"TableTidierKeyWords\.(\w+)"/g;function o(e,a){return"function"===typeof a?(r.push(removeSpaceType[t](a.toString())),"$TableTidier$"):a}return n=n.replace(s,"TableTidierKeyWords.$1"),"all"===t&&(n=removeSpaceType.all(n)),a&&(this.spec.undoHistory.push(this.editor.mappingSpec.code),this.spec.redoHistory=[],this.editor.mappingSpec.code=this.editor.mappingSpec.codePref+n),n},selectArea(){const e=this.spec.selectNode.data,t=this.spec.areaFormData,a={match:{startCell:{referenceAreaLayer:t.referenceAreaLayer,referenceAreaPosi:t.referenceAreaPosi,xOffset:t.position.x,yOffset:t.position.y},size:{width:t.size.width,height:t.size.height},traverse:{xDirection:t.traverse.xDirection,yDirection:t.traverse.yDirection}}};if(0===e.path.length)this.spec.rawSpecs.push(a);else{const t=this.getNodebyPath(this.spec.rawSpecs,e.path);if(null===t)return void ant_design_vue__WEBPACK_IMPORTED_MODULE_17__.Ay.error("The node path is invalid");t.hasOwnProperty("children")&&void 0!=t.children?t.children.push(a):t.children=[a]}this.stringifySpec()},insertNodeOrPropertyIntoSpecs(e,t,a=null){if(null===a&&(a=this.spec.selectNode.data),0===a.path.length)this.spec.rawSpecs.push({match:e});else{const r=this.getNodebyPath(this.spec.rawSpecs,a.path);if(null===r)return void ant_design_vue__WEBPACK_IMPORTED_MODULE_17__.Ay.error("The node path is invalid");switch(t){case"children":r.hasOwnProperty("children")&&void 0!=r.children?r.children.push({match:e}):r.children=[{match:e}];break;case"match":r.hasOwnProperty("match")&&void 0!=r.match?Object.assign(r.match,e):r.match=e;break;case"constraints":r.hasOwnProperty("match")&&void 0!=r.match?r.match.hasOwnProperty("constraints")&&void 0!=r.match.constraints?r.match.constraints.push(e):r.match.constraints=[e]:r.match={constraints:[e]};break;case"extract":r.extract=e;break}}this.stringifySpec()},copyAttributes(e,t,a){for(const r of a)e.hasOwnProperty(r)&&(t[r]=e[r])},copyTreeAttributes(e,t,a=["width","height","x","y"]){if(this.copyAttributes(e,t,a),e.children&&t.children)for(let r=0;r<e.children.length;r++)this.copyTreeAttributes(e.children[r],t.children[r],a)},getHighlightCodeStartEndLine(e,t=null,a=null){null===a&&(a=this.spec.rawSpecs);const r=this.stringifySpec(a,"all",!1),n=this.stringifySpec(e,"all",!1);if(null===t){const e=r.indexOf(n),t=r.slice(0,e),a=(t.match(/\n/g)||[]).length+1,i=a+(n.match(/\n/g)||[]).length;return[a,i]}{const[a,r]=this.getHighlightCodeStartEndLine(t),[n,i]=this.getHighlightCodeStartEndLine(e,null,t),s=a+n-1,o=a+i-1;return[s,o]}},highlightCode(e,t=e,a="nullShallow"){const r=this.editor.mappingSpec.instance,n=this.editor.mappingSpec.decorations;if(r&&n){const i=new monaco_editor__WEBPACK_IMPORTED_MODULE_12__.Q6(e,1,t,1),s=[{range:i,options:{isWholeLine:!0,className:a}}];n.set(s),r.revealRangeAtTop(i)}},getCellDataType(e){return""===e||null===e||void 0===e?_grammar_grammar__WEBPACK_IMPORTED_MODULE_9__.YR.None:isNaN(Number(e))?"string"===typeof e?_grammar_grammar__WEBPACK_IMPORTED_MODULE_9__.YR.String:_grammar_grammar__WEBPACK_IMPORTED_MODULE_9__.YR.NotNone:_grammar_grammar__WEBPACK_IMPORTED_MODULE_9__.YR.Number},clearStatus(e){switch(e){case"matchArea":document.body.style.cursor="default",document.documentElement.style.setProperty("--custom-cursor","default"),d3__WEBPACK_IMPORTED_MODULE_8__.Ubm(".legend").classed("legend-selection",!1);break;case"tree":this.spec.constrNodeRectClickId="",d3__WEBPACK_IMPORTED_MODULE_8__.Ubm(".type-node").classed("selection",!1),d3__WEBPACK_IMPORTED_MODULE_8__.Ubm(".node-constraint-rect").attr("visibility","hidden");break}}},getters:{}})},29127:function(e,t,a){"use strict";a.d(t,{L:function(){return _}});var r=a(91114),n=(a(44114),a(24770)),i=a(8895),s=a(47930);const o=new KeyboardEvent("keydown",{key:"Escape",code:"Escape",keyCode:27,charCode:27,which:27,bubbles:!0,cancelable:!0});function l(e){const{startx:t,starty:a,rectWidth:r,rectHeight:n,rounded:i,radius:s}=e;let o;switch(i){case"left":o=`\n      M${t+s},${a+s}\n      a${s},${s} 0 0 1 ${s},-${s}\n      h${r-s}\n      v${n}\n      h${-r+s}\n      a${s},${s} 0 0 1 -${s},-${s}\n      z\n      `;break;case"right":o=`\n      M${t},${a}\n      h${r-s}\n      a${s},${s} 0 0 1 ${s},${s}\n      v${n-2*s}\n      a${s},${s} 0 0 1 ${-s},${s}\n      h ${s-r}\n      z\n      `;break;case"top":o=`\n      M${t},${a+s}\n      a${s},${s} 0 0 1 ${s},-${s}\n      h${r-2*s}\n      a${s},${s} 0 0 1 ${s},${s}\n      v${n-s}\n      h${-r}\n      z`;break;case"bottom":o=`\n      M${t},${a}\n      h${r}\n      v${n-s}\n      a${s},${s} 0 0 1 ${-s},${s}\n      h${2*s-r}\n      a${s},${s} 0 0 1 -${s},-${s}\n      z`;break;case"all":o=`\n      M${t},${a+s}\n      a${s},${s} 0 0 1 ${s},-${s}\n      h${r-2*s}\n      a${s},${s} 0 0 1 ${s},${s}\n      v${n-2*s}\n      a${s},${s} 0 0 1 ${-s},${s}\n      h${2*s-r}\n      a${s},${s} 0 0 1 -${s},-${s}\n      z`;break;default:o=`\n      M${t}${a}\n      h${r}\n      v${n}\n      h${-r}\n      v${-n}\n      z\n      `;break}return o}function c(e,t,a,r){r.preventDefault(),r.preventDefault(),null===t.parent?e.tree.menuList=[e.tree.menuAllList[3]]:-1===a?e.tree.menuList=e.tree.menuAllList.slice(0,-1):(e.tree.menuList=e.tree.menuAllList.slice(-1),e.spec.selectConstrIndex=a),e.spec.selectNode=t,e.tree.contextMenuVisible=!0}class _{constructor(e,t,a,n,i=1,s="h"){(0,r.A)(this,"svgWidth",void 0),(0,r.A)(this,"svgHeight",void 0),(0,r.A)(this,"margins",void 0),(0,r.A)(this,"container",void 0),(0,r.A)(this,"data",void 0),(0,r.A)(this,"zoomLevel",void 0),(0,r.A)(this,"depth",void 0),(0,r.A)(this,"calculated",void 0),(0,r.A)(this,"treeLayout",void 0),(0,r.A)(this,"realChart",void 0),(0,r.A)(this,"previousTransform",void 0),(0,r.A)(this,"centerG",void 0),(0,r.A)(this,"centerX",void 0),(0,r.A)(this,"root",void 0),(0,r.A)(this,"allNodes",void 0),(0,r.A)(this,"defaultFont",void 0),(0,r.A)(this,"duration",void 0),(0,r.A)(this,"store",void 0),(0,r.A)(this,"orient",void 0),this.svgWidth=500,this.svgHeight=500,this.margins=e,this.container=t,this.zoomLevel=i,this.orient=s,this.depth=10,this.calculated={},this.treeLayout=null,this.realChart=null,this.previousTransform=null,this.centerX=0,this.root=null,this.allNodes=null,this.defaultFont="Helevtica",this.duration=600,this.data=a,this.store=n,this.zoomed.bind(this),this.setZoomFactor.bind(this),this.batchEnterExitUpdate()}setZoomFactor(){const e=this.centerG.node().getBoundingClientRect().width;let t=this.svgWidth/e;t=t>1?1:t,this.zoomLevel=t,"h"===this.orient?this.centerG.attr("transform",`translate(${this.calculated.nodeMaxWidth/2}, ${this.calculated.centerY}) scale(${t})`):this.centerG.attr("transform",`translate(${this.calculated.centerX}, ${this.calculated.nodeMaxHeight/2}) scale(${t})`)}zoomed(e){this.previousTransform=e.transform,this.realChart.attr("transform",e.transform)}batchEnterExitUpdate(){n.r1M.prototype.patternify=function(e){const{tag:t,selector:a}=e,r=e.targetData||[a],n=this.selectAll(`.${a}`).data(r,((e,t)=>"object"===typeof e&&e.id?e.id:t));n.exit().remove();const i=n.enter().append(t).merge(n);return i.attr("class",a),i}}render(){const e=n.Ltv(this.container);e.node().replaceChildren();const t=e.node().getBoundingClientRect();t.width>0&&(this.svgWidth=t.width,this.svgHeight=t.height);const a=i.uL.nodeWidth,r=i.uL.nodeHeight;this.calculated={id:`ID${Math.floor(1e6*Math.random())}`,chartVerticalMargin:this.margins[0],chartHorizontalMargin:this.margins[1],chartWidth:this.svgWidth-2*this.margins[0],chartHeight:this.svgHeight-2*this.margins[1],nodeMaxWidth:a,nodeMaxHeight:r,centerX:(this.svgWidth-2*this.margins[0])/2,centerY:(this.svgHeight-2*this.margins[1])/2},this.depth="h"===this.orient?a/2:r+20,this.treeLayout=n.B22().size([this.calculated.chartWidth,this.calculated.chartHeight]),"h"===this.orient?this.treeLayout.nodeSize([this.calculated.nodeMaxHeight+i.uL.nodeSpacing,this.calculated.nodeMaxWidth+this.depth]):this.treeLayout.nodeSize([this.calculated.nodeMaxWidth+i.uL.nodeSpacing,this.calculated.nodeMaxHeight+this.depth]),Array.isArray(this.data)?this.root=n.zTO().id((e=>e.nodeId)).parentId((e=>e.parentNodeId))(this.data):(this.root=n.Sk5(this.data,(e=>e.children)),this.root.each((e=>{e.id=e.data.id}))),this.root.x0=0,this.root.y0=0;const s=n.s_O().on("zoom",this.zoomed.bind(this)).bind(this),o=e.patternify({tag:"svg",selector:"svg-chart-container"}).attr("width",this.svgWidth).attr("height",this.svgHeight).attr("font-family",this.defaultFont).call(s.bind(this)).on("dblclick.zoom",null),l=o.patternify({tag:"g",selector:"chart"}).attr("transform",`translate(${this.calculated.chartHorizontalMargin}, ${this.calculated.chartVerticalMargin})`);this.realChart=l;const c=l.patternify({tag:"g",selector:"center-group"});return this.centerG=c,this.update(this.root),this}update(e){const t=this.store,r=this.treeLayout(this.root),_=r.descendants().slice(1),u=r.descendants();"h"===this.orient&&u.forEach(((e,t)=>{const a=e.x;e.x=e.y,e.y=a,0===t&&(e.x=2*i.uL.nodeCircleRadius)}));const{x0:d,y0:h,x:p,y:A}=e,f=this.centerG.selectAll("path.link").data(_,(e=>e.id)),m=n.pqs(),g=f.enter().insert("path","g").attr("class","link").attr("d",(()=>{const e={source:[d,h],target:[d,h]};return m(e)})),b=g.merge(f);b.attr("fill","none").attr("stroke-width",i.uL.connectorLineWidth).attr("stroke",i.uL.connectorLineColor);let v=0;b.transition().duration(this.duration).attr("d",(e=>{if("h"===this.orient){let t=i.uL.nodeWidth/2;const a=0,r=-i.uL.nodeWidth/2,n=0;"0"==e.parent.id&&(t=i.uL.nodeCircleRadius);const s=e.x+t;s>v&&(v=s);const o={source:[e.parent.x+t,e.parent.y+a],target:[e.x+r,e.y+n]};return m(o)}const t={source:[e.parent.x,e.parent.y+i.uL.nodeHeight/2],target:[e.x,e.y-i.uL.nodeHeight/2]};return m(t)}));f.exit().transition().duration(this.duration).attr("d",(()=>{const e={source:[p,A],target:[p,A]};return m(e)})).remove();const E=this.centerG.selectAll("g.node").data(u,(e=>e.id)),y=E.enter().append("g").attr("class","node").attr("transform",(()=>`translate(${d}, ${h})`)).attr("cursor","pointer"),O=y.patternify({tag:"g",selector:"node-group",targetData:e=>[e]}),C=y.merge(E);C.transition().attr("opaicty",0).duration(this.duration).attr("transform",(e=>`translate(${e.x}, ${e.y})`)).attr("opacity",1),O.attr("transform",(()=>`translate(${-i.uL.nodeWidth/2}, ${-i.uL.nodeHeight/2})`)),O.each((function(e){const r=n.Ltv(this);if(null===e.parent)return r.patternify({tag:"circle",selector:`node-circle-${e.id}`}),void O.select(`.node-circle-${e.id}`).attr("class",`node-circle-${e.id} type-node`).attr("r",i.uL.nodeCircleRadius).attr("fill",i.Ur[e.data.type]).attr("transform",`translate(${i.uL.nodeWidth/2}, ${i.uL.nodeHeight/2})`).attr("cursor","pointer");const _={rectHeight:i.uL.nodeHeight,rectWidth:i.uL.nodeWidth,starty:0,startx:0,radius:5,rounded:"all"},u=r.patternify({tag:"g",selector:"single-node-g",targetData:e=>[e]});u.patternify({tag:"path",selector:`node-rect-${e.id}`}),u.select(`.node-rect-${e.id}`).attr("class",`node-rect-${e.id} type-node`).attr("d",l(_)).attr("fill",i.Ur[e.data.type]).attr("cursor","pointer");let d=e.data.matchs?.length;d=void 0===d?"\nDon't match any instances":`\nMatch: ${d} instances`,u.patternify({tag:"svg:title",selector:"node-tooltip"}),u.select(".node-tooltip").text("Pattern Path: "+JSON.stringify(e.data.path)+d),e.data.match?.constraints?.forEach(((l,_)=>{const u=i.uL.iconsize,d=`${e.id}-${_}`;r.patternify({tag:"rect",selector:`node-constraint-rect-${d}`});const h=O.select(`.node-constraint-rect-${d}`),p=t.getNodebyPath(t.spec.rawSpecs,e.data.path),A=p.match.constraints[_];h.classed("node-constraint-rect",!0).attr("transform",`translate(${(u+i.uL.iconPadding)*_}, ${-i.uL.nodeHeight/2-3})`).attr("visibility","hidden").attr("width",u+2).attr("height",u+2).attr("stroke",i.Ur.selection).attr("stroke-width",1.5).attr("fill","none"),r.patternify({tag:"image",selector:`node-constraint-icon-${d}`}),O.select(`.node-constraint-icon-${d}`).attr("transform",`translate(${1+(u+i.uL.iconPadding)*_}, ${-i.uL.nodeHeight/2-2})`).attr("xlink:xlink:href",(()=>{const e=a(86305);return e})).attr("width",u).attr("height",u).on("mouseover",((e,a)=>{h.attr("visibility","visible");const r=a.data.constrsInfo[_][0];t.highlightTblTemplate({x:r.x,y:r.y,width:1,height:1})})).on("mouseout",((e,a)=>{t.spec.constrNodeRectClickId!==d&&h.attr("visibility","hidden"),n.Ltv(".tbl-container .tbl-template-highlight").select("rect").remove()})).on("contextmenu",c.bind(null,t,e,_)).on("click",((e,a)=>{t.editor.mappingSpec.instance?.setValue(t.editor.mappingSpec.codePref+t.stringifySpec(null,"even",!1)),document.dispatchEvent(o),t.spec.constrNodeRectClickId=d,h.attr("visibility","visible");const[r,n]=t.getHighlightCodeStartEndLine(A,p);t.highlightCode(r,n,"selectionShallow");const i=a.data.constrsInfo[_].map((e=>[e.y,e.x,e.y,e.x])),s=t.generateHighlightCells(i,["selection",...Array(i.length-1).fill("selectionShallow")]);t.highlightTblCells("input_tbl",s),t.highlightMinimapCells(s)})).append("svg:title").text((()=>{const e=A.valueCstr;if("function"===typeof e)return"The cell is constrained by a custom function:\nClick to see details in the Code Panel.";switch(e){case s.YR.String:return"The cell's data type should be a string.";case s.YR.Number:return"The cell's data type should be a number.";case s.YR.None:return"The cell should be an empty string, null, or undefined.";case s.YR.NotNone:return"The cell should not be an empty string, null, or undefined.";default:return"The cell should be "+e}}))}))})),C.patternify({tag:"text",selector:"node-text"}),C.select(".node-text").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("fill",i.zK.color).attr("font-size",i.zK.fontSize).attr("y",(()=>i.zK.yAxisAdjust)).attr("cursor","pinter").attr("pointer-events","none").text((e=>{if(0===e.id)return"";{let t=e.data.width,a=e.data.height,r=e.data.match?.size?.width,n=e.data.match?.size?.height;return void 0===r&&(r=1),void 0===n&&(n=1),void 0===t?t=r:null===r&&(t=null),void 0===a?a=n:null===n&&(a=null),`(${t}, ${a})`}})),n.Ubm(".type-node").on("contextmenu",((e,a)=>{c(t,a,-1,e)})).on("mouseover",(function(e,a){a.id&&t.highlightTblTemplate(a.data)})).on("mouseout",(function(e,t){n.Ltv(".tbl-container .tbl-template-highlight").select("rect").remove()})).on("click",(function(e,a){e.stopPropagation();const r=a;if(t.clearStatus("tree"),r.id){t.editor.mappingSpec.instance?.setValue(t.editor.mappingSpec.codePref+t.stringifySpec(null,"even",!1)),n.Ltv(this).classed("selection",!0);const e=r.data,a=[];e.matchs?.forEach((e=>{const{x:t,y:r,width:n,height:i}=e;a.push([r,t,r+i-1,t+n-1])}));let i=[],s=[];if(a.length>0){const{selectedCoords:r,hightedCells:n}=t.getHightlightedCells(a,`${e.type}Shallow`);i=i.concat(n);const o=t.in_out_mapping(r,"input_tbl",`${e.type}Shallow`);s=s.concat(o),t.highlightMinimapCells(n)}const o=[[e.y,e.x,e.y+e.height-1,e.x+e.width-1]],{selectedCoords:l,hightedCells:c}=t.getHightlightedCells(o,e.type);i=i.concat(c),t.highlightTblCells("input_tbl",i,Object.values(l)[0]);const _=t.in_out_mapping(l,"input_tbl",e.type);s=s.concat(_),t.highlightTblCells("output_tbl",s),t.highlightMinimapCells(c,0===a.length),t.input_tbl.instance.deselectCell(),t.output_tbl.instance.deselectCell();const u=t.getNodebyPath(t.spec.rawSpecs,e.path),[d,h]=t.getHighlightCodeStartEndLine(u);t.highlightCode(d,h,`${e.type}Shallow`)}else document.dispatchEvent(o)}));E.exit().attr("opacity",1).transition().duration(this.duration).attr("transform",`translate(${p},${A})`).on("end",(function(){n.Ltv(this).remove()})).attr("opacity",0);u.forEach((e=>{e.x0=e.x,e.y0=e.y}));const P=Math.max((this.svgWidth-v)/2,0)-i.uL.nodeCircleRadius,M=Math.max((this.svgHeight-this.realChart.node().getBBox().height)/2,0);this.centerG.attr("transform",`translate(${P}, ${M})`)}}},8895:function(e,t,a){"use strict";a.d(t,{Ur:function(){return r},uL:function(){return n},zK:function(){return i}});const r={position:"rgba(106, 176, 76)",positionShallow:"rgba(106, 176, 76, 0.65)",context:"rgba(240, 147, 43)",contextShallow:"rgba(240, 147, 43, 0.65)",value:"rgba(34, 166, 179)",valueShallow:"rgba(34, 166, 179, 0.65)",null:"rgba(131, 149, 167)",nullShallow:"rgba(131, 149, 167, 0.65)",selection:"rgba(9, 132, 227)",selectionShallow:"rgba(9, 132, 227, 0.65)",positionRGBA:"rgba(106, 176, 76, 0.5)",contextRGBA:"rgba(240, 147, 43, 0.5)",valueRGBA:"rgba(34, 166, 179, 0.5)",nullRGBA:"rgba(131, 149, 167, 0.5)",selectionRGBA:"rgba(9, 132, 227, 0.5)",ambiguousText:"#f9f7ff",cellFill:"#f9f7ff",cellStroke:"#cccccc"},n={nodeWidth:96,nodeHeight:30,nodeRectFillColor:"#7EAA55",nodeCircleFillColor:"#83b5ed",nodeCircleRadius:15,nodeBorderRadius:5,verticalLineLength:40,verticalLineWidth:5,nodeSpacing:30,connectorLineColor:"#0000004D",connectorLineWidth:1.5,iconsize:15,iconPadding:10},i={color:"white",fontSize:15,yAxisAdjust:2}},99160:function(e,t,a){"use strict";a.d(t,{e:function(){return r}});class r extends Error{constructor(e,t="CustomError"){super(e),this.name=t,Object.setPrototypeOf(this,new.target.prototype)}}var n;(function(e){e[e["String"]=0]="String",e[e["Number"]=1]="Number",e[e["None"]=2]="None"})(n||(n={}))},89387:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=89387,e.exports=t},86305:function(e){"use strict";e.exports="data:image/png;base64,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"},530:function(){},72615:function(){},84021:function(){},66247:function(){},82202:function(){},18641:function(){},97664:function(){}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__),a.loaded=!0,a.exports}__webpack_require__.m=__webpack_modules__,function(){__webpack_require__.amdO={}}(),function(){var e=[];__webpack_require__.O=function(t,a,r,n){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],r=e[c][1],n=e[c][2];for(var s=!0,o=0;o<a.length;o++)(!1&n||i>=n)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](a[o])}))?a.splice(o--,1):(s=!1,n<i&&(i=n));if(s){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,r,n]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,a){return __webpack_require__.f[a](e,t),t}),[]))}}(),function(){__webpack_require__.u=function(e){return"js/"+e+"."+{9:"92b25fd5",293:"cc93782e",703:"6b8db0f6",1034:"42caa4ea",1157:"54c726b5",1461:"e92bc401",1477:"290bd091",1813:"2f919813",1915:"ee11ac6c",2149:"c17c85f9",2365:"7690613b",2412:"11ebdadd",2501:"cdbbcd03",2591:"2f6c9f6b",2689:"caa4fbec",2709:"64937498",2799:"184b412d",2965:"d2f616e1",2999:"3dc7f79c",3051:"41b30810",3061:"95be68c2",3071:"70d11158",3445:"be87e6ab",3473:"fb9ef58c",3577:"bb18787e",3691:"80364a2e",3717:"bf6e5d9f",3753:"6c4ee3f4",3765:"1d3c04a7",3775:"432c2d2c",3948:"55fdd701",4205:"df37ef01",4261:"e3ee4d76",4341:"e3ef6b64",4373:"b41ecc24",4485:"3ee3fb7e",4605:"41a293b9",4621:"3f170eab",4805:"d62fc659",4977:"c1e040d7",5077:"d5031a10",5081:"190db17a",5083:"98214cf7",5093:"be4234f2",5282:"b3f08c25",5285:"d0610360",5287:"3fa9d8e8",5303:"8de5c195",5365:"56361d2a",5521:"cf7ee881",5589:"bcad7c5b",5609:"9e498ec2",5653:"70962a1f",5749:"738a857e",5841:"06c82430",6059:"200d1502",6121:"692266a1",6181:"fdb9b6c9",6229:"e201920c",6309:"6df26518",6325:"89f2a27d",6613:"4cf1f45b",6757:"29e39d58",6821:"0225ad68",6845:"9f91df90",7045:"5a9df01c",7217:"553f17c6",7219:"a0db5f28",7449:"e83e23a9",7461:"0f9bd863",7525:"c9755306",7623:"4889f846",7641:"dceb5361",8175:"e179abe0",8285:"abbe3a02",8329:"0778de39",8387:"e5098648",8533:"4847834f",8653:"de07fe1d",8981:"61e6e714",9009:"7586e475",9437:"47c6455f",9445:"be745b28",9626:"b86e75d4",9717:"3e641f4d"}[e]+".js"}}(),function(){__webpack_require__.miniCssF=function(e){}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="TableTidier:";__webpack_require__.l=function(a,r,n,i){if(e[a])e[a].push(r);else{var s,o;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var _=l[c];if(_.getAttribute("src")==a||_.getAttribute("data-webpack")==t+n){s=_;break}}s||(o=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+n),s.src=a),e[a]=[r];var u=function(t,r){s.onerror=s.onload=null,clearTimeout(d);var n=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(e){return e(r)})),t)return t(r)},d=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),o&&document.head.appendChild(s)}}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){__webpack_require__.p="/TableTidier/"}(),function(){var e={3524:0};__webpack_require__.f.j=function(t,a){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var n=new Promise((function(a,n){r=e[t]=[a,n]}));a.push(r[2]=n);var i=__webpack_require__.p+__webpack_require__.u(t),s=new Error,o=function(a){if(__webpack_require__.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var n=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",s.name="ChunkLoadError",s.type=n,s.request=i,r[1](s)}};__webpack_require__.l(i,o,"chunk-"+t,t)}},__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,i=a[0],s=a[1],o=a[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);if(o)var c=o(__webpack_require__)}for(t&&t(a);l<i.length;l++)n=i[l],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return __webpack_require__.O(c)},a=self["webpackChunkTableTidier"]=self["webpackChunkTableTidier"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var __webpack_exports__=__webpack_require__.O(void 0,[504],(function(){return __webpack_require__(43235)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.77111e74.js.map