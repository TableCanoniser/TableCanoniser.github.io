(function(){var e={35358:function(e,t,a){var n={"./af":22190,"./af.js":22190,"./ar":7218,"./ar-dz":85785,"./ar-dz.js":85785,"./ar-kw":29417,"./ar-kw.js":29417,"./ar-ly":56904,"./ar-ly.js":56904,"./ar-ma":98617,"./ar-ma.js":98617,"./ar-ps":91318,"./ar-ps.js":91318,"./ar-sa":82699,"./ar-sa.js":82699,"./ar-tn":36789,"./ar-tn.js":36789,"./ar.js":7218,"./az":23050,"./az.js":23050,"./be":8316,"./be.js":8316,"./bg":70310,"./bg.js":70310,"./bm":58884,"./bm.js":58884,"./bn":83469,"./bn-bd":46672,"./bn-bd.js":46672,"./bn.js":83469,"./bo":39118,"./bo.js":39118,"./br":13113,"./br.js":13113,"./bs":23626,"./bs.js":23626,"./ca":40921,"./ca.js":40921,"./cs":17799,"./cs.js":17799,"./cv":12828,"./cv.js":12828,"./cy":93521,"./cy.js":93521,"./da":56962,"./da.js":56962,"./de":93294,"./de-at":16158,"./de-at.js":16158,"./de-ch":95960,"./de-ch.js":95960,"./de.js":93294,"./dv":47963,"./dv.js":47963,"./el":3432,"./el.js":3432,"./en-au":20998,"./en-au.js":20998,"./en-ca":15931,"./en-ca.js":15931,"./en-gb":45930,"./en-gb.js":45930,"./en-ie":58081,"./en-ie.js":58081,"./en-il":71594,"./en-il.js":71594,"./en-in":23904,"./en-in.js":23904,"./en-nz":1507,"./en-nz.js":1507,"./en-sg":19409,"./en-sg.js":19409,"./eo":22177,"./eo.js":22177,"./es":84805,"./es-do":39155,"./es-do.js":39155,"./es-mx":69791,"./es-mx.js":69791,"./es-us":76098,"./es-us.js":76098,"./es.js":84805,"./et":96240,"./et.js":96240,"./eu":20391,"./eu.js":20391,"./fa":20612,"./fa.js":20612,"./fi":4220,"./fi.js":4220,"./fil":65570,"./fil.js":65570,"./fo":5466,"./fo.js":5466,"./fr":14461,"./fr-ca":66306,"./fr-ca.js":66306,"./fr-ch":27081,"./fr-ch.js":27081,"./fr.js":14461,"./fy":73484,"./fy.js":73484,"./ga":76957,"./ga.js":76957,"./gd":72978,"./gd.js":72978,"./gl":89866,"./gl.js":89866,"./gom-deva":65011,"./gom-deva.js":65011,"./gom-latn":84724,"./gom-latn.js":84724,"./gu":71601,"./gu.js":71601,"./he":79802,"./he.js":79802,"./hi":9358,"./hi.js":9358,"./hr":13907,"./hr.js":13907,"./hu":10218,"./hu.js":10218,"./hy-am":20533,"./hy-am.js":20533,"./id":52844,"./id.js":52844,"./is":97353,"./is.js":97353,"./it":6364,"./it-ch":20774,"./it-ch.js":20774,"./it.js":6364,"./ja":6008,"./ja.js":6008,"./jv":68221,"./jv.js":68221,"./ka":92417,"./ka.js":92417,"./kk":42071,"./kk.js":42071,"./km":76149,"./km.js":76149,"./kn":94572,"./kn.js":94572,"./ko":60659,"./ko.js":60659,"./ku":66285,"./ku-kmr":59398,"./ku-kmr.js":59398,"./ku.js":66285,"./ky":81609,"./ky.js":81609,"./lb":119,"./lb.js":119,"./lo":81748,"./lo.js":81748,"./lt":71973,"./lt.js":71973,"./lv":81347,"./lv.js":81347,"./me":53023,"./me.js":53023,"./mi":65747,"./mi.js":65747,"./mk":64341,"./mk.js":64341,"./ml":63840,"./ml.js":63840,"./mn":62058,"./mn.js":62058,"./mr":19182,"./mr.js":19182,"./ms":45197,"./ms-my":89136,"./ms-my.js":89136,"./ms.js":45197,"./mt":36408,"./mt.js":36408,"./my":51683,"./my.js":51683,"./nb":53141,"./nb.js":53141,"./ne":29344,"./ne.js":29344,"./nl":44703,"./nl-be":84641,"./nl-be.js":84641,"./nl.js":44703,"./nn":79873,"./nn.js":79873,"./oc-lnc":61217,"./oc-lnc.js":61217,"./pa-in":24612,"./pa-in.js":24612,"./pl":24457,"./pl.js":24457,"./pt":1089,"./pt-br":79146,"./pt-br.js":79146,"./pt.js":1089,"./ro":45950,"./ro.js":45950,"./ru":27292,"./ru.js":27292,"./sd":56774,"./sd.js":56774,"./se":87493,"./se.js":87493,"./si":3761,"./si.js":3761,"./sk":49711,"./sk.js":49711,"./sl":88558,"./sl.js":88558,"./sq":8633,"./sq.js":8633,"./sr":90688,"./sr-cyrl":47903,"./sr-cyrl.js":47903,"./sr.js":90688,"./ss":31991,"./ss.js":31991,"./sv":27020,"./sv.js":27020,"./sw":15891,"./sw.js":15891,"./ta":45714,"./ta.js":45714,"./te":30206,"./te.js":30206,"./tet":24768,"./tet.js":24768,"./tg":28276,"./tg.js":28276,"./th":57977,"./th.js":57977,"./tk":56928,"./tk.js":56928,"./tl-ph":8046,"./tl-ph.js":8046,"./tlh":41361,"./tlh.js":41361,"./tr":64367,"./tr.js":64367,"./tzl":10627,"./tzl.js":10627,"./tzm":12636,"./tzm-latn":98148,"./tzm-latn.js":98148,"./tzm.js":12636,"./ug-cn":68823,"./ug-cn.js":68823,"./uk":40461,"./uk.js":40461,"./ur":41366,"./ur.js":41366,"./uz":83454,"./uz-latn":18374,"./uz-latn.js":18374,"./uz.js":83454,"./vi":78572,"./vi.js":78572,"./x-pseudo":80464,"./x-pseudo.js":80464,"./yo":93709,"./yo.js":93709,"./zh-cn":65873,"./zh-cn.js":65873,"./zh-hk":17549,"./zh-hk.js":17549,"./zh-mo":52240,"./zh-mo.js":52240,"./zh-tw":90405,"./zh-tw.js":90405};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=35358},47930:function(e,t){"use strict";t.gX=t.Pu=t.YR=void 0;const a={String:"TableTidierKeyWords.String",Number:"TableTidierKeyWords.Number",None:"TableTidierKeyWords.None",NotNone:"TableTidierKeyWords.NotNone",Forward:"TableTidierKeyWords.Forward",pairSort:n};function n(e,t,a){let n=e.map(((e,t)=>({value:e,index:t})));n.sort(((e,t)=>"asc"===a?e.value<t.value?-1:e.value>t.value?1:0:e.value>t.value?-1:e.value<t.value?1:0));const r=new Array(t.length);return n.forEach(((e,a)=>r[e.index]=t[a])),r}t.YR=a;const r=1,i=1,l="current",o="topLeft",s=0,c=0,d=null,u=null,h="above",A="cellValue",p=a.String,f=!0,g=null;function m(e){return e?{referenceAreaLayer:e.referenceAreaLayer||l,referenceAreaPosi:e.referenceAreaPosi||o,xOffset:void 0===e.xOffset?s:e.xOffset,yOffset:void 0===e.yOffset?c:e.yOffset}:{referenceAreaLayer:l,referenceAreaPosi:o,xOffset:s,yOffset:c}}function v(e){const t=m(e);return Object.assign(Object.assign({},t),{valueCstr:void 0===e.valueCstr?p:e.valueCstr,ignoreOutOfBounds:void 0===e.ignoreOutOfBounds?f:e.ignoreOutOfBounds})}function b(e){return{position:e.position||h,toTargetCols:e.toTargetCols||A}}function y(e){var t,a,n,l,o,s,c,h,A,p,f,x;return{match:{startCell:m(null===(t=e.match)||void 0===t?void 0:t.startCell),size:{width:void 0===(null===(n=null===(a=e.match)||void 0===a?void 0:a.size)||void 0===n?void 0:n.width)?r:e.match.size.width,height:void 0===(null===(o=null===(l=e.match)||void 0===l?void 0:l.size)||void 0===o?void 0:o.height)?i:e.match.size.height},constraints:(null===(c=null===(s=e.match)||void 0===s?void 0:s.constraints)||void 0===c?void 0:c.map(v))||[],traverse:{xDirection:void 0===(null===(A=null===(h=e.match)||void 0===h?void 0:h.traverse)||void 0===A?void 0:A.xDirection)?d:e.match.traverse.xDirection,yDirection:void 0===(null===(f=null===(p=e.match)||void 0===p?void 0:p.traverse)||void 0===f?void 0:f.yDirection)?u:e.match.traverse.yDirection}},extract:e.extract?{byPositionToTargetCols:e.extract.byPositionToTargetCols||void 0,byContext:e.extract.byContext?b(e.extract.byContext):void 0,byValue:e.extract.byValue||void 0}:null,fill:void 0===e.fill?g:e.fill,children:(null===(x=e.children)||void 0===x?void 0:x.map(y))||[]}}t.gX=m,t.Pu=y},45329:function(e,t,a){"use strict";var n=a(45130),r=a(56768);const i={class:"wrapper"};function l(e,t,a,n,l,o){const s=(0,r.g2)("panel-view");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(s)])}a(44114);var o,s=a(90144),c=(a(14603),a(47566),a(98721),a(30328)),d=(a(19830),a(48355)),u=a(8153),h=(a(43375),a(39225),a(13972),a(99209),a(25714),a(17561),a(66197),a(55234)),A=a(10495),p=a(47930);class f extends Error{constructor(e,t="CustomError"){super(e),this.name=t,Object.setPrototypeOf(this,new.target.prototype)}}function g(e){const t=new WeakSet;return JSON.stringify(e,(function(e,a){if("object"===typeof a&&null!==a){if(t.has(a))return`[Circular reference: ${e}]`;t.add(a)}return a}),2)}(function(e){e[e["String"]=0]="String",e[e["Number"]=1]="Number",e[e["None"]=2]="None"})(o||(o={}));const m=(e,t)=>"function"===typeof t.valueCstr?t.valueCstr(e):t.valueCstr===p.YR.String?"string"===typeof e&&""!==e&&isNaN(Number(e)):t.valueCstr===p.YR.Number?"number"===typeof e||"string"===typeof e&&""!==e&&!isNaN(Number(e)):t.valueCstr===p.YR.None?null===e||""===e||void 0===e:t.valueCstr===p.YR.NotNone?null!==e&&""!==e&&void 0!==e:e===t.valueCstr,v=(e,t,a)=>"number"===typeof e?e:e(t,a),b=(e,t,a)=>{let n=t;if("current"===e.referenceAreaLayer)n=t;else if("root"===e.referenceAreaLayer)n=a;else if("parent"===e.referenceAreaLayer)n=t.parent;else{const a=t.areaLayer-e.referenceAreaLayer(t);for(let e=0;e<a;e++)n=n.parent}let r={x:n.x+v(e.xOffset,t,a),y:n.y+v(e.yOffset,t,a)};if("bottomLeft"===e.referenceAreaPosi?r.y+=n.height-1:"topRight"===e.referenceAreaPosi?r.x+=n.width-1:"bottomRight"===e.referenceAreaPosi&&(r.x+=n.width-1,r.y+=n.height-1),r.x<0||r.y<0||r.x>=a.width||r.y>=a.height)throw new f(`Invalid cell selection:\n Table size is (width: ${a.width}, height: ${a.height}), Position (${r.x}, ${r.y}) is out of bounds.`,"OutOfBoundsError");return{...r,value:a.areaTbl[r.y][r.x]}},y=(e,t,a,n)=>"number"===typeof e?e:"toParentX"===e?n.width-t:"toParentY"===e?n.height-a:1,x=(e,t,a,n,r)=>{const i=[];for(let l=a;l<a+r;l++){const a=e[l].slice(t,t+n);i.push(a)}return i},k=(e,t)=>{if(null===t)return;const a=Math.max(...Object.values(e).map((e=>e.length)));for(const n in e){const r=e[n],i=t===p.YR.Forward?r[r.length-1]:{x:-1,y:-1,value:t};while(r.length<a)r.push(i)}},w=(e,t,a,n,r,i,l,o,s,c,d,u=!0)=>{let h=t,A=t+i-1,p=a,f=a+l-1,g=null;while(f<=r){const a=f-p+1;while(A<=n){const t=A-h+1;if(g=C(e,h,p,t,a,o,s,c,d),null===g)null!=e.match.size.width?(h+=1,A+=1):A===n?(h+=1,A=h):A+=1;else{if(o.instanceIndex+=1,!u)return;if(null===e.match.traverse.xDirection)break;o.xIndex+=1,h+=t,A=h+i-1}}if(o.xIndex=0,null===g)null!=e.match.size.height?(p+=1,f+=1):f===r?(p+=1,f=p):f+=1;else{if(!u)return;if(null===e.match.traverse.yDirection)break;o.yIndex+=1,p+=a,f=p+l-1}h=t,A=t+i-1}},C=(e,t,a,n,r,i,l,o,s)=>{let c=l.x+t,d=l.y+a;if("current"!==e.match.startCell.referenceAreaLayer){const t=b(e.match.startCell,l,o);if(null===t)return null;c=t.x,d=t.y}const u={parent:l,areaLayer:l.areaLayer+1,templateRef:i.templateRef.slice(),instanceIndex:i.instanceIndex,xIndex:i.xIndex,yIndex:i.yIndex,xOffset:t,yOffset:a,x:c,y:d,width:n,height:r,areaTbl:x(o.areaTbl,c,d,n,r),children:[]};for(let A of e.match.constraints)try{const e=b(A,u,o);if(null===e)return null;if(!m(e.value,A))return null}catch(h){if(A.ignoreOutOfBounds)continue;return null}return l.children.push(u),O(e,u,o,s),u},O=(e,t,a,n)=>{const r=t.areaTbl.flat();if(e.extract){let i;if(void 0!==e.extract.byPositionToTargetCols)i=e.extract.byPositionToTargetCols;else if(void 0!==e.extract.byContext){const n=e.extract.byContext,r=[],l=[],o=[];if("above"===n.position)t.areaTbl.forEach(((e,t)=>{e.forEach(((e,a)=>{o.push([(0,p.gX)({xOffset:a,yOffset:t-1})])}))}));else if("below"===n.position)t.areaTbl.forEach(((e,t)=>{e.forEach(((e,a)=>{o.push([(0,p.gX)({xOffset:a,yOffset:t+1})])}))}));else if("left"===n.position)t.areaTbl.forEach(((e,t)=>{e.forEach(((e,a)=>{o.push([(0,p.gX)({xOffset:a-1,yOffset:t})])}))}));else if("right"===n.position)t.areaTbl.forEach(((e,t)=>{e.forEach(((e,a)=>{o.push([(0,p.gX)({xOffset:a+1,yOffset:t})])}))}));else{const e=n.position;t.areaTbl.forEach(((n,r)=>{n.forEach(((n,i)=>{const l=e({xOffset:i,yOffset:r,value:n},t,a),s=l.map((e=>(0,p.gX)(e)));o.push(s)}))}))}if(o.length>0&&o[0].length>0?o.forEach((e=>{const n=[];e.forEach((e=>{const r=b(e,t,a);if(null===r)return null;n.push(r)})),l.push(n)})):console.log("No context cells found"),"cellValue"===n.toTargetCols)l.forEach((e=>{r.push(void 0===e[0].value?null:e[0].value.toString())}));else{const e=n.toTargetCols;l.forEach((t=>{r.push(e(t))}))}i=r}else{if(void 0===e.extract.byValue)throw new f("Please specify 'byPositionToTargetCols', 'byContext', or 'byValue' for extraction","NoExtractionSpecified");i=e.extract.byValue(t.areaTbl)}i.forEach(((e,a)=>{if(null!==e&&void 0!==e&&""!==e){const i={x:t.x+a%t.width,y:t.y+Math.floor(a/t.width),value:r[a]};n.hasOwnProperty(e)?n[e].push(i):n[e]=[i]}}))}},J=(e,t,a,n,r=0,i=!0)=>{const l={templateRef:[...t.templateRef,r],instanceIndex:0,xIndex:0,yIndex:0},o=e.match.traverse.xDirection,s=e.match.traverse.yDirection,c=b(e.match.startCell,t,a);if(null===c)return null;const d=c.x-t.x,u=c.y-t.y,h=y(e.match.size.width,d,u,t),A=y(e.match.size.height,d,u,t);let p,f,g,m;if(null!==o&&i?"before"===o?(p=0,g=d):"after"===o?(p=d,g=t.width-1):(p=0,g=t.width-1):(p=d,g=null===e.match.size.width?t.width-1:p+h-1),null!==s&&i?"before"===s?(f=0,m=u):"after"===s?(f=u,m=t.height-1):(f=0,m=t.height-1):(f=u,m=null===e.match.size.height?t.height-1:f+A-1),w(e,p,f,g,m,h,A,l,t,a,n,i),e.children.length>0&&t.children.length>0)if(null===e.extract)for(let v of t.children)e.children.forEach(((e,t)=>{J(e,v,a,n,t,i)})),k(n,e.fill);else e.children.forEach(((r,l)=>{t.children.forEach((e=>{J(r,e,a,n,l,i)})),k(n,e.fill)}))};function T(e,t,a=!0){const n={parent:null,areaLayer:0,templateRef:[],instanceIndex:0,xIndex:0,yIndex:0,xOffset:0,yOffset:0,x:0,y:0,width:e.length>0?e[0].length:0,height:e.length,areaTbl:e,children:[]},r={};return t.forEach(((e,t)=>{const i=(0,p.Pu)(e);J(i,n,n,r,t,a),k(r,i.fill)})),{rootArea:n,tidyData:r}}var j=a(17844),S=a(42336),L=a(8230),M=a(8895);function P(e){return e.replace(/ {2,}/g,(e=>{const t=e.length,a=t/2;return" ".repeat(a)}))}function F(e){return e.replace(/ /g,"")}function _(e){const t=e.trim().split("\n"),a=t.map((e=>e.split(",")));return a}const z={even:P,all:F},N=(0,h.nY)("table",{state(){return{specMode:!1,caseList:["1. university","2. university2","3. model","4. phone","5. bank","6. payroll","7. York"],currentCase:"",spec:{undoHistory:[],redoHistory:[],rawSpecs:(0,s.IJ)([]),visTree:(0,s.IJ)({id:0,width:0,height:0,x:0,y:0,type:"null",children:[]}),visTreeMatchPath:(0,s.IJ)({}),selectNode:(0,s.IJ)(null),selectAreaFlag:0,dragConfigOpen:!1,areaConfig:(0,s.IJ)({match:{startCell:{},size:{},traverse:{},constraints:[]},extract:null,fill:"",children:[]}),areaFormData:(0,s.IJ)({referenceAreaLayer:null,referenceAreaPosi:null,position:{x:null,y:null},traverse:{xDirection:null,yDirection:null},size:{width:null,height:null}})},editor:{mappingSpec:{code:"",codePref:"const option: TableTidierTemplate[] = ",codeSuff:"\nreturn option;",errorMark:null,decorations:(0,s.IJ)(null),language:"typescript",instance:(0,s.IJ)(null)},rootArea:{code:"",object:(0,s.IJ)(null),language:"json",instance:(0,s.IJ)(null)}},input_tbl:{instance:{},tbl:(0,s.IJ)([]),in2out:(0,s.IJ)({}),in2nodes:(0,s.IJ)({})},output_tbl:{instance:{},tbl:(0,s.IJ)([]),cols:(0,s.IJ)([]),out2in:(0,s.IJ)({})},tree:{contextMenuVisible:!1,visInst:(0,s.IJ)(null),menuAllList:[{key:"0",label:"Reset Area",title:"Reset Area"},{key:"1",label:"Add Constraints",title:"Add Constraints"},{key:"2",label:"Set Target Cols",title:"Set Target Cols",children:[{key:"2-0",label:"Position Based",title:"Position Based"},{key:"2-1",label:"Context Based",title:"Context Based"},{key:"2-2",label:"Value Based",title:"Value Based"}]},{key:"3",label:"Add Sub-Template",title:"Add Sub-Template"},{key:"4",label:"Delete Template",title:"Delete Template"}],menuList:[]}}},actions:{async loadCaseData(e){let t=[],a=`./${e}/`;try{const[n,r]=await Promise.all([fetch(a+"data.csv"),fetch(a+"spec.js")]),[i,l]=await Promise.all([n.ok?n.text():Promise.resolve(null),r.ok?r.text():Promise.resolve(null)]);this.initTblInfo(),null!==i?(this.input_tbl.tbl=_(i),this.input_tbl.instance.updateData(this.input_tbl.tbl),this.input_tbl.instance.render(),this.transformTblUpdateRootArea()):t.push(`Failed to load data from ${e}`),null!==l?(this.spec.undoHistory=[],this.spec.redoHistory=[],this.editor.mappingSpec.code=l):t.push(`Failed to load spec from ${e}`)}catch(n){t.push(`Error loading data: ${n}`)}return this.currentCase=e,t},traverseTree4UpdateMatchs(e){let t=null;e.forEach((e=>{const a=e.templateRef.toString();if(this.spec.visTreeMatchPath.hasOwnProperty(a))this.spec.visTreeMatchPath[a].matchs.push({x:e.x,y:e.y,width:e.width,height:e.height});else{if(t=this.getNodebyPath(this.spec.visTree.children,e.templateRef),null===t)return;this.spec.visTreeMatchPath[a]=t,t.matchs=[{x:e.x,y:e.y,width:e.width,height:e.height}]}this.traverseTree4UpdateMatchs(e.children)}))},traverseTree4UpdateIn2Nodes(e){const t=this.input_tbl.in2nodes;e.forEach((e=>{const a=`${e.x}-${e.y}-${e.width}-${e.height}`;t.hasOwnProperty(a)?t[a].add(e.id):t[a]=new Set([e.id]),e.matchs?.forEach((a=>{const{x:n,y:r,width:i,height:l}=a,o=`${n}-${r}-${i}-${l}`;t.hasOwnProperty(o)?t[o].add(e.id):t[o]=new Set([e.id])})),e.children&&this.traverseTree4UpdateIn2Nodes(e.children)}))},transformTblUpdateRootArea(e=[]){const{rootArea:t,tidyData:a}=T(this.input_tbl.tbl,e);return this.editor.rootArea.object=t,this.editor.rootArea.code=g(t),this.traverseTree4UpdateMatchs(t.children),this.input_tbl.in2nodes={},this.traverseTree4UpdateIn2Nodes(this.spec.visTree.children),a},highlightTblCells(e,t,a=null){if(this[e].instance.updateSettings({cell:t}),null===a&&(a=t.map((e=>[e.row,e.col]))),a.length){let{topLeft:t,rowSize:n,colSize:r}=this.startPoint(a);const i=this[e].instance.countVisibleRows(),l=this[e].instance.countVisibleCols();this[e].instance.scrollViewportTo({row:1===n?Math.max(0,t[0]-Math.floor(i/2)):Math.max(0,t[0]-2),col:1===r?Math.max(0,t[1]-Math.floor(l/2)):Math.max(0,t[1]-1),verticalSnap:"top",horizontalSnap:"start"})}},highlightMinimapCells(e,t=!0){t&&A.selectAll("g.matrix rect.grid-cell").attr("class","grid-cell"),e.forEach((e=>{e.className&&A.select(`g.matrix #grid-${e.row}-${e.col}`).raise().classed(e.className,!0)}))},in_out_mapping(e,t,a="selection"){const n="input_tbl"===t?this.input_tbl.in2out:this.output_tbl.out2in;if(0===Object.keys(n).length)return[];let r=[],i=[];for(let l in e)e[l].forEach((e=>{i=i.concat(n[`[${e[0]},${e[1]}]`])}));return i&&i.forEach((e=>{if(e&&e.startsWith("[")&&e.endsWith("]")){let t=JSON.parse(e);r.push({row:t[0],col:t[1],className:a})}})),r},doRectanglesIntersect(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y},highlightNodes(e){const t=new Set;e.forEach((e=>{const a=e[0],n=e[1],r=e[2]-e[0]+1,i=e[3]-e[1]+1,l={x:n,y:a,width:i,height:r};for(let o in this.input_tbl.in2nodes){const[e,a,n,r]=o.split("-").map((e=>Number(e)));console.log(l,o,this.doRectanglesIntersect(l,{x:e,y:a,width:n,height:r})),this.doRectanglesIntersect(l,{x:e,y:a,width:n,height:r})&&this.input_tbl.in2nodes[o].forEach((e=>{t.add(e)}))}})),A.selectAll(".type-node").classed("selection",!1);for(let a of t)console.log(`.type-node.node-rect-${a}`),A.select(`.type-node.node-rect-${a}`).classed("selection",!0)},getHightlightedCells(e,t="selection"){let a={},n=[];return e.forEach((e=>{const r=e[0],i=e[1],l=e[2],o=e[3];a[e.toString()]=[];for(let s=r;s<=l;s++)for(let r=i;r<=o;r++)a[e.toString()].push([s,r]),n.push({row:s,col:r,className:t})})),{selectedCoords:a,hightedCells:n}},grid_cell_click(e,t="selection"){let a=[{...e,className:t}];this.highlightTblCells("input_tbl",a);let n=this.in_out_mapping({0:[[e.row,e.col]]},"input_tbl",t);this.highlightTblCells("output_tbl",n)},startPoint(e){let t=e[0];const a=new Set([t[0]]),n=new Set([t[1]]);for(let r=1;r<e.length;r++){let i=e[r];a.add(i[0]),n.add(i[1]),(i[0]<t[0]||i[0]===t[0]&&i[1]<t[1])&&(t=i)}return{topLeft:t,rowSize:a.size,colSize:n.size}},setSpec(){try{let e=this.editor.mappingSpec.code;if(""===e.trim())return!1;e+=this.editor.mappingSpec.codeSuff;const t=L.transpileModule(e,{compilerOptions:{target:L.ScriptTarget.ES2015,module:L.ModuleKind.CommonJS}}),a=new Function("TableTidierKeyWords",t.outputText),n=a(p.YR);return this.spec.rawSpecs=n,this.spec.visTree.children=JSON.parse(JSON.stringify(n,((e,t)=>"function"===typeof t?"function":t))),!0}catch(e){return j.Ay.error(`Failed to parse the specification:\n ${e}`),!1}},transformTablebyCode(){if(null==this.editor.mappingSpec.errorMark)try{const e=this.spec.rawSpecs;this.spec.visTreeMatchPath={};const t=this.transformTblUpdateRootArea(e);if(this.initTblInfo(!1),this.tree.visInst?.render(),0===Object.keys(t).length)return void j.Ay.warning("The output table is empty based on the specification.");this.derivePosiMapping(t),this.output_tbl.instance.updateData(this.output_tbl.tbl),this.output_tbl.instance.updateSettings({colHeaders:this.output_tbl.cols})}catch(e){let t;console.log(e),t=e instanceof f?`Failed to transform the table based on the specification:\n ${e}`:`Failed to parse the specification:\n ${e}`,j.Ay.error(t)}else{const e=this.editor.mappingSpec.errorMark;j.Ay.error(`Invalid syntax at Line ${e.startLineNumber}, Column ${e.startColumn}:\n ${e.message}`)}},derivePosiMapping(e){const t=Object.keys(e);this.output_tbl.cols=t;const a=Math.max(...t.map((t=>e[t].length)));for(let n=0;n<a;n++){const a=[];for(let r=0;r<t.length;r++){const i=t[r];let l;l=e[i].length<=n?{x:-1,y:-1,value:void 0}:e[i][n],a.push(l.value);let o=`[${l.y},${l.x}]`;const s=`[${n},${r}]`;l.x<0||l.y<0?o="":this.input_tbl.in2out.hasOwnProperty(o)?this.input_tbl.in2out[o].push(s):this.input_tbl.in2out[o]=[s],this.output_tbl.out2in.hasOwnProperty(s)?this.output_tbl.out2in[s].push(o):this.output_tbl.out2in[s]=[o]}this.output_tbl.tbl.push(a)}},generateGrid(e,t){const a=[];for(let n=0;n<e;n++)for(let e=0;e<t;e++)a.push({row:n,col:e});return a},computeTblPatternGrid(){const e=JSON.parse(JSON.stringify(this.spec.visTree.children[0])),t=this.generateGrid(e.height,e.width),a=[e],n=[e.x,e.y,e.x+e.width,e.y+e.height];while(a.length){const r=a.shift();if(!r)continue;const i=r.x-n[0],l=r.y-n[1];if(i>=0&&l>=0&&r.x+r.width<=n[2]&&r.y+r.height<=n[3]){let a=0;for(let n=0;n<r.height;n++)for(let o=0;o<r.width;o++){const s=t[(l+n)*e.width+(i+o)];if("position"===r.type){const e=r.extract.byPositionToTargetCols[a];void 0!==e&&null!==e&&""!==e?(s.bgColor=M.typeMapColor.position,s.text=e):s.bgColor=M.typeMapColor.null}else s.bgColor=M.typeMapColor[r.type];a++}t[(r.y-n[1])*e.width+(r.x-n[0])].bgColor=M.typeMapColor[r.type]}r.children&&a.push(...r.children)}return t},initTblInfo(e=!0){e&&(this.input_tbl.tbl=[],this.input_tbl.instance.updateData(this.input_tbl.tbl)),this.input_tbl.in2out={},this.output_tbl.tbl=[],this.output_tbl.cols=[],this.output_tbl.out2in={},this.output_tbl.instance.updateData(this.output_tbl.tbl),this.output_tbl.instance.updateSettings({colHeaders:this.output_tbl.cols})},deleteChildByPath(e,t){if(0===t.length)return;const a=t.slice(0,-1),n=t[t.length-1];if(0===a.length)return void e.splice(n,1);const r=this.getNodebyPath(e,a);r&&r.children&&(r.children.splice(n,1),0===r.children.length&&delete r.children)},getNodebyPath(e,t){if(0===t.length)return null;let a=e;for(let n=0;n<t.length;n++){const e=t[n];if(!a[e])return null;if(n===t.length-1)return a[e];a=a[e].children||[]}return null},stringifySpec(e=null,t="even",a=!0){let n=[];null===e&&(e=this.spec.rawSpecs);let r=JSON.stringify(e,o,2);n.forEach((e=>{r=r.replace('"$TableTidier$"',e)}));const i=/"(\w+)":/g;r=r.replace(i,"$1:");const l=/"TableTidierKeyWords\.(\w+)"/g;function o(e,a){return"function"===typeof a?(n.push(z[t](a.toString())),"$TableTidier$"):a}return r=r.replace(l,"TableTidierKeyWords.$1"),"all"===t&&(r=z.all(r)),a&&(this.spec.undoHistory.push(this.editor.mappingSpec.code),this.spec.redoHistory=[],this.editor.mappingSpec.code=this.editor.mappingSpec.codePref+r),r},selectArea(){const e=this.spec.selectNode,t=this.spec.areaFormData,a={match:{startCell:{referenceAreaLayer:t.referenceAreaLayer,referenceAreaPosi:t.referenceAreaPosi,xOffset:t.position.x,yOffset:t.position.y},size:{width:t.size.width,height:t.size.height},traverse:{xDirection:t.traverse.xDirection,yDirection:t.traverse.yDirection}}};if(0===e.path.length)this.spec.rawSpecs.push(a);else{const t=this.getNodebyPath(this.spec.rawSpecs,e.path);if(null===t)return void j.Ay.error("The node path is invalid");t.hasOwnProperty("children")&&void 0!=t.children?t.children.push(a):t.children=[a]}this.stringifySpec()},copyAttributes(e,t,a){for(const n of a)e.hasOwnProperty(n)&&(t[n]=e[n])},copyTreeAttributes(e,t,a=["width","height","x","y"]){if(this.copyAttributes(e,t,a),e.children&&t.children){e.children.length>t.children.length&&(console.log(e.children),console.log(t.children));for(let n=0;n<e.children.length;n++)this.copyTreeAttributes(e.children[n],t.children[n],a)}},highlightCode(e,t=e,a="nullShallow"){const n=this.editor.mappingSpec.instance,r=this.editor.mappingSpec.decorations;if(n&&r){const i=new S.Q6(e,1,t,1),l=[{range:i,options:{isWholeLine:!0,className:a}}];r.set(l),n.revealRangeAtTop(i)}}},getters:{}});var $=a(93230);const E={class:"view"},D={class:"view-title"},R=(0,r.Lk)("span",{class:"head-text"},"Input Table",-1),I={style:{float:"right","margin-right":"20px"}},B={class:"controller"},W=(0,r.Lk)("span",null,"Upload",-1),H={class:"view-content"},U={id:"input-tbl"},Q={class:"view"},K={class:"view-title"},V=(0,r.Lk)("span",null,"Output Table",-1),Y={style:{float:"right","margin-right":"20px"}},X=(0,r.Lk)("span",null,"Download",-1),G={class:"view-content"},Z={id:"output-tbl"};var q=(0,r.pM)({__name:"InOutTable",setup(e){(0,d.um)();const t=N(),a=(0,s.KR)(t.output_tbl.cols),n=(0,s.KR)(t.output_tbl.tbl),i=(0,s.KR)(t.input_tbl.tbl);let l,o;function h(e,t,a,n,r,i,l){u.Ay.renderers.TextRenderer.apply(this,arguments),t.innerHTML=`<div class="truncated">${i}</div>`}const A=(0,s.KR)([]);let p=[];const f=e=>{try{const t=new FileReader;t.onload=t=>{const a=t.target?.result,n=$.LF(a,{type:"array"}),r=n.SheetNames[0],i=n.Sheets[r],l=$.Wp.sheet_to_json(i,{header:1}),o=Math.max(...l.map((e=>e.length)));p=l.map((e=>{while(e.length<o)e.push(void 0);return e})),m(),e.onSuccess("ok")},t.readAsArrayBuffer(e.file)}catch(t){j.Ay.error(`${e.file.name} file uploaded failed.\n${t}`)}},g=()=>{t.initTblInfo(),t.transformTblUpdateRootArea()},m=()=>{t.initTblInfo(),t.input_tbl.tbl=p,t.input_tbl.instance.updateData(p),t.input_tbl.instance.render(),t.transformTblUpdateRootArea()};function v(e){return e.map((e=>e.map((e=>`${void 0===e?"":e}`)).join(","))).join("\n")}const b=()=>{if(0===t.output_tbl.cols.length)return void j.Ay.warning("The output table is empty.");const e=v([t.output_tbl.cols,...t.output_tbl.tbl]),a=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download="tidy table.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),j.Ay.success("The output table has been downloaded successfully.")};function y(e){return e.map((([e,t,a,n])=>{e<0&&(e=0),t<0&&(t=0),a<0&&(a=0),n<0&&(n=0);const r=Math.min(e,a),i=Math.max(e,a),l=Math.min(t,n),o=Math.max(t,n);return[r,l,i,o]}))}function x(e){let a,n;const r="input_tbl"===e?"output_tbl":"input_tbl";"input_tbl"===e?(a=l,n=o):(a=o,n=l),a.updateSettings({outsideClickDeselects:a=>{if("wtHolder"===a?.className)return!1;{n.updateSettings({cell:[]}),t.highlightMinimapCells([]);const r=document.querySelectorAll(".type-node");return r.forEach((e=>{e.classList.remove("selection")})),"input_tbl"===e&&("string"!==typeof a?.className||a?.className.startsWith("mtk")||"view-line"===a?.className||t.editor.mappingSpec.decorations?.clear()),!0}}}),a.addHook("afterOnCellMouseDown",(()=>{n.updateSettings({cell:[]})})),a.addHook("afterOnCellMouseUp",((n,i,l)=>{if(t.specMode)return;const o=y(a.getSelected()||[]),{selectedCoords:s,hightedCells:c}=t.getHightlightedCells(o),d=t.in_out_mapping(s,e);if(t.highlightTblCells(r,d),"output_tbl"===e?t.highlightMinimapCells(d):t.highlightMinimapCells(c),"input_tbl"===e&&(t.highlightNodes(o),t.spec.selectAreaFlag)){const e=t.spec.areaConfig;e.match.startCell={referenceAreaLayer:"root",referenceAreaPosi:"topLeft",xOffset:o[0][1]<0?0:o[0][1],yOffset:o[0][0]<0?0:o[0][0]},e.match.size={width:o[0][3]-o[0][1]+1,height:o[0][2]-o[0][0]+1},e.match.traverse={xDirection:"after",yDirection:"after"};const a=t.spec.areaFormData;a.referenceAreaLayer=e.match.startCell?.referenceAreaLayer,a.referenceAreaPosi=e.match.startCell?.referenceAreaPosi,a.position={x:e.match.startCell?.xOffset,y:e.match.startCell?.yOffset},a.traverse={xDirection:e.match.traverse?.xDirection,yDirection:e.match.traverse?.yDirection},a.size={width:e.match.size?.width,height:e.match.size?.height},t.spec.dragConfigOpen=!0}}))}return(0,r.sV)((()=>{const e=(0,r.nI)()?.proxy;l=e.$refs.inputTbl.hotInstance,o=e.$refs.outputTbl.hotInstance,t.input_tbl.instance=l,t.output_tbl.instance=o,x("input_tbl"),x("output_tbl")})),(e,t)=>{const l=(0,r.g2)("v-icon"),o=(0,r.g2)("a-button"),d=(0,r.g2)("a-upload");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",E,[(0,r.Lk)("div",D,[R,(0,r.Lk)("span",I,[(0,r.Lk)("span",B,[(0,r.bF)(d,{"file-list":A.value,"onUpdate:fileList":t[0]||(t[0]=e=>A.value=e),"max-count":1,accept:".csv, .txt, .xls, .xlsx",customRequest:f,onRemove:g,onPreview:m,showUploadList:{showRemoveIcon:!0}},{default:(0,r.k6)((()=>[(0,r.bF)(o,{size:"small"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{name:"bi-upload",scale:"0.85"}),W])),_:1})])),_:1},8,["file-list"])])])]),(0,r.Lk)("div",H,[(0,r.Lk)("div",U,[(0,r.bF)((0,s.R1)(c.sH),{ref:"inputTbl",data:i.value,rowHeaders:!0,colHeaders:!0,manualColumnResize:!0,autoWrapRow:!0,autoWrapCol:!0,contextMenu:!0,renderer:h,licenseKey:"non-commercial-and-evaluation"},null,8,["data"])])])]),(0,r.Lk)("div",Q,[(0,r.Lk)("div",K,[V,(0,r.Lk)("span",Y,[(0,r.bF)(o,{size:"small",onClick:b},{default:(0,r.k6)((()=>[(0,r.bF)(l,{name:"bi-download",scale:"0.85"}),X])),_:1})])]),(0,r.Lk)("div",G,[(0,r.Lk)("div",Z,[(0,r.bF)((0,s.R1)(c.sH),{ref:"outputTbl",data:n.value,rowHeaders:!0,colHeaders:a.value,manualColumnResize:!0,renderer:h,contextMenu:!0,autoWrapRow:!0,autoWrapCol:!0,licenseKey:"non-commercial-and-evaluation"},null,8,["data","colHeaders"])])])])],64)}}});const ee=q;var te=ee,ae=(0,r.pM)({__name:"CodeView",props:{codeType:{}},setup(e){const{codeType:t}=e,a=N(),n={value:"",language:a.editor[t].language,theme:"vs",fontSize:14,glyphMargin:!1,automaticLayout:!1,autoIndent:"advanced",readOnly:!1,minimap:{enabled:"rootArea"===t},lineNumbersMinChars:1,scrollBeyondLastLine:!1,padding:{bottom:80}},i=(0,s.KR)(null);let l=null;const o=/\s+/g,c=(e,t)=>e.replace(o,"")===t.replace(o,""),d=()=>{l&&l.dispose();const e={...n,value:a.editor[t].code};l=S.EN.create(i.value,e),l.onDidBlurEditorText((()=>{const e=S.EN.getModelMarkers({});if("mappingSpec"===t){if(e.length>0)return void(a.editor.mappingSpec.errorMark=e[0]);a.editor.mappingSpec.errorMark=null}const n=l.getValue();c(a.editor[t].code,n)||("mappingSpec"===t&&(a.spec.undoHistory.push(a.editor.mappingSpec.code),a.spec.redoHistory=[]),a.editor[t].code=n)})),"mappingSpec"===t&&l.onDidChangeModelContent((()=>{a.editor.mappingSpec.decorations?.clear()}))};if((0,r.wB)((()=>a.editor.rootArea.code),(e=>{a.editor.rootArea.instance?.setValue(e)})),"mappingSpec"===t){const e="ts:grammar.ts",t=S.EN.getModels().find((t=>t.uri.toString()===e));t||fetch("./grammar.ts").then((t=>{t.text().then((t=>{S.eo.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!1}),S.eo.typescript.javascriptDefaults.setCompilerOptions({target:S.eo.typescript.ScriptTarget.ES2015,allowNonTsExtensions:!0}),S.eo.typescript.javascriptDefaults.addExtraLib(t,e),S.EN.createModel(t,"typescript",S.zn.parse(e))}))}))}return(0,r.sV)((()=>{d(),l&&(a.editor[t].instance=l,"mappingSpec"===t&&(a.editor.mappingSpec.decorations=l.createDecorationsCollection([])))})),(0,r.hi)((()=>{l&&l.dispose()})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"editorWrapper",ref:i,class:"editor-container"},null,512))}});const ne=ae;var re=ne;const ie={class:"view"},le={class:"view-title"},oe=(0,r.Lk)("span",null,"Minimap",-1),se=(0,r.Lk)("span",null,"Reset View",-1),ce={class:"view-content"};var de=(0,r.pM)({__name:"Minimap",setup(e){const t=N(),a=(0,s.KR)(null);let n,i=0,l=0,o=null;function c(){o&&a.value&&A.select(a.value).select("svg").transition().duration(750).call(o.transform,A.zoomIdentity)}const d=(e,r)=>{if(!a.value)return;A.select(a.value).selectAll("svg").remove();const s=a.value.clientWidth,c=a.value.clientHeight;let d=Math.max(5,Math.min(45,Math.floor(s/r))),u=Math.max(5,Math.min(20,Math.floor(c/e)));d=u=Math.min(d,u),o=A.zoom().on("zoom",(function(e){A.select("g.matrix").attr("transform",`translate(${i+e.transform.x}, ${l+e.transform.y}) scale(${e.transform.k})`)}));const h=A.select(a.value).append("svg").attr("width",s).attr("height",c).call(o),p=h.append("g").classed("matrix",!0),f=t.generateGrid(e,r);p.selectAll("rect").data(f).enter().append("rect").classed("grid-cell",!0).attr("x",(e=>e.col*d)).attr("y",(e=>e.row*u)).attr("id",(e=>`grid-${e.row}-${e.col}`)).attr("width",d).attr("height",u).on("click",(function(e,a){A.selectAll("rect.grid-cell").attr("class","grid-cell"),A.select(this).raise().classed("selection",!0),t.grid_cell_click({row:a.row,col:a.col}),t.input_tbl.instance.deselectCell(),t.output_tbl.instance.deselectCell()})).append("title").text((e=>`Position: (${e.row}, ${e.col})`));i=Math.max((s-p.node().getBBox().width)/2,0),l=Math.max((c-p.node().getBBox().height)/2,0),p.attr("transform",`translate(${i}, ${l})`),n=A.zoomIdentity};return(0,r.sV)((()=>{a.value})),(0,r.wB)((()=>t.input_tbl.tbl),(e=>{0===e.length?A.select(a.value).selectAll("svg").remove():d(e.length,e[0].length)})),(e,t)=>{const n=(0,r.g2)("v-icon"),i=(0,r.g2)("a-button");return(0,r.uX)(),(0,r.CE)("div",ie,[(0,r.Lk)("div",le,[oe,(0,r.bF)(i,{size:"small",style:{float:"right","margin-right":"5px"},onClick:c},{default:(0,r.k6)((()=>[(0,r.bF)(n,{name:"bi-arrow-clockwise",scale:"0.9"}),se])),_:1})]),(0,r.Lk)("div",ce,[(0,r.Lk)("div",{ref_key:"container",ref:a,class:"grid-container"},null,512)])])}}});const ue=de;var he=ue,Ae=a(81958);const pe={class:"view",style:{flex:"4.5"}},fe={class:"view-title"},ge=(0,r.Lk)("span",null,"Pattern Panel",-1),me=(0,r.Lk)("span",null,"Reset View",-1),ve={class:"view-content",style:{display:"flex"}},be={style:{flex:"1"}},ye={style:{flex:"1","margin-left":"5px"}};var xe=(0,r.pM)({__name:"PatternVis",setup(e){const t=N(),a=(0,r.EW)((()=>t.tree.menuList)),n=(0,r.EW)((()=>t.tree.contextMenuVisible&&t.tree.menuList.length>0)),i=e=>{t.tree.contextMenuVisible=e,setTimeout((()=>{t.tree.menuList=[]}),200)},l=e=>{const a=t.spec.selectNode;switch(e.key){case"0":j.Ay.info("Please reselect the template's area in the input table."),t.spec.selectAreaFlag=2;break;case"1":j.Ay.info("Please select the constrained cell in the input table."),t.spec.selectAreaFlag=3;break;case"2-0":break;case"2-1":break;case"2-2":break;case"3":j.Ay.info("Please select an area in the input table."),t.spec.selectAreaFlag=1;break;case"4":t.deleteChildByPath(t.spec.rawSpecs,a.path),t.stringifySpec();break}t.tree.contextMenuVisible=!1},o=(0,s.KR)(null);function c(){d(t.spec.visTree),m()}const d=e=>{const a=new Ae.TreeChart([2,1],".tree-container",e,t,1,"h");a.render(),t.tree.visInst=a},u=(0,s.KR)(null);let h,p=0,f=0,g=null;const m=()=>{if(!u.value)return;A.select(u.value).selectAll("svg").remove();const e=t.spec.visTree.children;if(void 0===e||0===e.length||0===e[0].width||0===e[0].height)return;const a=u.value.clientWidth,n=u.value.clientHeight;let r=Math.max(5,Math.min(90,Math.floor(a/e[0].width))),i=Math.max(5,Math.min(30,Math.floor(n/e[0].height)));g=A.zoom().on("zoom",(function(e){A.select("g.tbl-template").attr("transform",`translate(${p+e.transform.x}, ${f+e.transform.y}) scale(${e.transform.k})`),d(e.transform.k)}));const l=A.select(u.value).append("svg").attr("width",a).attr("height",n).call(g),o=l.append("g").classed("tbl-template",!0);let s=null;const c=t.computeTblPatternGrid();o.selectAll("rect").data(c).enter().append("rect").classed("tbl-template-cell",!0).attr("x",(e=>e.col*r)).attr("y",(e=>e.row*i)).attr("width",r).attr("height",i).attr("fill",(e=>e.bgColor?e.bgColor:"#f9f7ff")).attr("stroke","#cccccc").on("mouseover",(function(){A.select(this).raise().attr("stroke-width",2),s&&s.raise()})).on("mouseout",(function(){A.select(this).attr("stroke-width",1)})).on("click",(function(a,n){const r=n.row+e[0].y,i=n.col+e[0].x;A.select(`#grid-${r}-${i}`).dispatch("click"),t.highlightNodes([[r,i,r,i]]),t.input_tbl.instance.deselectCell(),t.output_tbl.instance.deselectCell()})).append("title").text((e=>e.text?"Target Col: "+e.text:null));p=Math.max((a-o.node().getBBox().width)/2,0),f=Math.max((n-o.node().getBBox().height)/2,0),o.attr("transform",`translate(${p}, ${f})`),h=A.zoomIdentity;const d=e=>{const t=r*e,a=i*e;t>=90||a>=30?s?s.style("display","block"):s=o.selectAll("text").data(c).enter().append("text").classed("tbl-template-text",!0).attr("x",(e=>e.col*r+r/2)).attr("y",(e=>e.row*i+i/2)).attr("dy",".30em").attr("font-size",15/e).attr("fill",(e=>e.textColor?e.textColor:"#f9f7ff")).attr("text-anchor","middle").text((e=>e.text?e.text:"")).each((function(e){const t=A.select(this);let a=t.text(),n=this.getComputedTextLength();while(n>r&&a.length>0)a=a.slice(0,-1),t.text(a+"…"),n=this.getComputedTextLength()})).style("display","block").style("pointer-events","none"):s&&s.style("display","none")};d(1)};return(0,r.wB)((()=>t.editor.mappingSpec.code),(e=>{t.editor.mappingSpec.instance?.setValue(e);const a=t.setSpec();if(a)try{const{rootArea:e}=T(t.input_tbl.tbl,t.spec.rawSpecs,!1);t.copyTreeAttributes(e,t.spec.visTree),d(t.spec.visTree),m(),t.input_tbl.in2nodes={},t.traverseTree4UpdateIn2Nodes(t.spec.visTree.children)}catch(n){j.Ay.error(`Failed to parse the specification:\n ${n}`)}})),(0,r.sV)((()=>{o.value})),(e,t)=>{const s=(0,r.g2)("v-icon"),d=(0,r.g2)("a-button"),h=(0,r.g2)("a-menu"),A=(0,r.g2)("a-dropdown");return(0,r.uX)(),(0,r.CE)("div",pe,[(0,r.Lk)("div",fe,[ge,(0,r.bF)(d,{id:"draw_tree",size:"small",style:{float:"right","margin-right":"20px"},onClick:c},{default:(0,r.k6)((()=>[(0,r.bF)(s,{name:"bi-arrow-clockwise",scale:"0.9"}),me])),_:1})]),(0,r.Lk)("div",ve,[(0,r.Lk)("div",be,[(0,r.Lk)("div",{class:"tbl-container",ref_key:"tblContainer",ref:u},null,512)]),(0,r.Lk)("div",ye,[(0,r.bF)(A,{trigger:["contextmenu"],open:n.value,onOpenChange:i},{overlay:(0,r.k6)((()=>[(0,r.bF)(h,{onClick:l,items:a.value},null,8,["items"])])),default:(0,r.k6)((()=>[(0,r.Lk)("div",{class:"tree-container",ref_key:"treeContainer",ref:o},null,512)])),_:1},8,["open"])])])])}}});const ke=xe;var we=ke,Ce=a(24232),Oe=a(77398);const Je=(0,r.Lk)("span",null,"x (col):",-1),Te=(0,r.Lk)("span",null,"y (row):",-1),je=(0,r.Lk)("span",null,"width:",-1),Se=(0,r.Lk)("span",null,"height:",-1);var Le=(0,r.pM)({__name:"DraggableModal",setup(e){const t=N(),a=t.spec.areaConfig,n=(0,s.KR)(t.spec.areaFormData);t.spec.areaFormData=n.value;const i=e=>{h(),t.selectArea()},l=(0,r.EW)((()=>t.spec.dragConfigOpen)),o=(0,s.KR)(),{x:c,y:d,isDragging:u}=(0,Oe.PMY)(o),h=()=>{t.spec.dragConfigOpen=!1,t.spec.selectAreaFlag=0},A=(0,s.KR)(0),p=(0,s.KR)(0),f=(0,s.KR)(!1),g=(0,s.KR)(0),m=(0,s.KR)(0),v=(0,s.KR)(0),b=(0,s.KR)(0),y=(0,s.KR)({left:0,right:0,top:0,bottom:0});(0,r.wB)([c,d],(()=>{if(!f.value){A.value=c.value,p.value=d.value;const e=document.body.getBoundingClientRect(),t=o.value.getBoundingClientRect();y.value.right=e.width-t.width,y.value.bottom=e.height-t.height,v.value=g.value,b.value=m.value}f.value=!0})),(0,r.wB)(u,(()=>{u||(f.value=!1)})),(0,r.nT)((()=>{f.value&&(g.value=v.value+Math.min(Math.max(y.value.left,c.value),y.value.right)-A.value,m.value=b.value+Math.min(Math.max(y.value.top,d.value),y.value.bottom)-p.value)}));const x=(0,r.EW)((()=>({transform:`translate(${g.value}px, ${m.value}px)`})));return(e,t)=>{const c=(0,r.g2)("a-divider"),d=(0,r.g2)("a-col"),u=(0,r.g2)("a-radio-button"),A=(0,r.g2)("a-radio-group"),p=(0,r.g2)("a-row"),f=(0,r.g2)("a-modal");return(0,r.uX)(),(0,r.Wv)(f,{ref:"modalRef",open:l.value,"onUpdate:open":t[8]||(t[8]=e=>l.value=e),"wrap-style":{overflow:"hidden"},onCancel:h,onOk:i,okText:"Confirm",width:"600px"},{title:(0,r.k6)((()=>[(0,r.Lk)("div",{ref_key:"modalTitleRef",ref:o,style:{width:"100%",cursor:"move"}},"Template Area",512)])),modalRender:(0,r.k6)((({originVNode:e})=>[(0,r.Lk)("div",{style:(0,Ce.Tr)(x.value)},[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e)))],4)])),default:(0,r.k6)((()=>[(0,r.Lk)("div",null,[(0,r.Lk)("div",null,[(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.eW)("startCell")])),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{flex:"100px"},{default:(0,r.k6)((()=>[(0,r.eW)("referenceAreaLayer")])),_:1}),(0,r.bF)(d,{flex:"auto"},{default:(0,r.k6)((()=>[(0,r.bF)(A,{value:n.value.referenceAreaLayer,"onUpdate:value":t[0]||(t[0]=e=>n.value.referenceAreaLayer=e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,{value:"current"},{default:(0,r.k6)((()=>[(0,r.eW)("current")])),_:1}),(0,r.bF)(u,{value:"parent"},{default:(0,r.k6)((()=>[(0,r.eW)("parent")])),_:1}),(0,r.bF)(u,{value:"root"},{default:(0,r.k6)((()=>[(0,r.eW)("root")])),_:1}),(0,r.bF)(u,{value:"areaLayerFn",title:"areaLayerFn"},{default:(0,r.k6)((()=>[(0,r.eW)("Custom Func")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{flex:"100px"},{default:(0,r.k6)((()=>[(0,r.eW)("referenceAreaPosition")])),_:1}),(0,r.bF)(d,{flex:"auto"},{default:(0,r.k6)((()=>[(0,r.bF)(A,{value:n.value.referenceAreaPosi,"onUpdate:value":t[1]||(t[1]=e=>n.value.referenceAreaPosi=e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,{value:"topLeft"},{default:(0,r.k6)((()=>[(0,r.eW)("topLeft")])),_:1}),(0,r.bF)(u,{value:"topRight"},{default:(0,r.k6)((()=>[(0,r.eW)("topRight")])),_:1}),(0,r.bF)(u,{value:"bottomLeft"},{default:(0,r.k6)((()=>[(0,r.eW)("bottomLeft")])),_:1}),(0,r.bF)(u,{value:"bottomRight"},{default:(0,r.k6)((()=>[(0,r.eW)("bottomRight")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{flex:"100px"},{default:(0,r.k6)((()=>[(0,r.eW)("Start Position")])),_:1}),(0,r.bF)(d,{flex:"auto"},{default:(0,r.k6)((()=>[Je,(0,r.bF)(A,{value:n.value.position.x,"onUpdate:value":t[2]||(t[2]=e=>n.value.position.x=e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,{value:(0,s.R1)(a).match.startCell.xOffset},{default:(0,r.k6)((()=>[(0,r.eW)((0,Ce.v_)((0,s.R1)(a).match.startCell.xOffset),1)])),_:1},8,["value"]),(0,r.bF)(u,{value:"offsetFn",title:"areaLayerFn"},{default:(0,r.k6)((()=>[(0,r.eW)("Custom Func")])),_:1})])),_:1},8,["value"]),Te,(0,r.bF)(A,{value:n.value.position.y,"onUpdate:value":t[3]||(t[3]=e=>n.value.position.y=e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,{value:(0,s.R1)(a).match.startCell.yOffset},{default:(0,r.k6)((()=>[(0,r.eW)((0,Ce.v_)((0,s.R1)(a).match.startCell.yOffset),1)])),_:1},8,["value"]),(0,r.bF)(u,{value:"offsetFn",title:"areaLayerFn"},{default:(0,r.k6)((()=>[(0,r.eW)("Custom Func")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})]),(0,r.Lk)("div",null,[(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.eW)("size")])),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{flex:"5"},{default:(0,r.k6)((()=>[je,(0,r.bF)(A,{value:n.value.size.width,"onUpdate:value":t[4]||(t[4]=e=>n.value.size.width=e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,{value:(0,s.R1)(a).match.size.width},{default:(0,r.k6)((()=>[(0,r.eW)((0,Ce.v_)((0,s.R1)(a).match.size.width),1)])),_:1},8,["value"]),(0,r.bF)(u,{value:null,title:"Don't specify"},{default:(0,r.k6)((()=>[(0,r.eW)("null")])),_:1})])),_:1},8,["value"])])),_:1}),(0,r.bF)(d,{flex:"5"},{default:(0,r.k6)((()=>[Se,(0,r.bF)(A,{value:n.value.size.height,"onUpdate:value":t[5]||(t[5]=e=>n.value.size.height=e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,{value:(0,s.R1)(a).match.size.height},{default:(0,r.k6)((()=>[(0,r.eW)((0,Ce.v_)((0,s.R1)(a).match.size.height),1)])),_:1},8,["value"]),(0,r.bF)(u,{value:null,title:"Don't specify"},{default:(0,r.k6)((()=>[(0,r.eW)("null")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})]),(0,r.Lk)("div",null,[(0,r.bF)(c,null,{default:(0,r.k6)((()=>[(0,r.eW)("traverse")])),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{flex:"100px"},{default:(0,r.k6)((()=>[(0,r.eW)("x direction:")])),_:1}),(0,r.bF)(d,{flex:"auto"},{default:(0,r.k6)((()=>[(0,r.bF)(A,{value:n.value.traverse.xDirection,"onUpdate:value":t[6]||(t[6]=e=>n.value.traverse.xDirection=e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,{value:"after"},{default:(0,r.k6)((()=>[(0,r.eW)("after")])),_:1}),(0,r.bF)(u,{value:"above"},{default:(0,r.k6)((()=>[(0,r.eW)("above")])),_:1}),(0,r.bF)(u,{value:"whole"},{default:(0,r.k6)((()=>[(0,r.eW)("whole")])),_:1}),(0,r.bF)(u,{value:null,title:"Don't specify"},{default:(0,r.k6)((()=>[(0,r.eW)("null")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{flex:"100px"},{default:(0,r.k6)((()=>[(0,r.eW)("y direction:")])),_:1}),(0,r.bF)(d,{flex:"auto"},{default:(0,r.k6)((()=>[(0,r.bF)(A,{value:n.value.traverse.yDirection,"onUpdate:value":t[7]||(t[7]=e=>n.value.traverse.yDirection=e)},{default:(0,r.k6)((()=>[(0,r.bF)(u,{value:"after"},{default:(0,r.k6)((()=>[(0,r.eW)("after")])),_:1}),(0,r.bF)(u,{value:"above"},{default:(0,r.k6)((()=>[(0,r.eW)("above")])),_:1}),(0,r.bF)(u,{value:"whole"},{default:(0,r.k6)((()=>[(0,r.eW)("whole")])),_:1}),(0,r.bF)(u,{value:null,title:"Don't specify"},{default:(0,r.k6)((()=>[(0,r.eW)("null")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})])])])),_:1},8,["open"])}}});const Me=Le;var Pe=Me;const Fe={id:"panel"},_e={class:"system-name"},ze=(0,r.Lk)("span",{id:"system_name"},"TableTidier",-1),Ne={style:{left:"20px",position:"absolute"}},$e=(0,r.Lk)("span",{style:{"font-size":"16px","font-weight":"normal","margin-right":"5px"}},"Cases:",-1),Ee={style:{right:"20px",position:"absolute"}},De=(0,r.Lk)("span",{style:{"margin-left":"5px"}},"Undo",-1),Re=(0,r.Lk)("span",{style:{"margin-left":"5px"}},"Redo",-1),Ie={class:"main-views"},Be={class:"column",style:{flex:"12"}},We={style:{flex:"1",display:"flex"}},He={style:{flex:"1",display:"flex"}},Ue={class:"column",style:{flex:"5"}},Qe={class:"view"},Ke={class:"view-title"},Ve=(0,r.Lk)("span",null,"Code Panel",-1),Ye={style:{float:"right","margin-right":"20px"}},Xe=(0,r.Lk)("span",null,"Run",-1),Ge={class:"view-content"},Ze=(0,r.Lk)("span",null," Specification ",-1),qe=(0,r.Lk)("span",null," Matched Instances ",-1);var et=(0,r.pM)({__name:"PanelView",setup(e){for(const r in M.typeMapColor)document.documentElement.style.setProperty(`--color-${r}`,M.typeMapColor[r]);const t=N();let a=(0,s.KR)([]);a.value=t.caseList.map((e=>({value:e,label:e})));let n=(0,s.KR)(t.caseList[0]);const i=(0,s.KR)("1"),l=(0,s.KR)(!1),o=(0,r.EW)((()=>0===t.spec.undoHistory.length)),c=(0,r.EW)((()=>0===t.spec.redoHistory.length));function d(){const e=t.spec.undoHistory.pop();void 0!==e&&(t.spec.redoHistory.push(t.editor.mappingSpec.code),t.editor.mappingSpec.code=e)}function u(){const e=t.spec.redoHistory.pop();void 0!==e&&(t.spec.undoHistory.push(t.editor.mappingSpec.code),t.editor.mappingSpec.code=e)}function h(){l.value=!0,t.transformTablebyCode(),l.value=!1}function A(e){if("Escape"===e.key){t.editor.mappingSpec.decorations?.clear(),t.input_tbl.instance.deselectCell(),t.output_tbl.instance.deselectCell(),t.input_tbl.instance.updateSettings({cell:[]}),t.output_tbl.instance.updateSettings({cell:[]}),t.highlightMinimapCells([]);const e=document.querySelectorAll(".type-node");e.forEach((e=>{e.classList.remove("selection")}))}}function p(e){n.value=e,t.loadCaseData(e)}return(0,r.sV)((()=>{document.addEventListener("keydown",A),p(n.value)})),(e,t)=>{const A=(0,r.g2)("a-select"),f=(0,r.g2)("v-icon"),g=(0,r.g2)("a-button"),m=(0,r.g2)("a-button-group"),v=(0,r.g2)("a-tab-pane"),b=(0,r.g2)("a-tabs");return(0,r.uX)(),(0,r.CE)("div",Fe,[(0,r.Lk)("div",_e,[ze,(0,r.Lk)("span",Ne,[$e,(0,r.bF)(A,{ref:"select",value:(0,s.R1)(n),options:(0,s.R1)(a),size:"small",onChange:p,style:{width:"124px"}},null,8,["value","options"])]),(0,r.Lk)("span",Ee,[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(g,{size:"small",onClick:d,disabled:o.value},{default:(0,r.k6)((()=>[(0,r.bF)(f,{name:"io-arrow-undo-outline",scale:"0.9"}),De])),_:1},8,["disabled"]),(0,r.bF)(g,{size:"small",onClick:u,disabled:c.value},{default:(0,r.k6)((()=>[(0,r.bF)(f,{name:"io-arrow-redo-outline",scale:"0.9"}),Re])),_:1},8,["disabled"])])),_:1})])]),(0,r.Lk)("div",Ie,[(0,r.Lk)("div",Be,[(0,r.Lk)("div",We,[(0,r.bF)(te)]),(0,r.Lk)("div",He,[(0,r.bF)(he),(0,r.bF)(we)])]),(0,r.Lk)("div",Ue,[(0,r.Lk)("div",Qe,[(0,r.Lk)("div",Ke,[Ve,(0,r.Lk)("span",Ye,[(0,r.bF)(g,{size:"small",loading:l.value,onClick:h},{default:(0,r.k6)((()=>[(0,r.bF)(f,{name:"la-rocket-solid",scale:"0.85"}),Xe])),_:1},8,["loading"])])]),(0,r.Lk)("div",Ge,[(0,r.bF)(b,{activeKey:i.value,"onUpdate:activeKey":t[0]||(t[0]=e=>i.value=e),type:"card"},{default:(0,r.k6)((()=>[(0,r.bF)(v,{key:"1"},{tab:(0,r.k6)((()=>[Ze])),default:(0,r.k6)((()=>[(0,r.bF)(re,{codeType:"mappingSpec"})])),_:1}),(0,r.bF)(v,{key:"2"},{tab:(0,r.k6)((()=>[qe])),default:(0,r.k6)((()=>[(0,r.bF)(re,{codeType:"rootArea"})])),_:1})])),_:1},8,["activeKey"])])])])]),(0,r.bF)(Pe)])}}});const tt=et;var at=tt,nt=(0,r.pM)({name:"overView",components:{PanelView:at}}),rt=a(71241);const it=(0,rt.A)(nt,[["render",l]]);var lt=it,ot=a(96444),st=a(34385),ct=a(92278),dt=a(13472),ut=a(35678),ht=a(91328),At=a(58849),pt=a(25169),ft=a(54467),gt=a(6311),mt=a(52511),vt=a(50931),bt=a(64089),yt=a(86135),xt=a(63372),kt=a(99604),wt=a(86789),Ct=a(90070),Ot=a(58856),Jt=a(20627);const Tt=(0,h.Ey)(),jt=(0,n.Ef)(lt);jt.use(Tt).use(ot.Ay).use(st.A).use(ct.A).use(dt.A).use(ut.A).use(ht.A).use(At.Ay).use(pt.A).use(ft.Ay).use(gt.Ay).use(mt.Ay).use(vt.Ay).use(bt.A).use(yt.A).use(xt.Ay).use(kt.A),(0,wt.oe)(Ct.tAF,Ct.Ah9,Ot.RqA,Ct.rLf,Jt.Eks,Jt.q_),jt.component("v-icon",wt.Ly),jt.mount("#app")},81958:function(e,t,a){"use strict";a(44114);var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeChart=void 0;const o=i(a(10495)),s=a(8895),c=(l(a(64049)),new KeyboardEvent("keydown",{key:"Escape",code:"Escape",keyCode:27,charCode:27,which:27,bubbles:!0,cancelable:!0}));function d(e){const{startx:t,starty:a,rectWidth:n,rectHeight:r,rounded:i,radius:l}=e;let o;switch(i){case"left":o=`\n      M${t+l},${a+l}\n      a${l},${l} 0 0 1 ${l},-${l}\n      h${n-l}\n      v${r}\n      h${-n+l}\n      a${l},${l} 0 0 1 -${l},-${l}\n      z\n      `;break;case"right":o=`\n      M${t},${a}\n      h${n-l}\n      a${l},${l} 0 0 1 ${l},${l}\n      v${r-2*l}\n      a${l},${l} 0 0 1 ${-l},${l}\n      h ${l-n}\n      z\n      `;break;case"top":o=`\n      M${t},${a+l}\n      a${l},${l} 0 0 1 ${l},-${l}\n      h${n-2*l}\n      a${l},${l} 0 0 1 ${l},${l}\n      v${r-l}\n      h${-n}\n      z`;break;case"bottom":o=`\n      M${t},${a}\n      h${n}\n      v${r-l}\n      a${l},${l} 0 0 1 ${-l},${l}\n      h${2*l-n}\n      a${l},${l} 0 0 1 -${l},-${l}\n      z`;break;case"all":o=`\n      M${t},${a+l}\n      a${l},${l} 0 0 1 ${l},-${l}\n      h${n-2*l}\n      a${l},${l} 0 0 1 ${l},${l}\n      v${r-2*l}\n      a${l},${l} 0 0 1 ${-l},${l}\n      h${2*l-n}\n      a${l},${l} 0 0 1 -${l},-${l}\n      z`;break;default:o=`\n      M${t}${a}\n      h${n}\n      v${r}\n      h${-n}\n      v${-r}\n      z\n      `;break}return o}class u{constructor(e,t,a,n,r=1,i="h"){this.svgWidth=500,this.svgHeight=500,this.margins=e,this.container=t,this.zoomLevel=r,this.orient=i,this.depth=10,this.calculated={},this.treeLayout=null,this.realChart=null,this.previousTransform=null,this.centerX=0,this.root=null,this.allNodes=null,this.defaultFont="Helevtica",this.duration=600,this.data=a,this.store=n,this.zoomed.bind(this),this.setZoomFactor.bind(this),this.batchEnterExitUpdate()}setZoomFactor(){const e=this.centerG.node().getBoundingClientRect().width;let t=this.svgWidth/e;t=t>1?1:t,this.zoomLevel=t,"h"===this.orient?this.centerG.attr("transform",`translate(${this.calculated.nodeMaxWidth/2}, ${this.calculated.centerY}) scale(${t})`):this.centerG.attr("transform",`translate(${this.calculated.centerX}, ${this.calculated.nodeMaxHeight/2}) scale(${t})`)}zoomed(e){this.previousTransform=e.transform,this.realChart.attr("transform",e.transform)}declareContextMenu(e,t){e.preventDefault(),null===t.parent?this.store.tree.menuList=[this.store.tree.menuAllList[3]]:this.store.tree.menuList=this.store.tree.menuAllList,this.store.spec.selectNode=t,this.store.tree.contextMenuVisible=!0}batchEnterExitUpdate(){o.selection.prototype.patternify=function(e){const{tag:t,selector:a}=e,n=e.targetData||[a],r=this.selectAll(`.${a}`).data(n,((e,t)=>"object"===typeof e&&e.id?e.id:t));r.exit().remove();const i=r.enter().append(t).merge(r);return i.attr("class",a),i}}addPathToNodes(e,t=[]){e&&e.forEach(((e,a)=>{const n=[...t,a];e.path=n,this.addPathToNodes(e.children,n)}))}render(){const e=o.select(this.container);e.node().replaceChildren();const t=e.node().getBoundingClientRect();t.width>0&&(this.svgWidth=t.width,this.svgHeight=t.height);const a=s.typeNodeStyle.nodeWidth,n=s.typeNodeStyle.nodeHeight;if(this.calculated={id:`ID${Math.floor(1e6*Math.random())}`,chartVerticalMargin:this.margins[0],chartHorizontalMargin:this.margins[1],chartWidth:this.svgWidth-2*this.margins[0],chartHeight:this.svgHeight-2*this.margins[1],nodeMaxWidth:a,nodeMaxHeight:n,centerX:(this.svgWidth-2*this.margins[0])/2,centerY:(this.svgHeight-2*this.margins[1])/2},this.depth="h"===this.orient?a/2:n+20,this.treeLayout=o.tree().size([this.calculated.chartWidth,this.calculated.chartHeight]),"h"===this.orient?this.treeLayout.nodeSize([this.calculated.nodeMaxHeight+s.typeNodeStyle.nodeSpacing,this.calculated.nodeMaxWidth+this.depth]):this.treeLayout.nodeSize([this.calculated.nodeMaxWidth+s.typeNodeStyle.nodeSpacing,this.calculated.nodeMaxHeight+this.depth]),Array.isArray(this.data))this.root=o.stratify().id((e=>e.nodeId)).parentId((e=>e.parentNodeId))(this.data);else{this.root=o.hierarchy(this.data,(e=>e.children));let e=0;this.root.each((t=>{t.id=e++;const a=t.data;a.id=t.id,void 0===a.extract||null===a.extract?a.type="null":void 0!==a.extract.byPositionToTargetCols?a.type="position":void 0!==a.extract.byContext?a.type="context":void 0!==a.extract.byValue?a.type="value":a.type="null"})),this.root.path=[],this.addPathToNodes(this.root.children)}this.root.x0=0,this.root.y0=0;const r=o.zoom().on("zoom",this.zoomed.bind(this)).bind(this),i=e.patternify({tag:"svg",selector:"svg-chart-container"}).attr("width",this.svgWidth).attr("height",this.svgHeight).attr("font-family",this.defaultFont).call(r.bind(this)).on("dblclick.zoom",null),l=i.patternify({tag:"g",selector:"chart"}).attr("transform",`translate(${this.calculated.chartHorizontalMargin}, ${this.calculated.chartVerticalMargin})`);this.realChart=l;const c=l.patternify({tag:"g",selector:"center-group"});return this.centerG=c,this.update(this.root),this}update(e){const t=this.store,n=this.treeLayout(this.root),r=n.descendants().slice(1),i=n.descendants();"h"===this.orient&&i.forEach(((e,t)=>{const a=e.x;e.x=e.y,e.y=a,0===t&&(e.x=2*s.typeNodeStyle.nodeCircleRadius)}));const{x0:l,y0:u,x:h,y:A}=e,p=this.centerG.selectAll("path.link").data(r,(e=>e.id)),f=o.linkHorizontal(),g=p.enter().insert("path","g").attr("class","link").attr("d",(()=>{const e={source:[l,u],target:[l,u]};return f(e)})),m=g.merge(p);m.attr("fill","none").attr("stroke-width",s.typeNodeStyle.connectorLineWidth).attr("stroke",s.typeNodeStyle.connectorLineColor);let v=0;m.transition().duration(this.duration).attr("d",(e=>{if("h"===this.orient){let t=s.typeNodeStyle.nodeWidth/2;const a=0,n=-s.typeNodeStyle.nodeWidth/2,r=0;"0"==e.parent.id&&(t=s.typeNodeStyle.nodeCircleRadius);const i=e.x+t;i>v&&(v=i);const l={source:[e.parent.x+t,e.parent.y+a],target:[e.x+n,e.y+r]};return f(l)}const t={source:[e.parent.x,e.parent.y+s.typeNodeStyle.nodeHeight/2],target:[e.x,e.y-s.typeNodeStyle.nodeHeight/2]};return f(t)}));p.exit().transition().duration(this.duration).attr("d",(()=>{const e={source:[h,A],target:[h,A]};return f(e)})).remove();const b=this.centerG.selectAll("g.node").data(i,(e=>e.id)),y=b.enter().append("g").attr("class","node").attr("transform",(()=>`translate(${l}, ${u})`)).attr("cursor","pointer"),x=y.patternify({tag:"g",selector:"node-group",targetData:e=>[e]}),k=y.merge(b);k.transition().attr("opaicty",0).duration(this.duration).attr("transform",(e=>`translate(${e.x}, ${e.y})`)).attr("opacity",1),x.attr("transform",(()=>`translate(${-s.typeNodeStyle.nodeWidth/2}, ${-s.typeNodeStyle.nodeHeight/2})`)),x.each((function(e){var n,r,i;const l=o.select(this);if(null===e.parent)return l.patternify({tag:"circle",selector:`node-circle-${e.id}`}),x.select(`.node-circle-${e.id}`).attr("class",`node-circle-${e.id} type-node`).attr("r",s.typeNodeStyle.nodeCircleRadius).attr("fill",s.typeMapColor[e.data.type]).attr("transform",`translate(${s.typeNodeStyle.nodeWidth/2}, ${s.typeNodeStyle.nodeHeight/2})`).attr("cursor","pointer"),l.patternify({tag:"svg:title",selector:"node-tooltip"}),void l.select(".node-tooltip").text("Path: "+JSON.stringify(e.path));const u={rectHeight:s.typeNodeStyle.nodeHeight,rectWidth:s.typeNodeStyle.nodeWidth,starty:0,startx:0,radius:5,rounded:"all"},h=l.patternify({tag:"g",selector:"single-node-g",targetData:e=>[e]});h.patternify({tag:"path",selector:`node-rect-${e.id}`}),h.select(`.node-rect-${e.id}`).attr("class",`node-rect-${e.id} type-node`).attr("d",d(u)).attr("fill",s.typeMapColor[e.data.type]).attr("cursor","pointer");let A=null===(n=e.data.matchs)||void 0===n?void 0:n.length;A=void 0===A?"":`\nMatch: ${A} instances`,h.patternify({tag:"svg:title",selector:"node-tooltip"}),h.select(".node-tooltip").text("Path: "+JSON.stringify(e.path)+A),null===(i=null===(r=e.data.match)||void 0===r?void 0:r.constraints)||void 0===i||i.forEach(((n,r)=>{const i=s.typeNodeStyle.iconsize;l.patternify({tag:"rect",selector:`node-constraint-rect-${e.id}-${r}`});const o=x.select(`.node-constraint-rect-${e.id}-${r}`);o.classed("node-constraint-rect",!0).attr("transform",`translate(${(i+s.typeNodeStyle.iconPadding)*r}, ${-s.typeNodeStyle.nodeHeight/2-3})`).attr("visibility","hidden").attr("width",i+2).attr("height",i+2).attr("stroke",s.typeMapColor.selection).attr("stroke-width",1.5).attr("fill","none"),l.patternify({tag:"image",selector:`node-constraint-icon-${e.id}-${r}`}),x.select(`.node-constraint-icon-${e.id}-${r}`).attr("transform",`translate(${1+(i+s.typeNodeStyle.iconPadding)*r}, ${-s.typeNodeStyle.nodeHeight/2-2})`).attr("xlink:xlink:href",(()=>{const e=a(86305);return e})).attr("width",i).attr("height",i).on("mouseover",((e,t)=>{o.attr("visibility","visible")})).on("mouseout",((e,t)=>{o.attr("visibility","hidden")})).on("click",((e,a)=>{var n;null===(n=t.editor.mappingSpec.instance)||void 0===n||n.setValue(t.editor.mappingSpec.codePref+t.stringifySpec(null,"even",!1)),document.dispatchEvent(c);const i=t.getNodebyPath(t.spec.rawSpecs,a.path),l=t.stringifySpec(t.spec.rawSpecs,"all",!1),o=t.stringifySpec(i,"all",!1),s=t.stringifySpec(i.match.constraints[r],"all",!1),d=o.indexOf(s),u=o.slice(0,d),h=(u.match(/\n/g)||[]).length+1,A=l.indexOf(o),p=l.slice(0,A),f=(p.match(/\n/g)||[]).length+h,g=f+(s.match(/\n/g)||[]).length;t.highlightCode(f,g,`${a.data.type}Shallow`)}))}))})),k.patternify({tag:"text",selector:"node-text"}),k.select(".node-text").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("fill",s.nodeTextStyle.color).attr("font-size",s.nodeTextStyle.fontSize).attr("y",(()=>s.nodeTextStyle.yAxisAdjust)).attr("cursor","pinter").attr("pointer-events","none").text((e=>{var t;if(0===e.id)return"";{let a=e.data.width,n=e.data.height;return void 0!==(null===(t=e.data.match)||void 0===t?void 0:t.size)&&(null===e.data.match.size.width&&(a=null),null===e.data.match.size.height&&(n=null)),`(${a}, ${n})`}})),o.selectAll(".type-node").on("contextmenu",this.declareContextMenu.bind(this)).on("click",(function(e,a){var n,r;e.stopPropagation();const i=a;if(o.selectAll(".type-node").classed("selection",!1),i.id){null===(n=t.editor.mappingSpec.instance)||void 0===n||n.setValue(t.editor.mappingSpec.codePref+t.stringifySpec(null,"even",!1)),o.select(this).classed("selection",!0);const e=i.data,a=[];null===(r=e.matchs)||void 0===r||r.forEach((e=>{const{x:t,y:n,width:r,height:i}=e;a.push([n,t,n+i-1,t+r-1])}));let l=[],s=[];if(a.length>0){const{selectedCoords:n,hightedCells:r}=t.getHightlightedCells(a,`${e.type}Shallow`);l=l.concat(r);const i=t.in_out_mapping(n,"input_tbl",`${e.type}Shallow`);s=s.concat(i),t.highlightMinimapCells(r)}const c=[[e.y,e.x,e.y+e.height-1,e.x+e.width-1]],{selectedCoords:d,hightedCells:u}=t.getHightlightedCells(c,e.type);l=l.concat(u),t.highlightTblCells("input_tbl",l,Object.values(d)[0]);const h=t.in_out_mapping(d,"input_tbl",e.type);s=s.concat(h),t.highlightTblCells("output_tbl",s),t.highlightMinimapCells(u,0===a.length),t.input_tbl.instance.deselectCell(),t.output_tbl.instance.deselectCell();const A=t.getNodebyPath(t.spec.rawSpecs,i.path),p=t.stringifySpec(A,"all",!1),f=t.stringifySpec(t.spec.rawSpecs,"all",!1),g=f.indexOf(p),m=f.slice(0,g),v=(m.match(/\n/g)||[]).length+1,b=v+(p.match(/\n/g)||[]).length;t.highlightCode(v,b,`${e.type}Shallow`)}else document.dispatchEvent(c)}));b.exit().attr("opacity",1).transition().duration(this.duration).attr("transform",`translate(${h},${A})`).on("end",(function(){o.select(this).remove()})).attr("opacity",0);i.forEach((e=>{e.x0=e.x,e.y0=e.y}));const w=Math.max((this.svgWidth-v)/2,0)-s.typeNodeStyle.nodeCircleRadius,C=Math.max((this.svgHeight-this.realChart.node().getBBox().height)/2,0);this.centerG.attr("transform",`translate(${w}, ${C})`)}}t.TreeChart=u},64049:function(e,t,a){"use strict";a.r(t),t["default"]={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875}},8895:function(e,t,a){"use strict";a.r(t),a.d(t,{nodeTextStyle:function(){return i},typeMapColor:function(){return n},typeNodeStyle:function(){return r}});const n={position:"#6ab04c",positionShallow:"#badc58",context:"#f0932b",contextShallow:"#ffbe76",value:"#22a6b3",valueShallow:"#7ed6df",null:"#8395a7",nullShallow:"#c8d6e5",selection:"rgba(9, 132, 227)",selectionShallow:"rgba(9, 132, 227, 0.8)",cellFill:"#f9f7ff",cellStroke:"#cccccc"},r={nodeWidth:100,nodeHeight:30,nodeRectFillColor:"#7EAA55",nodeCircleFillColor:"#83b5ed",nodeCircleRadius:15,nodeBorderRadius:5,verticalLineLength:40,verticalLineWidth:5,nodeSpacing:30,connectorLineColor:"#0000004D",connectorLineWidth:1.5,iconsize:15,iconPadding:10},i={color:"white",fontSize:15,yAxisAdjust:2}},89387:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=89387,e.exports=t},86305:function(e){"use strict";e.exports="data:image/png;base64,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"},530:function(){},72615:function(){},84021:function(){},66247:function(){},82202:function(){},18641:function(){},97664:function(){}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,n,r,i){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],i=e[d][2];for(var o=!0,s=0;s<n.length;s++)(!1&i||l>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(o=!1,i<l&&(l=i));if(o){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{9:"92b25fd5",293:"cc93782e",703:"6b8db0f6",1034:"42caa4ea",1157:"54c726b5",1461:"e92bc401",1477:"290bd091",1813:"2f919813",1915:"ee11ac6c",2149:"c17c85f9",2365:"7690613b",2412:"11ebdadd",2501:"cdbbcd03",2591:"2f6c9f6b",2689:"caa4fbec",2709:"64937498",2799:"184b412d",2965:"d2f616e1",2999:"3dc7f79c",3051:"41b30810",3061:"95be68c2",3071:"70d11158",3445:"be87e6ab",3473:"fb9ef58c",3577:"bb18787e",3691:"80364a2e",3717:"bf6e5d9f",3753:"6c4ee3f4",3765:"1d3c04a7",3775:"432c2d2c",3948:"55fdd701",4205:"df37ef01",4261:"e3ee4d76",4341:"e3ef6b64",4373:"b41ecc24",4485:"3ee3fb7e",4605:"41a293b9",4621:"3f170eab",4805:"d62fc659",4977:"c1e040d7",5077:"d5031a10",5081:"190db17a",5083:"98214cf7",5093:"be4234f2",5282:"b3f08c25",5285:"d0610360",5287:"3fa9d8e8",5303:"8de5c195",5365:"56361d2a",5521:"cf7ee881",5589:"bcad7c5b",5609:"9e498ec2",5653:"70962a1f",5749:"738a857e",5841:"06c82430",6059:"200d1502",6121:"692266a1",6181:"fdb9b6c9",6229:"e201920c",6309:"6df26518",6325:"89f2a27d",6613:"4cf1f45b",6757:"29e39d58",6821:"0225ad68",6845:"9f91df90",7045:"5a9df01c",7217:"553f17c6",7219:"a0db5f28",7449:"e83e23a9",7461:"0f9bd863",7525:"c9755306",7623:"4889f846",7641:"dceb5361",8175:"e179abe0",8285:"abbe3a02",8329:"0778de39",8387:"e5098648",8533:"4847834f",8653:"de07fe1d",8981:"61e6e714",9009:"7586e475",9437:"47c6455f",9445:"be745b28",9626:"b86e75d4",9717:"3e641f4d"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="TableTidier:";a.l=function(n,r,i,l){if(e[n])e[n].push(r);else{var o,s;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(s=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[r];var h=function(t,a){o.onerror=o.onload=null,clearTimeout(A);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(a)})),t)return t(a)},A=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/TableTidier/"}(),function(){var e={3524:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(a,n){r=e[t]=[a,n]}));n.push(r[2]=i);var l=a.p+a.u(t),o=new Error,s=function(n){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+l+")",o.name="ChunkLoadError",o.type=i,o.request=l,r[1](o)}};a.l(l,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,l=n[0],o=n[1],s=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(s)var d=s(a)}for(t&&t(n);c<l.length;c++)i=l[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},n=self["webpackChunkTableTidier"]=self["webpackChunkTableTidier"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(45329)}));n=a.O(n)})();
//# sourceMappingURL=app.c34b79df.js.map